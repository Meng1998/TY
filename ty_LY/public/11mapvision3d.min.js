const _0x329f=['aggregateStats','candidate','bitrate','_webRtcPlayerHtmlElement','WS_OPEN_STATE','SetMousePositionCallback','Point','Response','setUint16','style','packetsLost','yaw','warn','Label','Clear','_sendInputData','SecondaryButton','createDataChannel','SetMapStatus','GetFloorDeviceNames','OpenMap','srcObject','decode','play','floors','onDataChannelConnected','FindObjectByName','slice','UIInteraction','GetObjectsVisible','_command','position','offerExtmapAllowMixed','_webSocket','data','open','answer','OverLayerUpdateObject','exports','candidate-pair','close','MouseDown','timestamp','floor','->\x20SS:\x20Command:\x0a','WebSocket','Position','preventDefault','RequestQualityControl','WS\x20closed:\x20','url','kind','_emitDescriptor','clientWidth','LayersLoad','ToClientMessageType','GetFloorRoomVisible','gid','userAgent','OverLayerFindObject','OverLayerStopEdit','SetObjectsVisible','KeyPress','onWebRtcCandidate','enableKeyboard','createOffer','setUint8','GetBuildingNum','_onMouseUp','highFramerate','aggregatedStats','ResumeRoute','GetFloorDeviceNum','OverLayerStartEdit',')\x20connect','offsetX','_emiUICommand','Open','cirrus','buffer','ResetHome','iframe','FlyToObject','Couldn\x27t\x20create\x20offer','->\x20SS:\x20_requestQualityControl:\x0a','version','data\x20channel\x20(','this._webSocket\x20error:\x20','GetBuildingNames','addEventListener','_webRtcPlayerObj','RightAlt','error','_onMouseMove','readyState','framesDroppedPercentage','OverLayerRemoveObject','Hurray!\x20there\x27s\x20RTCPeerConnection.SetBitrate\x20function','UpdateObjectStyle','Rotate','dcClient','iceCandidate','utf-16','video','framesReceived','QualityControlOwnership','sdpConstraints','frameWidth','_registerKeyboardEvents','use\x20strict','GetHomePosition','GetDownFloorNames','ControlRight','SetFloorRoomVisible','trackIdentifier','invalid\x20SS\x20message\x20type:\x20','MouseEnter','_normalizeAndQuantizeUnsigned','LayerRemove','ResetAllBuildings','onmessage','isRemote','_onWebRtcAnswer','geom','enableMouse','StartRoute',')\x20closed','OverLayerCreateObject','_pressMouseButtons','CreateRoute','CommandType','StopRoute','onmouseup','playerCount','prototype','SetGroundVisible','muted','Polygon','OverLayerRemoveAllCustom','function','_onMouseDown','onDataChannelMessage','GetUpFloorNum','info','building','SetMouseCallback','->\x20SS:\x20iceCandidate\x0a','PlayRoute','timestampStart','onerror','ws://','videoHeight','PrimaryButton','Command','loadedmetadata','SetBuildingVisible','OverLayerCreateObjects','Model3D','type','projectId','AltRight','MouseWheel','framerate','releaseMouseButtons','onopen','1.0.1','ClearObjectStyle','LayerSelectObject','bytesReceivedStart','framesDecoded','FifthButton','GetFloorDeviceVisible','onkeypress','MessageType','_mouseDownStatus','parse','KeyDown','sdp','getElementById','frameHeightStart','send','DOMMouseScroll','http://','receiveAnswer','_unquantizeAndDenormalizeUnsigned','name','offsetY','SetFloorVisible','pitch','buttons','MapStatusType','getStats','onclose','Your\x20browser\x20doesn\x27t\x20support\x20WebSocket','avgBitrate','log','unified-plan','setInt16','GetBuildingVisible','movementX','FourthButton','GetFloorRoomNum','AuxiliaryButton','frameHeight','peerConnectionOptions','frameWidthStart','->\x20SS:\x20UnfreezeFrame:\x0a','LayerSetVisible','keyCode','MouseButtonsMask','SetNorthControl','Parameter\x20ERROR','LayerLoad','lowBitrate','cfg','Closing\x20existing\x20peerClient','lowFramerate','getElementsByTagName','replace','createElement','model','roll','match','framesDecodedStart','ICE\x20candidate:\x20','highBitrate','OverLayerRemoveObjectById','CreateObject','clientHeight','NorthControl','Point2D','_registerCallback','bytesReceived','avgframerate','GetUpFloorNames','->\x20SS:\x20FreezeFrame:\x0a','View3d','_callback','length','SetBuildingWkVisible','RotatePosition','MouseButton','onicegatheringstatechange','SetParameters','$1;x-google-start-bitrate=10000;x-google-max-bitrate=20000\x0d\x0a','onAggregatedStats','_registerTouchEvents','track','pcClient','aggregateStatsIntervalId','code','stringify','_normalizeAndQuantizeSigned','GetFloorVisible','Stop','label','currentRoundTripTime','UpdateObjectVisibleByPrefix','GetDownFloorNum','_onMouseWheel','framesDropped','_createWebRtcPlayer','ontrack'];const _0x150b=function(_0x329f4f,_0x150bf5){_0x329f4f=_0x329f4f-0x0;let _0x2b1c35=_0x329f[_0x329f4f];return _0x2b1c35;};(function(_0x144c1b,_0x5b1a82){if(typeof define===_0x150b('0x8b')&&define['amd']){define(['./adapter'],_0x5b1a82);}else if(typeof exports==='object'){module[_0x150b('0x26')]=_0x5b1a82(require('./adapter'));}else{_0x144c1b['webRtcPlayer']=_0x5b1a82(_0x144c1b['adapter']);}}(this,function(_0xc75ee){function _0x29aba0(_0x2f4801){_0x2f4801=_0x2f4801||{};var _0x39479b=this;this['cfg']=_0x2f4801['peerConnectionOptions']||{};this[_0x150b('0xd6')]['sdpSemantics']=_0x150b('0xc4');this['pcClient']=null;this['dcClient']=null;this['tnClient']=null;this['sdpConstraints']={'offerToReceiveAudio':0x1,'offerToReceiveVideo':0x1};const _0x25ea0b=window['navigator'][_0x150b('0x3a')][_0x150b('0xde')](/Chrom(e|ium)\/([0-9]+)\./);if(_0x25ea0b){const _0x5673b3=parseInt(_0x25ea0b[0x2],0xa);if(_0x5673b3>=0x59){this['cfg'][_0x150b('0x20')]=![];}}this['dataChannelOptions']={'ordered':!![]};createWebRtcVideo=function(){var _0x2686dd=document[_0x150b('0xdb')](_0x150b('0x67'));_0x2686dd['id']='streamingVideo';_0x2686dd['playsInline']=!![];_0x2686dd[_0x150b('0x59')](_0x150b('0x9a'),function(_0x45d9e7){if(_0x39479b['onVideoInitialised']){_0x39479b['onVideoInitialised']();}},!![]);return _0x2686dd;};this['video']=createWebRtcVideo();onsignalingstatechange=function(_0x4777f1){console['info']('signaling\x20state\x20change:',_0x4777f1);};oniceconnectionstatechange=function(_0x522040){console[_0x150b('0x8f')]('ice\x20connection\x20state\x20change:',_0x522040);};onicegatheringstatechange=function(_0x465ef7){console[_0x150b('0x8f')]('ice\x20gathering\x20state\x20change:',_0x465ef7);};handleOnTrack=function(_0x45f376){console['log']('handleOnTrack',_0x45f376['streams']);if(_0x39479b['video'][_0x150b('0x15')]!==_0x45f376['streams'][0x0]){console['log']('setting\x20video\x20stream\x20from\x20ontrack');_0x39479b[_0x150b('0x67')]['srcObject']=_0x45f376['streams'][0x0];}};setupDataChannel=function(_0x489508,_0x599706,_0x1a004a){try{var _0x31cfb4=_0x489508[_0x150b('0x11')](_0x599706,_0x1a004a);console['log']('Created\x20datachannel\x20('+_0x599706+')');_0x31cfb4[_0x150b('0xa4')]=function(_0x45d443){console['log']('data\x20channel\x20('+_0x599706+_0x150b('0x4a'));if(_0x39479b[_0x150b('0x19')]){_0x39479b['onDataChannelConnected']();}};_0x31cfb4[_0x150b('0xc0')]=function(_0x4a3d3c){console['log'](_0x150b('0x56')+_0x599706+_0x150b('0x7e'));};_0x31cfb4['onmessage']=function(_0x370e03){if(_0x39479b[_0x150b('0x8d')])_0x39479b['onDataChannelMessage'](_0x370e03['data']);};return _0x31cfb4;}catch(_0x40eb74){console[_0x150b('0xc')]('No\x20data\x20channel',_0x40eb74);return null;}};onicecandidate=function(_0x2d1ed0){console[_0x150b('0xc3')]('ICE\x20candidate',_0x2d1ed0);if(_0x2d1ed0['candidate']&&_0x2d1ed0[_0x150b('0x1')][_0x150b('0x1')]){_0x39479b[_0x150b('0x3f')](_0x2d1ed0[_0x150b('0x1')]);}};handleCreateOffer=function(_0x2e96a4){_0x2e96a4[_0x150b('0x41')](_0x39479b[_0x150b('0x6a')])['then'](function(_0x45b863){_0x2e96a4['setLocalDescription'](_0x45b863);if(_0x39479b['onWebRtcOffer']){_0x45b863[_0x150b('0xb1')]=_0x45b863[_0x150b('0xb1')]['replace'](/(a=fmtp:\d+ .*level-asymmetry-allowed=.*)\r\n/gm,_0x150b('0xf4'));_0x39479b['onWebRtcOffer'](_0x45b863);}},function(){console['warn'](_0x150b('0x53'));});};setupPeerConnection=function(_0x522839){if(_0x522839['SetBitrate'])console['log'](_0x150b('0x61'));_0x522839['onsignalingstatechange']=onsignalingstatechange;_0x522839['oniceconnectionstatechange']=oniceconnectionstatechange;_0x522839[_0x150b('0xf2')]=onicegatheringstatechange;_0x522839[_0x150b('0x106')]=handleOnTrack;_0x522839['onicecandidate']=onicecandidate;};generateAggregatedStatsFunction=function(){if(!_0x39479b[_0x150b('0x46')])_0x39479b[_0x150b('0x46')]={};return function(_0x378ae1){let _0x408e5e={};_0x378ae1['forEach'](_0x55006c=>{if(_0x55006c['type']=='inbound-rtp'&&!_0x55006c[_0x150b('0x79')]&&(_0x55006c['mediaType']=='video'||_0x55006c['id']['toLowerCase']()['includes']('video'))){_0x408e5e[_0x150b('0x2a')]=_0x55006c[_0x150b('0x2a')];_0x408e5e['bytesReceived']=_0x55006c[_0x150b('0xe8')];_0x408e5e[_0x150b('0xa9')]=_0x55006c['framesDecoded'];_0x408e5e[_0x150b('0xa')]=_0x55006c[_0x150b('0xa')];_0x408e5e[_0x150b('0xa8')]=_0x39479b['aggregatedStats']&&_0x39479b[_0x150b('0x46')]['bytesReceivedStart']?_0x39479b[_0x150b('0x46')][_0x150b('0xa8')]:_0x55006c['bytesReceived'];_0x408e5e[_0x150b('0xdf')]=_0x39479b['aggregatedStats']&&_0x39479b['aggregatedStats'][_0x150b('0xdf')]?_0x39479b[_0x150b('0x46')][_0x150b('0xdf')]:_0x55006c[_0x150b('0xa9')];_0x408e5e['timestampStart']=_0x39479b[_0x150b('0x46')]&&_0x39479b['aggregatedStats'][_0x150b('0x94')]?_0x39479b['aggregatedStats'][_0x150b('0x94')]:_0x55006c[_0x150b('0x2a')];if(_0x39479b['aggregatedStats']&&_0x39479b['aggregatedStats'][_0x150b('0x2a')]){if(_0x39479b[_0x150b('0x46')][_0x150b('0xe8')]){_0x408e5e['bitrate']=0x8*(_0x408e5e['bytesReceived']-_0x39479b[_0x150b('0x46')][_0x150b('0xe8')])/(_0x408e5e[_0x150b('0x2a')]-_0x39479b['aggregatedStats'][_0x150b('0x2a')]);_0x408e5e[_0x150b('0x2')]=Math[_0x150b('0x2b')](_0x408e5e['bitrate']);_0x408e5e['lowBitrate']=_0x39479b['aggregatedStats']['lowBitrate']&&_0x39479b['aggregatedStats'][_0x150b('0xd5')]<_0x408e5e[_0x150b('0x2')]?_0x39479b['aggregatedStats']['lowBitrate']:_0x408e5e[_0x150b('0x2')];_0x408e5e[_0x150b('0xe1')]=_0x39479b['aggregatedStats']['highBitrate']&&_0x39479b['aggregatedStats']['highBitrate']>_0x408e5e[_0x150b('0x2')]?_0x39479b[_0x150b('0x46')][_0x150b('0xe1')]:_0x408e5e['bitrate'];}if(_0x39479b[_0x150b('0x46')]['bytesReceivedStart']){_0x408e5e[_0x150b('0xc2')]=0x8*(_0x408e5e[_0x150b('0xe8')]-_0x39479b[_0x150b('0x46')]['bytesReceivedStart'])/(_0x408e5e[_0x150b('0x2a')]-_0x39479b[_0x150b('0x46')]['timestampStart']);_0x408e5e[_0x150b('0xc2')]=Math[_0x150b('0x2b')](_0x408e5e[_0x150b('0xc2')]);}if(_0x39479b[_0x150b('0x46')]['framesDecoded']){_0x408e5e[_0x150b('0xa2')]=(_0x408e5e[_0x150b('0xa9')]-_0x39479b['aggregatedStats'][_0x150b('0xa9')])/((_0x408e5e['timestamp']-_0x39479b['aggregatedStats'][_0x150b('0x2a')])/0x3e8);_0x408e5e['framerate']=Math['floor'](_0x408e5e[_0x150b('0xa2')]);_0x408e5e[_0x150b('0xd8')]=_0x39479b['aggregatedStats'][_0x150b('0xd8')]&&_0x39479b[_0x150b('0x46')][_0x150b('0xd8')]<_0x408e5e['framerate']?_0x39479b[_0x150b('0x46')][_0x150b('0xd8')]:_0x408e5e[_0x150b('0xa2')];_0x408e5e[_0x150b('0x45')]=_0x39479b[_0x150b('0x46')]['highFramerate']&&_0x39479b['aggregatedStats'][_0x150b('0x45')]>_0x408e5e[_0x150b('0xa2')]?_0x39479b['aggregatedStats'][_0x150b('0x45')]:_0x408e5e[_0x150b('0xa2')];}if(_0x39479b[_0x150b('0x46')]['framesDecodedStart']){_0x408e5e['avgframerate']=(_0x408e5e['framesDecoded']-_0x39479b[_0x150b('0x46')][_0x150b('0xdf')])/((_0x408e5e['timestamp']-_0x39479b['aggregatedStats'][_0x150b('0x94')])/0x3e8);_0x408e5e['avgframerate']=Math[_0x150b('0x2b')](_0x408e5e[_0x150b('0xe9')]);}}}if(_0x55006c['type']==_0x150b('0xf7')&&(_0x55006c[_0x150b('0x72')]=='video_label'||_0x55006c[_0x150b('0x33')]=='video')){_0x408e5e[_0x150b('0x104')]=_0x55006c['framesDropped'];_0x408e5e[_0x150b('0x68')]=_0x55006c['framesReceived'];_0x408e5e[_0x150b('0x5f')]=_0x55006c[_0x150b('0x104')]/_0x55006c['framesReceived']*0x64;_0x408e5e['frameHeight']=_0x55006c['frameHeight'];_0x408e5e[_0x150b('0x6b')]=_0x55006c[_0x150b('0x6b')];_0x408e5e['frameHeightStart']=_0x39479b['aggregatedStats']&&_0x39479b[_0x150b('0x46')]['frameHeightStart']?_0x39479b['aggregatedStats'][_0x150b('0xb3')]:_0x55006c[_0x150b('0xcb')];_0x408e5e[_0x150b('0xcd')]=_0x39479b[_0x150b('0x46')]&&_0x39479b['aggregatedStats'][_0x150b('0xcd')]?_0x39479b['aggregatedStats']['frameWidthStart']:_0x55006c[_0x150b('0x6b')];}if(_0x55006c['type']==_0x150b('0x27')&&_0x55006c['hasOwnProperty']('currentRoundTripTime')&&_0x55006c[_0x150b('0x100')]!=0x0){_0x408e5e['currentRoundTripTime']=_0x55006c[_0x150b('0x100')];}});_0x39479b['aggregatedStats']=_0x408e5e;if(_0x39479b['onAggregatedStats'])_0x39479b['onAggregatedStats'](_0x408e5e);};};this['handleCandidateFromServer']=function(_0x5b1ce4){console['log'](_0x150b('0xe0'),_0x5b1ce4);let _0x1f7d2f=new RTCIceCandidate(_0x5b1ce4);_0x39479b[_0x150b('0xf8')]['addIceCandidate'](_0x1f7d2f)['then'](_0x4aad35=>{console['log']('ICE\x20candidate\x20successfully\x20added');});};this['createOffer']=function(){if(_0x39479b['pcClient']){console[_0x150b('0xc3')]('Closing\x20existing\x20PeerConnection');_0x39479b[_0x150b('0xf8')]['close']();_0x39479b[_0x150b('0xf8')]=null;}_0x39479b[_0x150b('0xf8')]=new RTCPeerConnection(_0x39479b[_0x150b('0xd6')]);setupPeerConnection(_0x39479b[_0x150b('0xf8')]);_0x39479b[_0x150b('0x64')]=setupDataChannel(_0x39479b['pcClient'],_0x150b('0x4e'),_0x39479b['dataChannelOptions']);handleCreateOffer(_0x39479b[_0x150b('0xf8')]);};this[_0x150b('0xb7')]=function(_0x75f0e){var _0x38c2df=new RTCSessionDescription(_0x75f0e);_0x39479b[_0x150b('0xf8')]['setRemoteDescription'](_0x38c2df);};this['close']=function(){if(_0x39479b['pcClient']){console['log'](_0x150b('0xd7'));_0x39479b['pcClient']['close']();_0x39479b[_0x150b('0xf8')]=null;}if(_0x39479b[_0x150b('0xf9')])clearInterval(_0x39479b['aggregateStatsIntervalId']);};this[_0x150b('0xb4')]=function(_0x1d54b7){if(_0x39479b[_0x150b('0x64')]&&_0x39479b['dcClient'][_0x150b('0x5e')]==_0x150b('0x23')){_0x39479b['dcClient']['send'](_0x1d54b7);}};this[_0x150b('0xbf')]=function(_0x2a3398){if(_0x39479b['pcClient']&&_0x2a3398){_0x39479b[_0x150b('0xf8')][_0x150b('0xbf')](null)['then'](_0x3c8f20=>{_0x2a3398(_0x3c8f20);});}};this[_0x150b('0x0')]=function(_0x43f4f4){let _0x14f37c=generateAggregatedStatsFunction();let _0x7adacf=()=>{_0x39479b['getStats'](_0x14f37c);};_0x39479b[_0x150b('0xf9')]=setInterval(_0x7adacf,_0x43f4f4);};};return _0x29aba0;}));_0x150b('0x6d');var MapVision=window['MapVision']||{};MapVision[_0x150b('0x55')]=()=>{return _0x150b('0xa5');};MapVision['OpenStatus']={'Unknown':0x0,'Connected':0x1,'UnConnected':0x2};MapVision['Events']={'MouseEvents':0x1,'TouchEvents':0x2,'KeyboardEvents':0x3};MapVision['ToClientMessageType']={'QualityControlOwnership':0x0,'Response':0x1,'Command':0x2,'FreezeFrame':0x3,'UnfreezeFrame':0x4};MapVision[_0x150b('0xad')]={'IFrameRequest':0x0,'RequestQualityControl':0x1,'MaxFpsRequest':0x2,'AverageBitrateRequest':0x3,'StartStreaming':0x4,'StopStreaming':0x5,'UIInteraction':0x32,'Command':0x33,'KeyDown':0x3c,'KeyUp':0x3d,'KeyPress':0x3e,'MouseEnter':0x46,'MouseLeave':0x47,'MouseDown':0x48,'MouseUp':0x49,'MouseMove':0x4a,'MouseWheel':0x4b,'TouchStart':0x50,'TouchEnd':0x51,'TouchMove':0x52};MapVision[_0x150b('0xf1')]={'MainButton':0x0,'AuxiliaryButton':0x1,'SecondaryButton':0x2,'FourthButton':0x3,'FifthButton':0x4};MapVision['MouseButtonsMask']={'PrimaryButton':0x1,'SecondaryButton':0x2,'AuxiliaryButton':0x4,'FourthButton':0x8,'FifthButton':0x10};MapVision['MapStatusType']={'Pan':0x0,'Select':0x1,'SelectPositionCallback':0x2,'SelectObjectCallback':0x3};MapVision['CommandType']={'SetParameters':0x186a0,'ScreenToWorld':0x186a1,'WorldToScreen':0x186a2,'SetResolution':0x186a4,'EnableKeyboard':0x186a5,'SetMapStatus':0x18704,'Stop':0x18705,'Clear':0x18706,'Rotate':0x18707,'GetHomePosition':0x18708,'ResetHome':0x18709,'GetCurrentPosition':0x1870a,'SetMouseCallback':0x1870b,'SetPosition':0x1870c,'FlyToPosition':0x1870d,'FlyToObject':0x1870f,'FlyToObjectById':0x18711,'SetMousePositionCallback':0x18712,'GetMaps':0x18718,'OpenMap':0x18719,'CreateObject':0x18769,'CreateRoute':0x1876a,'PlayRoute':0x1876d,'PauseRoute':0x1876e,'StopRoute':0x1876f,'ResumeRoute':0x18770,'FindObjectById':0x18787,'FindObjectByName':0x18789,'GetSelectedObject':0x1878b,'UpdateObject':0x1878d,'UpdateObjectVisible':0x1878e,'UpdateObjectStyle':0x1878f,'UpdateObjectVisibleByPrefix':0x18790,'ClearObjectStyle':0x1879a,'GetObjectsVisible':0x187a5,'SetObjectsVisible':0x187a6,'GetBuildingNum':0x18831,'GetBuildingName':0x18832,'GetBuildingNames':0x18833,'GetBuildingVisible':0x18834,'SetBuildingVisible':0x18835,'SetBuildingWkVisible':0x18836,'ResetAllBuildings':0x18837,'GetFloorNum':0x1883b,'GetFloorName':0x1883c,'GetFloorNames':0x1883d,'GetFloorVisible':0x1883e,'SetFloorVisible':0x1883f,'GetUpFloorNum':0x18840,'GetUpFloorNames':0x18841,'GetDownFloorNum':0x18842,'GetDownFloorNames':0x18843,'GetFloorRoomNum':0x18845,'GetFloorRoomName':0x18846,'GetFloorRoomNames':0x18847,'GetFloorRoomVisible':0x18848,'SetFloorRoomVisible':0x18849,'GetFloorDeviceNum':0x1884f,'GetFloorDeviceName':0x18850,'GetFloorDeviceNames':0x18851,'GetFloorDeviceVisible':0x18852,'SetFloorDeviceVisible':0x18853,'SetGroundVisible':0x18895,'OverLayerStartEdit':0x188f9,'OverLayerStopEdit':0x188fa,'OverLayerSelectObjectEdit':0x188fb,'OverLayerFindObject':0x188fc,'OverLayerCreateObject':0x18903,'OverLayerUpdateObject':0x18904,'OverLayerRemoveObject':0x18905,'OverLayerRemoveAll':0x18906,'OverLayerRemoveAllCustom':0x18907,'OverLayerCreateObjects':0x18908,'LayerLoad':0x18917,'LayerReLoad':0x18918,'LayersLoad':0x18919,'LayerSelectObject':0x1891b,'LayerRemove':0x1891c,'LayerSetVisible':0x1891d,'NorthControl':0x18a25,'PositionControl':0x18a26};MapVision[_0x150b('0xe6')]=function(){this['x']=0x0;this['y']=0x0;};MapVision[_0x150b('0x6')]=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;};MapVision[_0x150b('0x2e')]=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;this[_0x150b('0xbc')]=0x0;this[_0x150b('0xb')]=0x0;this[_0x150b('0xdd')]=0x0;};MapVision[_0x150b('0xd')]=function(){this[_0x150b('0x9e')]=_0x150b('0xff');this['gid']=0x1;this[_0x150b('0xb9')]='';this[_0x150b('0x9')]='';this[_0x150b('0x1f')]=new MapVision['Position']();};MapVision[_0x150b('0x9d')]=function(){this['type']=_0x150b('0xdc');this[_0x150b('0x39')]=0x1;this['name']='';this[_0x150b('0x9')]='';this[_0x150b('0x1f')]=new MapVision[(_0x150b('0x2e'))]();};MapVision['LineString']=function(){this['type']='linestring';this[_0x150b('0x39')]=0x1;this['name']='';this['style']='';this[_0x150b('0x7b')]=[];};MapVision[_0x150b('0x89')]=function(){this[_0x150b('0x9e')]='polygon';this['gid']=0x1;this[_0x150b('0xb9')]='';this['style']='';this['geom']=[];};MapVision['Building']=function(){this[_0x150b('0x9e')]=_0x150b('0x90');this['gid']=0x0;this['name']='';this[_0x150b('0x18')]=[{'type':'floor','gid':0x0,'name':''}];this[_0x150b('0x1f')]=new MapVision['Position']();};MapVision[_0x150b('0x4')]=0x1;MapVision['View3d']=function(_0x257a6e){this['id']=_0x257a6e['id'];this[_0x150b('0xb9')]='MapVision.View3d';this['url']=_0x257a6e[_0x150b('0x32')];this[_0x150b('0x9f')]=_0x257a6e['url'];this['token']=_0x257a6e['token'];this[_0x150b('0x40')]=!![];this[_0x150b('0x7c')]=!![];this[_0x150b('0xe7')]=null;this['_webRtcPlayerHtmlElement']=null;this[_0x150b('0x5a')]=null;this[_0x150b('0x21')]=null;this[_0x150b('0xed')]=null;this[_0x150b('0xae')]=![];this['_command']=null;};MapVision['View3d'][_0x150b('0x86')][_0x150b('0x4d')]=function(_0x3f2f83){this['_registerCallback']=_0x3f2f83;this[_0x150b('0xed')]=null;let _0x1df183=this;if(_0x1df183['id']==''||_0x1df183[_0x150b('0x32')]==''||_0x1df183['projectId']==''){console['log'](_0x150b('0xd3'));return;}window['WebSocket']=window[_0x150b('0x2d')]||window['MozWebSocket'];if(!window['WebSocket']){alert(_0x150b('0xc1'));return;}let _0x1222e8=_0x1df183[_0x150b('0x32')][_0x150b('0xda')](_0x150b('0xb6'),_0x150b('0x96'))[_0x150b('0xda')]('https://','wss://');console[_0x150b('0xc3')]('wsURL='+_0x1222e8);_0x1df183[_0x150b('0x21')]=new WebSocket(_0x1222e8);_0x1df183['_webSocket'][_0x150b('0x78')]=function(_0x405bd7){var _0x12efc6=JSON['parse'](_0x405bd7[_0x150b('0x22')]);if(_0x12efc6['type']==='config'){_0x1df183[_0x150b('0x105')](_0x1df183['id'],_0x12efc6);}else if(_0x12efc6['type']===_0x150b('0x85')){}else if(_0x12efc6['type']===_0x150b('0x24')){_0x1df183[_0x150b('0x7a')](_0x12efc6);}else if(_0x12efc6[_0x150b('0x9e')]===_0x150b('0x65')){_0x1df183['_onWebRtcIce'](_0x12efc6[_0x150b('0x1')]);}else{console[_0x150b('0xc3')](_0x150b('0x73')+_0x12efc6[_0x150b('0x9e')]);}};_0x1df183[_0x150b('0x21')][_0x150b('0x95')]=function(_0x26be8c){console['log'](_0x150b('0x57')+JSON[_0x150b('0xfb')](_0x26be8c));if(_0x1df183[_0x150b('0xe7')]){_0x1df183['_registerCallback'](_0x150b('0x5c'));}};_0x1df183['_webSocket']['onclose']=function(_0x56afad){console[_0x150b('0xc3')](_0x150b('0x31')+JSON[_0x150b('0xfb')](_0x56afad['code'])+'\x20-\x20'+_0x56afad['reason']);_0x1df183[_0x150b('0x21')]=undefined;let _0x931e20=document['getElementById'](_0x1df183['id']);if(_0x1df183['_webRtcPlayerObj']){_0x931e20['removeChild'](_0x1df183['_webRtcPlayerObj']['video']);_0x1df183[_0x150b('0x5a')][_0x150b('0x28')]();_0x1df183[_0x150b('0x5a')]=undefined;}if(_0x1df183[_0x150b('0xe7')]){_0x1df183[_0x150b('0xe7')]('closed');}};};MapVision[_0x150b('0xec')]['prototype']['RegisterEvents']=function(_0x19b081){this[_0x150b('0xe7')]=_0x19b081;};MapVision['View3d'][_0x150b('0x86')]['SetParameters']=function(_0x489e30){this['_emiUICommand'](MapVision['CommandType'][_0x150b('0xf3')],_0x489e30);};MapVision[_0x150b('0xec')]['prototype']['SetResolution']=function(_0x10f016,_0x33a841){this['_callback']=null;this['_emiUICommand'](MapVision[_0x150b('0x82')]['SetResolution'],{'width':_0x10f016,'height':_0x33a841});};MapVision[_0x150b('0xec')][_0x150b('0x86')]['SetMapStatus']=function(_0x5c56c1,_0x491768){if(_0x5c56c1>MapVision[_0x150b('0xbe')]['SELECTE'])this[_0x150b('0xed')]=_0x491768;else this['_callback']=null;this['_emiUICommand'](MapVision[_0x150b('0x82')][_0x150b('0x12')],{'mapstatus':_0x5c56c1});};MapVision[_0x150b('0xec')][_0x150b('0x86')][_0x150b('0xe')]=function(){this['_callback']=null;this[_0x150b('0x4c')](MapVision[_0x150b('0x82')]['Clear']);};MapVision[_0x150b('0xec')]['prototype'][_0x150b('0xfe')]=function(){this['_callback']=null;this[_0x150b('0x4c')](MapVision['CommandType']['Stop']);};MapVision['View3d'][_0x150b('0x86')][_0x150b('0x50')]=function(){this['_callback']=null;this[_0x150b('0x4c')](MapVision['CommandType'][_0x150b('0x50')]);};MapVision[_0x150b('0xec')][_0x150b('0x86')]['RotateCenter']=function(){this[_0x150b('0xed')]=null;this[_0x150b('0x4c')](MapVision[_0x150b('0x82')]['Rotate']);};MapVision[_0x150b('0xec')][_0x150b('0x86')][_0x150b('0xf0')]=function(_0x594e20){this[_0x150b('0xed')]=null;this[_0x150b('0x4c')](MapVision['CommandType'][_0x150b('0x63')],_0x594e20);};MapVision[_0x150b('0xec')][_0x150b('0x86')]['GetCurrentPosition']=function(_0x1f9d9e){this['_callback']=_0x1f9d9e;this['_emiUICommand'](MapVision[_0x150b('0x82')]['GetCurrentPosition']);};MapVision[_0x150b('0xec')]['prototype'][_0x150b('0x91')]=function(_0x385d04){this[_0x150b('0xed')]=_0x385d04;this['_emiUICommand'](MapVision['CommandType']['SetMouseCallback']);};MapVision['View3d'][_0x150b('0x86')][_0x150b('0x5')]=function(_0x38101f){this[_0x150b('0xed')]=_0x38101f;this['_emiUICommand'](MapVision[_0x150b('0x82')][_0x150b('0x5')]);};MapVision['View3d'][_0x150b('0x86')][_0x150b('0x14')]=function(_0x4b31db){this['_emiUICommand'](MapVision['CommandType'][_0x150b('0x14')],{'mapname':_0x4b31db});};MapVision[_0x150b('0xec')]['prototype']['GetHomePosition']=function(_0x2b63a9){this[_0x150b('0xed')]=_0x2b63a9;this[_0x150b('0x4c')](MapVision['CommandType'][_0x150b('0x6e')]);};MapVision['View3d'][_0x150b('0x86')]['SetPosition']=function(_0x19cf78,_0x49cc25){this['_callback']=null;_0x19cf78['showlocation']=_0x49cc25;this[_0x150b('0x4c')](MapVision['CommandType']['SetPosition'],_0x19cf78);};MapVision[_0x150b('0xec')]['prototype']['FlyToPosition']=function(_0x55e657,_0x1259eb){this['_callback']=null;_0x55e657['showlocation']=_0x1259eb;this[_0x150b('0x4c')](MapVision[_0x150b('0x82')]['FlyToPosition'],_0x55e657);};MapVision[_0x150b('0xec')][_0x150b('0x86')][_0x150b('0x52')]=function(_0x26ac10,_0x29063f){this[_0x150b('0xed')]=null;_0x26ac10['showlocation']=_0x29063f;this[_0x150b('0x4c')](MapVision['CommandType'][_0x150b('0x52')],_0x26ac10);};MapVision['View3d'][_0x150b('0x86')]['FlyToObjectById']=function(_0x581735,_0x2b3d46,_0x23114d,_0x7e4af4){this['_callback']=null;this['_emiUICommand'](MapVision[_0x150b('0x82')]['FlyToObjectById'],{'gid':_0x581735,'showlocation':_0x2b3d46,'distance':_0x7e4af4,'position':{'x':0x0,'y':0x0,'z':0x0,'pitch':_0x23114d,'yaw':0x0,'roll':0x0}});};MapVision['View3d'][_0x150b('0x86')]['FindObjectById']=function(_0x34c9a0,_0x342e70){this[_0x150b('0xed')]=_0x342e70;this['_emiUICommand'](MapVision[_0x150b('0x82')]['FindObjectById'],{'gid':_0x34c9a0});};MapVision[_0x150b('0xec')]['prototype'][_0x150b('0x1a')]=function(_0x288db0,_0x1ee486){this[_0x150b('0xed')]=_0x1ee486;this[_0x150b('0x4c')](MapVision['CommandType']['FindObjectByName'],{'gid':_0x288db0,'name':_0x288db0});};MapVision[_0x150b('0xec')]['prototype']['GetSelectedObject']=function(_0x4e8f4c){this[_0x150b('0xed')]=_0x4e8f4c;this[_0x150b('0x4c')](MapVision['CommandType']['GetSelectedObject']);};MapVision[_0x150b('0xec')]['prototype']['UpdateObject']=function(_0x22a77e){this['_callback']=null;this['_emiUICommand'](MapVision[_0x150b('0x82')]['UpdateObject'],_0x22a77e);};MapVision['View3d'][_0x150b('0x86')][_0x150b('0x62')]=function(_0x4e8483,_0x594473){this[_0x150b('0xed')]=null;this[_0x150b('0x4c')](MapVision['CommandType'][_0x150b('0x62')],{'gid':_0x4e8483,'style':_0x594473});};MapVision[_0x150b('0xec')]['prototype']['ClearObjectStyle']=function(){this[_0x150b('0xed')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x150b('0xa6')]);};MapVision['View3d']['prototype'][_0x150b('0x1d')]=function(_0x17ac84){this['_callback']=_0x17ac84;this[_0x150b('0x4c')](MapVision[_0x150b('0x82')]['GetObjectsVisible']);};MapVision['View3d'][_0x150b('0x86')]['SetObjectsVisible']=function(_0x2a3961){this['_callback']=null;this[_0x150b('0x4c')](MapVision['CommandType'][_0x150b('0x3d')],{'objects':_0x2a3961});};MapVision[_0x150b('0xec')]['prototype']['UpdateObjectVisible']=function(_0x471028,_0x3e3951){this['_callback']=null;this[_0x150b('0x4c')](MapVision['CommandType']['UpdateObjectVisible'],{'gid':_0x471028,'visible':_0x3e3951});};MapVision[_0x150b('0xec')]['prototype'][_0x150b('0x101')]=function(_0x36b782,_0x363acf){this[_0x150b('0xed')]=null;this['_emiUICommand'](MapVision[_0x150b('0x82')][_0x150b('0x101')],{'gid':_0x36b782,'visible':_0x363acf});};MapVision['View3d']['prototype']['CreateObject']=function(_0xd08ed4){this[_0x150b('0xed')]=null;this[_0x150b('0x4c')](MapVision['CommandType'][_0x150b('0xe3')],_0xd08ed4);};MapVision[_0x150b('0xec')]['prototype']['CreateRoute']=function(_0x3c293e){this['_callback']=null;this['_emiUICommand'](MapVision[_0x150b('0x82')][_0x150b('0x81')],_0x3c293e);};MapVision['View3d'][_0x150b('0x86')]['StartRoute']=function(_0x602334){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType'][_0x150b('0x7d')],_0x602334);};MapVision['View3d']['prototype'][_0x150b('0x93')]=function(_0x3a4d81){this['_callback']=_0x3a4d81;this['_emiUICommand'](MapVision['CommandType']['PlayRoute']);};MapVision['View3d'][_0x150b('0x86')]['PauseRoute']=function(){this[_0x150b('0x4c')](MapVision[_0x150b('0x82')]['PauseRoute']);};MapVision[_0x150b('0xec')]['prototype']['StopRoute']=function(){this[_0x150b('0xed')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x150b('0x83')]);};MapVision['View3d']['prototype']['ResumeRoute']=function(){this[_0x150b('0x4c')](MapVision['CommandType'][_0x150b('0x47')]);};MapVision[_0x150b('0xec')][_0x150b('0x86')][_0x150b('0x43')]=function(_0x421e18){this[_0x150b('0xed')]=_0x421e18;this['_emiUICommand'](MapVision['CommandType'][_0x150b('0x43')]);};MapVision['View3d'][_0x150b('0x86')]['GetBuildingName']=function(_0x4268d1,_0x480f8b){this['_callback']=_0x480f8b;this['_emiUICommand'](MapVision['CommandType']['GetBuildingName'],{'bindex':_0x4268d1});};MapVision[_0x150b('0xec')]['prototype'][_0x150b('0x58')]=function(_0x2c19d6){this[_0x150b('0xed')]=_0x2c19d6;this['_emiUICommand'](MapVision[_0x150b('0x82')]['GetBuildingNames']);};MapVision['View3d']['prototype'][_0x150b('0xc6')]=function(_0x1b623a,_0x24610e){this[_0x150b('0xed')]=_0x24610e;this[_0x150b('0x4c')](MapVision['CommandType'][_0x150b('0xc6')],{'gid':_0x1b623a});};MapVision[_0x150b('0xec')]['prototype'][_0x150b('0x9b')]=function(_0x38171e,_0x3f4e38,_0x1100a1){this['_emiUICommand'](MapVision[_0x150b('0x82')]['SetBuildingVisible'],{'gid':_0x38171e,'visible':_0x3f4e38,'opacity':_0x1100a1});};MapVision[_0x150b('0xec')]['prototype'][_0x150b('0xef')]=function(_0x221dd1,_0x36ef79,_0x1f2a6c){this[_0x150b('0x4c')](MapVision['CommandType']['SetBuildingWkVisible'],{'gid':_0x221dd1,'visible':_0x36ef79,'opacity':_0x1f2a6c});};MapVision[_0x150b('0xec')]['prototype'][_0x150b('0x77')]=function(){this['_emiUICommand'](MapVision['CommandType']['ResetAllBuildings']);};MapVision['View3d'][_0x150b('0x86')]['GetFloorNum']=function(_0x4ae1b0,_0x31927e){this['_callback']=_0x31927e;this[_0x150b('0x4c')](MapVision['CommandType']['GetFloorNum'],{'gid':_0x4ae1b0});};MapVision[_0x150b('0xec')][_0x150b('0x86')]['GetFloorName']=function(_0x2375f5,_0x3c0cdc){this[_0x150b('0xed')]=_0x3c0cdc;this[_0x150b('0x4c')](MapVision['CommandType']['GetFloorNames'],{'gid':_0x2375f5});};MapVision[_0x150b('0xec')]['prototype']['GetFloorNames']=function(_0x39e41c,_0x12b285){this['_callback']=_0x12b285;this['_emiUICommand'](MapVision[_0x150b('0x82')]['GetFloorNames'],{'gid':_0x39e41c});};MapVision[_0x150b('0xec')]['prototype'][_0x150b('0xfd')]=function(_0x2ee8a2,_0x33d492,_0x50ffaf){this['_callback']=_0x50ffaf;this[_0x150b('0x4c')](MapVision[_0x150b('0x82')]['GetFloorVisible'],{'gid':_0x2ee8a2,'floor':_0x33d492});};MapVision[_0x150b('0xec')]['prototype']['SetFloorVisible']=function(_0x3e87ce,_0x25a46e,_0x2f440d,_0x140fe0){if(!_0x2f440d)_0x2f440d=![];if(!_0x140fe0)_0x140fe0=0x0;this[_0x150b('0x4c')](MapVision[_0x150b('0x82')][_0x150b('0xbb')],{'gid':_0x3e87ce,'floor':_0x25a46e,'visible':_0x2f440d,'opacity':_0x140fe0});};MapVision[_0x150b('0xec')]['prototype'][_0x150b('0x8e')]=function(_0x20da5c,_0x3d7896,_0x376eb4){this[_0x150b('0xed')]=_0x376eb4;this[_0x150b('0x4c')](MapVision[_0x150b('0x82')]['GetUpFloorNum'],{'gid':_0x20da5c,'floor':_0x3d7896});};MapVision['View3d']['prototype'][_0x150b('0xea')]=function(_0x540bec,_0x34df77,_0x4d0cf2){this[_0x150b('0xed')]=_0x4d0cf2;this['_emiUICommand'](MapVision[_0x150b('0x82')][_0x150b('0xea')],{'gid':_0x540bec,'floor':_0x34df77});};MapVision[_0x150b('0xec')][_0x150b('0x86')]['GetDownFloorNum']=function(_0x1a7767,_0x56b671,_0x18e5ea){this[_0x150b('0xed')]=_0x18e5ea;this['_emiUICommand'](MapVision['CommandType'][_0x150b('0x102')],{'gid':_0x1a7767,'floor':_0x56b671});};MapVision[_0x150b('0xec')]['prototype']['GetDownFloorNames']=function(_0x347a29,_0x57a5a7,_0x474855){this['_callback']=_0x474855;this['_emiUICommand'](MapVision['CommandType'][_0x150b('0x6f')],{'gid':_0x347a29,'floor':_0x57a5a7});};MapVision['View3d'][_0x150b('0x86')][_0x150b('0xc9')]=function(_0x598f3c,_0x17af60,_0x394781){this[_0x150b('0xed')]=_0x394781;this[_0x150b('0x4c')](MapVision['CommandType'][_0x150b('0xc9')],{'gid':_0x598f3c,'floor':_0x17af60});};MapVision['View3d']['prototype']['GetFloorRoomName']=function(_0x406eff,_0x92756e,_0x4b2cc8){this['_callback']=_0x4b2cc8;this[_0x150b('0x4c')](MapVision[_0x150b('0x82')]['GetFloorRoomNames'],{'gid':_0x406eff,'floor':_0x92756e});};MapVision[_0x150b('0xec')][_0x150b('0x86')]['GetFloorRoomNames']=function(_0x1e8328,_0x82cfff,_0x197ee1){this[_0x150b('0xed')]=_0x197ee1;this['_emiUICommand'](MapVision['CommandType']['GetFloorRoomNames'],{'gid':_0x1e8328,'floor':_0x82cfff});};MapVision[_0x150b('0xec')]['prototype']['GetFloorRoomVisible']=function(_0x3a579a,_0x5734a3,_0x253617,_0x518065){this['_callback']=_0x518065;this['_emiUICommand'](MapVision[_0x150b('0x82')][_0x150b('0x38')],{'gid':_0x3a579a,'floor':_0x5734a3,'room':_0x253617});};MapVision['View3d']['prototype']['SetFloorRoomVisible']=function(_0x515742,_0x3996a4,_0x328611,_0x57ef6a,_0x552422){if(!_0x57ef6a)_0x57ef6a=![];if(!_0x552422)_0x552422=0x0;this['_emiUICommand'](MapVision[_0x150b('0x82')][_0x150b('0x71')],{'gid':_0x515742,'floor':_0x3996a4,'room':_0x328611,'visible':_0x57ef6a,'opacity':_0x552422});};MapVision['View3d'][_0x150b('0x86')][_0x150b('0x48')]=function(_0x53b459,_0xc3c918,_0x515fb7){this['_callback']=_0x515fb7;this['_emiUICommand'](MapVision[_0x150b('0x82')][_0x150b('0x48')],{'gid':_0x53b459,'floor':_0xc3c918});};MapVision[_0x150b('0xec')][_0x150b('0x86')]['GetFloorDeviceName']=function(_0x2c02c5,_0x2da241,_0x13d2ca){this[_0x150b('0xed')]=_0x13d2ca;this[_0x150b('0x4c')](MapVision['CommandType']['GetFloorDeviceNames'],{'gid':_0x2c02c5,'floor':_0x2da241});};MapVision['View3d']['prototype'][_0x150b('0x13')]=function(_0x4c7b4c,_0x57d7b1,_0x532bf3){this['_callback']=_0x532bf3;this['_emiUICommand'](MapVision[_0x150b('0x82')][_0x150b('0x13')],{'gid':_0x4c7b4c,'floor':_0x57d7b1});};MapVision[_0x150b('0xec')][_0x150b('0x86')][_0x150b('0xab')]=function(_0x45d4be,_0x2f0197,_0x1a8cd5,_0xbdfe30){this[_0x150b('0xed')]=_0xbdfe30;this['_emiUICommand'](MapVision['CommandType'][_0x150b('0xab')],{'gid':_0x45d4be,'floor':_0x2f0197,'device':_0x1a8cd5});};MapVision['View3d']['prototype']['SetFloorDeviceVisible']=function(_0x516e76,_0x1512b5,_0x3996ad,_0x545f8f,_0x1be4d6){if(!_0x545f8f)_0x545f8f=![];if(!_0x1be4d6)_0x1be4d6=0x0;this['_emiUICommand'](MapVision['CommandType']['SetFloorDeviceVisible'],{'gid':_0x516e76,'floor':_0x1512b5,'device':_0x3996ad,'visible':_0x545f8f,'opacity':_0x1be4d6});};MapVision[_0x150b('0xec')][_0x150b('0x86')]['SetGroundVisible']=function(_0x2c60d2){this['_emiUICommand'](MapVision[_0x150b('0x82')][_0x150b('0x87')],{'visible':_0x2c60d2});};MapVision['View3d']['prototype']['OverLayerStartEdit']=function(_0x853866,_0x126bc4){this[_0x150b('0xed')]=_0x126bc4;this[_0x150b('0x4c')](MapVision[_0x150b('0x82')][_0x150b('0x49')],_0x853866);};MapVision['View3d'][_0x150b('0x86')][_0x150b('0x3c')]=function(){this[_0x150b('0xed')]=null;this[_0x150b('0x4c')](MapVision['CommandType'][_0x150b('0x3c')]);};MapVision['View3d'][_0x150b('0x86')]['OverLayerSelectObjectEdit']=function(_0x2022c0){this['_callback']=_0x2022c0;this['_emiUICommand'](MapVision['CommandType']['OverLayerSelectObjectEdit']);};MapVision['View3d'][_0x150b('0x86')][_0x150b('0x3b')]=function(_0x1711b6,_0x5d13c3){this['_callback']=_0x5d13c3;this['_emiUICommand'](MapVision['CommandType']['OverLayerFindObject'],{'name':_0x1711b6});};MapVision['View3d']['prototype'][_0x150b('0x7f')]=function(_0x39f825,_0x1bcd4d){this['_callback']=_0x1bcd4d;this['_emiUICommand'](MapVision['CommandType'][_0x150b('0x7f')],_0x39f825);};MapVision['View3d'][_0x150b('0x86')]['OverLayerCreateObjects']=function(_0xb81183,_0x4af960){this['_callback']=_0x4af960;this['_emiUICommand'](MapVision['CommandType'][_0x150b('0x9c')],{'shapes':_0xb81183});};MapVision[_0x150b('0xec')]['prototype'][_0x150b('0x25')]=function(_0x403d5a){this['_emiUICommand'](MapVision['CommandType'][_0x150b('0x25')],_0x403d5a);};MapVision['View3d']['prototype'][_0x150b('0x60')]=function(_0x231719){this[_0x150b('0x4c')](MapVision['CommandType']['OverLayerRemoveObject'],_0x231719);};MapVision['View3d']['prototype'][_0x150b('0xe2')]=function(_0x4e5163){this['_emiUICommand'](MapVision['CommandType']['OverLayerRemoveObject'],{'gid':_0x4e5163});};MapVision['View3d']['prototype']['OverLayerRemoveAll']=function(_0x59ec98){if(_0x59ec98){this['_emiUICommand'](MapVision[_0x150b('0x82')][_0x150b('0x8a')],{'types':_0x59ec98});}else{this['_emiUICommand'](MapVision['CommandType']['OverLayerRemoveAll']);}};MapVision['View3d']['prototype'][_0x150b('0xd4')]=function(_0xc7ec27,_0x4e2696){this[_0x150b('0xed')]=_0x4e2696;this['_emiUICommand'](MapVision['CommandType'][_0x150b('0xd4')],_0xc7ec27);};MapVision['View3d'][_0x150b('0x86')]['LayerReLoad']=function(_0x3a96a5,_0xa85e37){this['_callback']=_0xa85e37;this['_emiUICommand'](MapVision[_0x150b('0x82')]['LayerReLoad'],_0x3a96a5);};MapVision['View3d'][_0x150b('0x86')]['LayersLoad']=function(_0x553774,_0xae5fac){this[_0x150b('0xed')]=_0xae5fac;this['_emiUICommand'](MapVision[_0x150b('0x82')][_0x150b('0x36')],{'layers':_0x553774});};MapVision[_0x150b('0xec')]['prototype'][_0x150b('0xa7')]=function(_0x77c08c,_0x477f03){this[_0x150b('0xed')]=_0x477f03;this['_emiUICommand'](MapVision[_0x150b('0x82')][_0x150b('0xa7')],{'gid':_0x77c08c});};MapVision[_0x150b('0xec')]['prototype'][_0x150b('0x76')]=function(_0x19bea7){this[_0x150b('0x4c')](MapVision[_0x150b('0x82')]['LayerRemove'],{'gid':_0x19bea7});};MapVision['View3d']['prototype']['LayerSetVisible']=function(_0x56f797,_0x3144fa){this['_emiUICommand'](MapVision[_0x150b('0x82')][_0x150b('0xcf')],{'gid':_0x56f797,'visible':_0x3144fa});};MapVision[_0x150b('0xec')][_0x150b('0x86')][_0x150b('0xd2')]=function(_0x55d08d,_0x48021f,_0x4b2e2d,_0x3aafff){this[_0x150b('0x4c')](MapVision['CommandType'][_0x150b('0xe5')],{'visible':_0x55d08d,'x':_0x48021f,'y':_0x4b2e2d,'scale':_0x3aafff});};MapVision['View3d']['prototype']['_registerMouseEvents']=function(_0x4c3176){let _0x533c46=this;_0x4c3176['onmousemove']=_0x2f1fca=>{if(!_0x533c46['enableMouse']){return;}_0x533c46[_0x150b('0x5d')](_0x2f1fca['offsetX'],_0x2f1fca[_0x150b('0xba')],_0x2f1fca[_0x150b('0xc7')],_0x2f1fca['movementY']);_0x2f1fca[_0x150b('0x2f')]();};_0x4c3176['onmousedown']=_0x2c45c0=>{_0x533c46[_0x150b('0xae')]=!![];if(!_0x533c46[_0x150b('0x7c')]){return;}_0x533c46['_onMouseDown'](_0x2c45c0['button'],_0x2c45c0[_0x150b('0x4b')],_0x2c45c0['offsetY']);_0x2c45c0[_0x150b('0x2f')]();};_0x4c3176[_0x150b('0x84')]=_0x2ae010=>{_0x533c46[_0x150b('0xae')]=![];if(!_0x533c46['enableMouse']){return;}_0x533c46['_onMouseUp'](_0x2ae010['button'],_0x2ae010['offsetX'],_0x2ae010[_0x150b('0xba')]);_0x2ae010['preventDefault']();};_0x4c3176['oncontextmenu']=_0x44659b=>{if(!_0x533c46['enableMouse']){return;}_0x533c46[_0x150b('0x44')](_0x44659b['button'],_0x44659b['offsetX'],_0x44659b[_0x150b('0xba')]);_0x44659b['preventDefault']();};if('onmousewheel'in _0x4c3176){_0x4c3176['onmousewheel']=_0x11e91=>{if(!_0x533c46['enableMouse']){return;}_0x533c46['_onMouseWheel'](_0x11e91['wheelDelta'],_0x11e91['offsetX'],_0x11e91[_0x150b('0xba')]);_0x11e91[_0x150b('0x2f')]();};}else{_0x4c3176[_0x150b('0x59')](_0x150b('0xb5'),_0x221ebf=>{if(!_0x533c46[_0x150b('0x7c')]){return;}_0x533c46[_0x150b('0x103')](_0x221ebf['detail']*-0x78,_0x221ebf[_0x150b('0x4b')],_0x221ebf['offsetY']);_0x221ebf['preventDefault']();},![]);}_0x4c3176['pressMouseButtons']=_0x46acf8=>{if(!_0x533c46['enableMouse']){return;}_0x533c46['_pressMouseButtons'](_0x46acf8['buttons'],_0x46acf8[_0x150b('0x4b')],_0x46acf8[_0x150b('0xba')]);};_0x4c3176[_0x150b('0xa3')]=_0x3e40b5=>{if(!_0x533c46['enableMouse']){return;}_0x533c46['_releaseMouseButtons'](_0x3e40b5[_0x150b('0xbd')],_0x3e40b5['offsetX'],_0x3e40b5[_0x150b('0xba')]);};_0x4c3176['onmouseenter']=_0x256b01=>{if(!_0x533c46['enableMouse']){return;}var _0x5cf100=new DataView(new ArrayBuffer(0x1));_0x5cf100['setUint8'](0x0,MapVision[_0x150b('0xad')][_0x150b('0x74')]);_0x533c46[_0x150b('0xf')](_0x5cf100['buffer']);_0x4c3176['pressMouseButtons'](_0x256b01);};_0x4c3176['onmouseleave']=_0xaaf14e=>{if(!_0x533c46['enableMouse']){return;}var _0x3f88ee=new DataView(new ArrayBuffer(0x1));_0x3f88ee[_0x150b('0x42')](0x0,MapVision['MessageType']['MouseLeave']);_0x533c46[_0x150b('0xf')](_0x3f88ee['buffer']);_0x4c3176[_0x150b('0xa3')](_0xaaf14e);};};MapVision[_0x150b('0xec')]['prototype']['_registerTouchEvents']=function(_0x2096fa){};MapVision[_0x150b('0xec')][_0x150b('0x86')][_0x150b('0x6c')]=function(){let _0x3c8ac0=this;const _0x34fb6b={'BackSpace':0x8,'Shift':0x10,'Control':0x11,'Alt':0x12,'RightShift':0xfd,'RightControl':0xfe,'RightAlt':0xff};function _0x358ec9(_0x1ccf34){if(_0x1ccf34[_0x150b('0xd0')]===_0x34fb6b['Shift']&&_0x1ccf34[_0x150b('0xfa')]==='ShiftRight')return _0x34fb6b['RightShift'];else if(_0x1ccf34[_0x150b('0xd0')]===_0x34fb6b['Control']&&_0x1ccf34[_0x150b('0xfa')]===_0x150b('0x70'))return _0x34fb6b['RightControl'];else if(_0x1ccf34[_0x150b('0xd0')]===_0x34fb6b['Alt']&&_0x1ccf34[_0x150b('0xfa')]===_0x150b('0xa0'))return _0x34fb6b[_0x150b('0x5b')];else return _0x1ccf34['keyCode'];};function _0x4c60fa(_0x293f55){return!(_0x293f55[_0x150b('0xd0')]==0x1b||_0x293f55['keyCode']==0x74||_0x293f55['keyCode']==0xde||_0x293f55['keyCode']==0xba||_0x293f55[_0x150b('0xd0')]==0xbc||_0x293f55['ctrlKey']&&_0x293f55[_0x150b('0xd0')]==0x52);};var _0x5664d3=document[_0x150b('0xd9')](_0x150b('0x51'));var _0x1b8bae=null;if(_0x5664d3&&_0x5664d3['length']>0x0){_0x1b8bae=_0x5664d3[0x0];alert(_0x1b8bae['name']);}else{_0x1b8bae=document;}_0x1b8bae['onkeydown']=_0x21f500=>{if(!_0x3c8ac0[_0x150b('0x40')]){return;}if(_0x4c60fa(_0x21f500)==![]){_0x21f500['preventDefault']();return;}_0x3c8ac0['_sendInputData'](new Uint8Array([MapVision[_0x150b('0xad')][_0x150b('0xb0')],_0x358ec9(_0x21f500),_0x21f500['repeat']])[_0x150b('0x4f')]);if(_0x21f500['keyCode']===_0x34fb6b['BackSpace']){_0x1b8bae[_0x150b('0xac')]({'charCode':_0x34fb6b['BackSpace']});}};_0x1b8bae['onkeyup']=_0xf7dd2c=>{if(!_0x3c8ac0[_0x150b('0x40')]){return;}if(_0x4c60fa(_0xf7dd2c)==![]){_0xf7dd2c['preventDefault']();return;}_0x3c8ac0[_0x150b('0xf')](new Uint8Array([MapVision['MessageType']['KeyUp'],_0x358ec9(_0xf7dd2c)])[_0x150b('0x4f')]);};_0x1b8bae[_0x150b('0xac')]=_0x1d962e=>{if(!_0x3c8ac0[_0x150b('0x40')]){return;}if(_0x4c60fa(_0x1d962e)==![]){_0x1d962e[_0x150b('0x2f')]();return;}let _0x55677=new DataView(new ArrayBuffer(0x3));_0x55677[_0x150b('0x42')](0x0,MapVision[_0x150b('0xad')][_0x150b('0x3e')]);_0x55677['setUint16'](0x1,_0x1d962e['charCode'],!![]);_0x3c8ac0['_sendInputData'](_0x55677['buffer']);};};MapVision[_0x150b('0xec')]['prototype']['_createWebRtcPlayer']=function(_0x2f608e,_0x41c5db){let _0x30b7eb=this;if(_0x30b7eb[_0x150b('0x5a')]){return;}_0x30b7eb[_0x150b('0x3')]=document[_0x150b('0xb2')](_0x2f608e);_0x30b7eb['_webRtcPlayerObj']=new webRtcPlayer({'peerConnectionOptions':_0x41c5db[_0x150b('0xcc')]});let _0x485a97=_0x30b7eb['_webRtcPlayerHtmlElement'];_0x485a97['appendChild'](_0x30b7eb['_webRtcPlayerObj']['video']);_0x30b7eb['_webRtcPlayerObj']['onWebRtcOffer']=function(_0x959c34){if(_0x30b7eb[_0x150b('0x21')]&&_0x30b7eb['_webSocket']['readyState']===MapVision[_0x150b('0x4')]){let _0x2d2c49=JSON[_0x150b('0xfb')](_0x959c34);_0x30b7eb['_webSocket'][_0x150b('0xb4')](_0x2d2c49);}};_0x30b7eb[_0x150b('0x5a')]['onWebRtcCandidate']=function(_0x3a7c28){if(_0x30b7eb[_0x150b('0x21')]&&_0x30b7eb['_webSocket'][_0x150b('0x5e')]===MapVision['WS_OPEN_STATE']){console['log'](_0x150b('0x92')+JSON[_0x150b('0xfb')](_0x3a7c28,undefined,0x4));_0x30b7eb[_0x150b('0x21')][_0x150b('0xb4')](JSON[_0x150b('0xfb')]({'type':_0x150b('0x65'),'candidate':_0x3a7c28}));}};_0x30b7eb['_webRtcPlayerObj']['onVideoInitialised']=function(){if(_0x30b7eb[_0x150b('0x21')]&&_0x30b7eb['_webSocket']['readyState']===MapVision['WS_OPEN_STATE']){if(_0x30b7eb['_webRtcPlayerObj']){var _0x217c5f=new Uint8Array([MapVision['ToClientMessageType'][_0x150b('0x30')]])[_0x150b('0x4f')];console['log'](_0x150b('0x54')+_0x217c5f);_0x30b7eb['_webRtcPlayerObj'][_0x150b('0xb4')](_0x217c5f);_0x30b7eb[_0x150b('0x5a')][_0x150b('0x67')][_0x150b('0x88')]=!![];_0x30b7eb[_0x150b('0x5a')][_0x150b('0x67')][_0x150b('0x17')]();}}};_0x30b7eb[_0x150b('0x5a')]['onDataChannelConnected']=function(){if(_0x30b7eb[_0x150b('0x21')]&&_0x30b7eb['_webSocket']['readyState']===MapVision[_0x150b('0x4')]){if(_0x30b7eb['_registerCallback']){_0x30b7eb[_0x150b('0xe7')]('connected');}}};_0x30b7eb['_webRtcPlayerObj']['onDataChannelMessage']=function(_0x4f73d8){var _0x1c7447=new Uint8Array(_0x4f73d8);var _0x1cfa1b=_0x1c7447[0x0];if(_0x1cfa1b===MapVision[_0x150b('0x37')][_0x150b('0x69')]){let _0x1dad8c=new TextDecoder('utf-16')[_0x150b('0x16')](_0x4f73d8[_0x150b('0x1b')](0x1));console['log']('->\x20SS:\x20QualityControlOwnership:\x0a'+_0x1dad8c);}else if(_0x1cfa1b===MapVision[_0x150b('0x37')][_0x150b('0x7')]){let _0x25315a=new TextDecoder(_0x150b('0x66'))['decode'](_0x4f73d8['slice'](0x1));if(_0x30b7eb[_0x150b('0xed')]){_0x30b7eb[_0x150b('0xed')](JSON[_0x150b('0xaf')](_0x25315a));}if(!(_0x30b7eb[_0x150b('0x1e')]===MapVision[_0x150b('0x82')][_0x150b('0x91')]||_0x30b7eb[_0x150b('0x1e')]===MapVision['CommandType']['SetMousePositionCallback']||_0x30b7eb['_command']===MapVision['CommandType']['PlayRoute']||_0x30b7eb['_command']===MapVision[_0x150b('0x82')][_0x150b('0x47')])){_0x30b7eb[_0x150b('0xed')]=null;}}else if(_0x1cfa1b===MapVision['ToClientMessageType'][_0x150b('0x99')]){let _0x3a086b=new TextDecoder(_0x150b('0x66'))[_0x150b('0x16')](_0x4f73d8[_0x150b('0x1b')](0x1));console[_0x150b('0xc3')](_0x150b('0x2c')+_0x3a086b);}else if(_0x1cfa1b===MapVision['ToClientMessageType']['FreezeFrame']){let _0x199384=new TextDecoder(_0x150b('0x66'))['decode'](_0x4f73d8['slice'](0x1));console[_0x150b('0xc3')](_0x150b('0xeb')+_0x199384);}else if(_0x1cfa1b===MapVision['ToClientMessageType']['UnfreezeFrame']){let _0x58b927=new TextDecoder(_0x150b('0x66'))['decode'](_0x4f73d8[_0x150b('0x1b')](0x1));console[_0x150b('0xc3')](_0x150b('0xce')+_0x58b927);}};_0x30b7eb['_registerMouseEvents'](_0x485a97);_0x30b7eb[_0x150b('0xf6')](_0x485a97);_0x30b7eb[_0x150b('0x6c')](_0x485a97);_0x30b7eb['_webRtcPlayerObj'][_0x150b('0x41')]();};MapVision[_0x150b('0xec')][_0x150b('0x86')][_0x150b('0xf')]=function(_0x4e2f60){if(this['_webRtcPlayerObj']){this[_0x150b('0x5a')]['send'](_0x4e2f60);}};MapVision[_0x150b('0xec')]['prototype'][_0x150b('0x34')]=function(_0x1d0baf,_0x50281a){let _0x59c847=JSON[_0x150b('0xfb')](_0x50281a);let _0x5dc331=new DataView(new ArrayBuffer(0x1+0x2+0x2*_0x59c847['length']));let _0x2d5abe=0x0;_0x5dc331[_0x150b('0x42')](_0x2d5abe,_0x1d0baf);_0x2d5abe++;_0x5dc331['setUint16'](_0x2d5abe,_0x59c847['length'],!![]);_0x2d5abe+=0x2;for(i=0x0;i<_0x59c847[_0x150b('0xee')];i++){_0x5dc331[_0x150b('0x8')](_0x2d5abe,_0x59c847['charCodeAt'](i),!![]);_0x2d5abe+=0x2;}this['_sendInputData'](_0x5dc331['buffer']);};MapVision[_0x150b('0xec')][_0x150b('0x86')][_0x150b('0x4c')]=function(_0x761633,_0x2c2a3f){this[_0x150b('0x1e')]=_0x761633;const _0x4623f5={'cmd':_0x761633,'data':_0x2c2a3f};this['_emitDescriptor'](MapVision[_0x150b('0xad')][_0x150b('0x1c')],_0x4623f5);};MapVision['View3d']['prototype'][_0x150b('0x5d')]=function(_0x5a4782,_0x120670,_0xb13563,_0x5d9f63){let _0x25b79c=this;if(!_0x25b79c[_0x150b('0x21')]){return;}let _0x44b9b0=_0x25b79c['_normalizeAndQuantizeUnsigned'](_0x5a4782,_0x120670);let _0x40408d=_0x25b79c['_normalizeAndQuantizeSigned'](_0xb13563,_0x5d9f63);var _0x52f2fc=new DataView(new ArrayBuffer(0x9));_0x52f2fc['setUint8'](0x0,MapVision[_0x150b('0xad')]['MouseMove']);_0x52f2fc['setUint16'](0x1,_0x44b9b0['x'],!![]);_0x52f2fc[_0x150b('0x8')](0x3,_0x44b9b0['y'],!![]);_0x52f2fc['setInt16'](0x5,_0x40408d['x'],!![]);_0x52f2fc[_0x150b('0xc5')](0x7,_0x40408d['y'],!![]);_0x25b79c['_sendInputData'](_0x52f2fc['buffer']);};MapVision[_0x150b('0xec')]['prototype']['_onMouseDown']=function(_0x43ec6d,_0x50c2f7,_0x195683){let _0x11b3d3=this;if(!_0x11b3d3[_0x150b('0x21')]){return;}let _0x5d36ce=_0x11b3d3[_0x150b('0x75')](_0x50c2f7,_0x195683);var _0x53e155=new DataView(new ArrayBuffer(0x6));_0x53e155['setUint8'](0x0,MapVision['MessageType'][_0x150b('0x29')]);_0x53e155['setUint8'](0x1,_0x43ec6d);_0x53e155[_0x150b('0x8')](0x2,_0x5d36ce['x'],!![]);_0x53e155[_0x150b('0x8')](0x4,_0x5d36ce['y'],!![]);_0x11b3d3['_sendInputData'](_0x53e155['buffer']);};MapVision[_0x150b('0xec')][_0x150b('0x86')][_0x150b('0x44')]=function(_0x27a839,_0x1f55e9,_0x4a8c75){let _0xac502=this;if(!_0xac502[_0x150b('0x21')]){return;}let _0x1a5748=_0xac502['_normalizeAndQuantizeUnsigned'](_0x1f55e9,_0x4a8c75);var _0x4bdcfd=new DataView(new ArrayBuffer(0x6));_0x4bdcfd['setUint8'](0x0,MapVision['MessageType']['MouseUp']);_0x4bdcfd['setUint8'](0x1,_0x27a839);_0x4bdcfd['setUint16'](0x2,_0x1a5748['x'],!![]);_0x4bdcfd[_0x150b('0x8')](0x4,_0x1a5748['y'],!![]);_0xac502['_sendInputData'](_0x4bdcfd['buffer']);};MapVision[_0x150b('0xec')]['prototype']['_onMouseWheel']=function(_0x171fae,_0x2c2639,_0xa39271){let _0xc2e929=this;if(!_0xc2e929['_webSocket']){return;}let _0xbb74be=_0xc2e929['_normalizeAndQuantizeUnsigned'](_0x2c2639,_0xa39271);var _0x59dfd6=new DataView(new ArrayBuffer(0x7));_0x59dfd6[_0x150b('0x42')](0x0,MapVision[_0x150b('0xad')][_0x150b('0xa1')]);_0x59dfd6['setInt16'](0x1,_0x171fae,!![]);_0x59dfd6['setUint16'](0x3,_0xbb74be['x'],!![]);_0x59dfd6['setUint16'](0x5,_0xbb74be['y'],!![]);_0xc2e929['_sendInputData'](_0x59dfd6['buffer']);};MapVision['View3d']['prototype']['_releaseMouseButtons']=function(_0x298155,_0x42bde2,_0x3a7e30){if(_0x298155&MapVision['MouseButtonsMask'][_0x150b('0x98')]){this[_0x150b('0x44')](MapVision['MouseButton']['MainButton'],_0x42bde2,_0x3a7e30);}if(_0x298155&MapVision['MouseButtonsMask'][_0x150b('0x10')]){this['_onMouseUp'](MapVision[_0x150b('0xf1')][_0x150b('0x10')],_0x42bde2,_0x3a7e30);}if(_0x298155&MapVision['MouseButtonsMask'][_0x150b('0xca')]){this[_0x150b('0x44')](MapVision['MouseButton'][_0x150b('0xca')],_0x42bde2,_0x3a7e30);}if(_0x298155&MapVision['MouseButtonsMask'][_0x150b('0xc8')]){this[_0x150b('0x44')](MapVision['MouseButton'][_0x150b('0xc8')],_0x42bde2,_0x3a7e30);}if(_0x298155&MapVision['MouseButtonsMask']['FifthButton']){this['_onMouseUp'](MapVision['MouseButton']['FifthButton'],_0x42bde2,_0x3a7e30);}};MapVision['View3d'][_0x150b('0x86')][_0x150b('0x80')]=function(_0x590ad2,_0x3838c7,_0x3155b3){if(_0x590ad2&MapVision['MouseButtonsMask']['PrimaryButton']){this['_onMouseDown'](MapVision['MouseButton']['MainButton'],_0x3838c7,_0x3155b3);}if(_0x590ad2&MapVision['MouseButtonsMask'][_0x150b('0x10')]){this[_0x150b('0x8c')](MapVision['MouseButton']['SecondaryButton'],_0x3838c7,_0x3155b3);}if(_0x590ad2&MapVision[_0x150b('0xd1')]['AuxiliaryButton']){this[_0x150b('0x8c')](MapVision[_0x150b('0xf1')]['AuxiliaryButton'],_0x3838c7,_0x3155b3);}if(_0x590ad2&MapVision['MouseButtonsMask']['FourthButton']){this[_0x150b('0x8c')](MapVision[_0x150b('0xf1')]['FourthButton'],_0x3838c7,_0x3155b3);}if(_0x590ad2&MapVision[_0x150b('0xd1')][_0x150b('0xaa')]){this[_0x150b('0x8c')](MapVision[_0x150b('0xf1')][_0x150b('0xaa')],_0x3838c7,_0x3155b3);}};MapVision['View3d'][_0x150b('0x86')]['_normalizeAndQuantizeUnsigned']=function(_0x529337,_0x3710de){let _0x51d14d=this;if(!_0x51d14d['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x219c45=_0x51d14d[_0x150b('0x3')];let _0x310c73=_0x51d14d[_0x150b('0x5a')]['video'];let _0x5788e6=_0x219c45['clientHeight']/_0x219c45[_0x150b('0x35')];let _0x2c06f3=_0x310c73['videoHeight']/_0x310c73['videoWidth'];if(_0x5788e6>_0x2c06f3){let _0x5d9df9=_0x5788e6/_0x2c06f3;let _0x4b0210=_0x529337/_0x219c45['clientWidth'];let _0x5391b7=_0x5d9df9*(_0x3710de/_0x219c45[_0x150b('0xe4')]-0.5)+0.5;if(_0x4b0210<0x0||_0x4b0210>0x1||_0x5391b7<0x0||_0x5391b7>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x4b0210*0x10000,'y':_0x5391b7*0x10000};}}else{let _0x35f99e=_0x2c06f3/_0x5788e6;let _0x4b01b3=_0x35f99e*(_0x529337/_0x219c45['clientWidth']-0.5)+0.5;let _0x509bd7=_0x3710de/_0x219c45[_0x150b('0xe4')];if(_0x4b01b3<0x0||_0x4b01b3>0x1||_0x509bd7<0x0||_0x509bd7>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x4b01b3*0x10000,'y':_0x509bd7*0x10000};}}};MapVision['View3d']['prototype'][_0x150b('0xfc')]=function(_0x31df5e,_0x590064){let _0xce16ec=this;if(!_0xce16ec['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x552c6c=_0xce16ec['_webRtcPlayerHtmlElement'];let _0x174d29=_0xce16ec['_webRtcPlayerObj']['video'];let _0x427046=_0x552c6c[_0x150b('0xe4')]/_0x552c6c[_0x150b('0x35')];let _0xfbf3d7=_0x174d29['videoHeight']/_0x174d29['videoWidth'];if(_0x427046>_0xfbf3d7){let _0x2ee866=_0x427046/_0xfbf3d7;let _0x1f2c4b=_0x31df5e/(0.5*_0x552c6c['clientWidth']);let _0x2af806=_0x2ee866*_0x590064/(0.5*_0x552c6c['clientHeight']);return{'x':_0x1f2c4b*0x7fff,'y':_0x2af806*0x7fff};}else{let _0x26d4c3=_0xfbf3d7/_0x427046;let _0xf3e929=_0x26d4c3*_0x31df5e/(0.5*_0x552c6c[_0x150b('0x35')]);let _0x172d37=_0x590064/(0.5*_0x552c6c['clientHeight']);return{'x':_0xf3e929*0x7fff,'y':_0x172d37*0x7fff};}};MapVision[_0x150b('0xec')]['prototype'][_0x150b('0xb8')]=function(_0x450ee2,_0x25efb2){let _0x27f801=this;if(!_0x27f801['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x5a571b=_0x27f801[_0x150b('0x3')];let _0x45f06d=_0x27f801[_0x150b('0x5a')][_0x150b('0x67')];let _0x1e0235=_0x5a571b[_0x150b('0xe4')]/_0x5a571b[_0x150b('0x35')];let _0x2ffe13=_0x45f06d[_0x150b('0x97')]/_0x45f06d['videoWidth'];if(_0x1e0235>_0x2ffe13){let _0x5763e2=_0x1e0235/_0x2ffe13;let _0x49c85d=_0x450ee2/0x10000;let _0x1f4cbf=(_0x25efb2/0x10000-0.5)/_0x5763e2+0.5;return{'x':_0x49c85d*_0x5a571b['clientWidth'],'y':_0x1f4cbf*_0x5a571b[_0x150b('0xe4')]};}else{let _0x6d64ce=(_0x450ee2/0x10000-0.5)/ratio+0.5;let _0x5d9b12=_0x25efb2/0x10000;return{'x':_0x6d64ce*_0x5a571b[_0x150b('0x35')],'y':_0x5d9b12*_0x5a571b['clientHeight']};}};MapVision['View3d']['prototype'][_0x150b('0x7a')]=function(_0x584e3a){this['_webRtcPlayerObj'][_0x150b('0xb7')](_0x584e3a);this[_0x150b('0x5a')][_0x150b('0xf5')]=_0x46cddb=>{};this['_webRtcPlayerObj'][_0x150b('0x0')](0x1*0x3e8);};MapVision['View3d']['prototype']['_onWebRtcIce']=function(_0x568089){if(this[_0x150b('0x5a')])this[_0x150b('0x5a')]['handleCandidateFromServer'](_0x568089);};