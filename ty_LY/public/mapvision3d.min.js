const _0x2c45=['./adapter','style','OpenMap','currentRoundTripTime','warn','StartRoute','preventDefault','buffer','SetParameters','GetFloorRoomNum','GetDownFloorNames','json',')\x20closed','_onMouseDownCallback','dcClient','_requestQualityControl','application/x-www-form-urlencoded','RequestInitialSettings','bytesReceived','SplitDynamicFloor','framesDropped','reason','cirrus','bytesReceivedStart','getElementById','readyState','floor','this._webSocket\x20error:\x20','ClearObjectStyle','pressMouseButtons','BackSpace','url','SetObjectsHighlightByPrefix','visibility','LayerLoad','SplitBuilding','GetFloorDeviceVisible','movementX','SecondaryButton','No\x20data\x20channel','get','setInt16','ICE\x20candidate:\x20','_normalizeAndQuantizeSigned','enableKeyboard','substring','_requestInitialSettings','Audio','timestampStart','GetBuildingVisible','OverLayerCreateObject','GetFloorDeviceName','onAggregatedStats','SetBuildingVisible','Hurray!\x20there\x27s\x20RTCPeerConnection.SetBitrate\x20function','indexOf','error','OnAllLatencyTimingsReady','gid','onmousemove','sdpConstraints','hasOwnProperty','XMLHttpRequest','GetFloorRoomName','addEventListener','WS_OPEN_STATE','UnfreezeFrame','log','onWebRtcOffer','Alt','onicegatheringstatechange','AuxiliaryButton','Model3D','streamingVideo','onclose','IsPlayingSequence','StreamVideoCloseAll','frameWidthStart','FindObjectById','linestring','highFramerate','SetFrameDisplayDeltaTime','clientWidth','->\x20SS:\x20Command:\x0a','BrowserReceiptTimeMs','GetBuildingNames','_callback','UEReceiptTimeMs','candidate','WS\x20closed:\x20','oniceconnectionstatechange','audio','_onMouseUp','useinbandfec=1;stereo=1;sprop-maxcapturerate=48000','StopSequence','video','ws://','GetUpFloorNames','aggregatedStats','bitrate','SetObjectsHighlight','Point2D','onmousewheel','send','info','length','data\x20channel\x20(','WebSocket','GetCurrentPosition','stringify','onkeyup','token','FlyToPosition','websocket\x20connected','offerExtmapAllowMixed','projectId','Created\x20new\x20audio\x20element\x20to\x20play\x20seperate\x20audio\x20stream.','invalid\x20SS\x20message\x20type:\x20','IsPausedSequence','close','repeat','push','_webSocket','srcObject','QualityControlOwnership','binaryType','OverLayerRemoveObjectsById','Rotate','GetBuildingNum','packetsLost','onmouseleave','_pressMouseButtons','createOffer','SetMousePositionCallback','videoHeight','avgBitrate','_onWebRtcAnswer','StreamVideoClose','FifthButton','SetPosition','RightControl','GetFloorRoomNames','offsetY','avgframerate','Position','UEPreEncodeTimeMs','dataChannelOptions','GetBuildingName','utf-16','toLowerCase','receiveTime','setUint16','cfg','ResumeRoute','track','GetFloorVisible','ctrlKey','open','Control','View3d','localhost','receiveToCompositeMs','onmousedown','FourthButton','prototype','_emiUICommand','_registerTouchEvents','buttons','position','clientHeight','_mouseDownStatus','GetFloorDeviceNames','_command','speed','ice\x20gathering\x20state\x20change:','ToClientMessageType','highBitrate','decode','PostCaptureTimeMs','GetHomePosition','tnClient','GetScrrenPosition','MouseButton','_webRtcPlayerObj','_emitDescriptor','search','GetDownFloorNum','TestStartTimeMs','MouseLeave','Clear','SetFloorRoomVisible','Point','lowFramerate','_sendInputData','setUint8','GetFloorDeviceNum','signaling\x20state\x20change:','pitch','onVideoInitialised','useMic','IsClose','SplitDynamicBuilding','GET','#ff0000','FrameDisplayDeltaTimeMs','frameWidth','OverLayerUpdateObject','_onMouseUpCallback','MapVision','127.0.0.1','mediaType','For\x20testing\x20you\x20can\x20enable\x20HTTP\x20microphone\x20access\x20Chrome\x20by\x20visiting\x20chrome://flags/\x20and\x20enabling\x20\x27unsafely-treat-insecure-origin-as-secure\x27','ClearHighlight','StopRoute','onmouseup','addTransceiver','latencyTestTimings','MouseButtonsMask','MouseUp','code','SetObjectHighlight','frameHeightStart','Parameter\x20ERROR','onkeypress','FlyToObjectById','_onMouseWheel','charCodeAt','now','ReceiptTimeMs','has','default','ICE\x20candidate','OverLayerRemoveObject','_callbackMouse','recvonly','getUserMedia','FindObjectByPrefix','SetNorthControl','slice','_unregisterEvents','_registerCallback','_onWebRtcIce','amd','RequestQualityControl','/aimapvision3d','LayersLoad','onWebRtcCandidate','Content-type','http:','showlocation','GetObjectsVisible','hidden','PlaySequence','onDataChannelConnected','SetFloorDeviceVisible','offsetX','OverLayerStartEdit','framesReceived','CreateObject','getStats','aggregateStatsIntervalId','polygon','UpdateObjectStyle','autoplay','_webRtcPlayerHtmlElement','pcClient','SetGroundVisible','_onMouseSelectedObj','POST','data','UnRegisterEvent','keyCode','ActiveXObject','OverLayerRemoveObjectById','_normalizeAndQuantizeUnsigned','lowBitrate','button','videoWidth','type','UpdateObject','CommandType','then','ontrack','StreamVideoOpen','MouseMove','startLatencyTest','kind','setLocalDescription','LineString','enableMouse','LayerRemove','PreEncodeTimeMs','Closing\x20existing\x20peerClient','timestamp','UEPostCaptureTimeMs','GetFloorNames','https:','onDataChannelMessage','OverLayerCreateObjects','floors','OverLayerSelectObjectEdit','iframe','SetMouseCallback','SplitFloorReset','SetObjectsVisible','forEach','video_label','replace','CreateRoute','UEPreCaptureTimeMs','onmouseenter','_onMouseMoveCallback','radio','highlight','_connectWebsocket','framesDecodedStart','framerate','UpdateObjectVisible','GetSelectedObject','_onMouseDown','releaseMouseButtons','UETransmissionTimeMs','_createWebRtcPlayer','ShiftRight','MessageType','SetResolution','framesDecoded','PrimaryButton',')\x20connect','config','receiveAnswer','_releaseMouseButtons'];const _0x191c=function(_0x2c456d,_0x191c0a){_0x2c456d=_0x2c456d-0x0;let _0x415947=_0x2c45[_0x2c456d];return _0x415947;};(function(_0x5fffea,_0x280c96){if(typeof define==='function'&&define[_0x191c('0xf2')]){define([_0x191c('0x0')],_0x280c96);}else if(typeof exports==='object'){module['exports']=_0x280c96(require('./adapter'));}else{_0x5fffea['webRtcPlayer']=_0x280c96(_0x5fffea['adapter']);}}(this,function(_0x108a05){function _0x15aa74(_0x42b48e){_0x42b48e=_0x42b48e||{};var _0xd9564c=this;this['cfg']=_0x42b48e['peerConnectionOptions']||{};this[_0x191c('0x98')]['sdpSemantics']='unified-plan';this[_0x191c('0x98')][_0x191c('0x72')]=![];this['pcClient']=null;this[_0x191c('0xe')]=null;this[_0x191c('0xb4')]=null;this[_0x191c('0x3c')]={'offerToReceiveAudio':0x1,'offerToReceiveVideo':0x1,'voiceActivityDetection':![]};this[_0x191c('0x92')]={'ordered':!![]};const _0x443c7a=new URLSearchParams(window['location'][_0x191c('0xb9')]);this[_0x191c('0xc7')]=_0x443c7a[_0x191c('0xe5')](_0x191c('0xc7'));if(!this[_0x191c('0xc7')]){console['log']('Microphone\x20access\x20is\x20not\x20enabled.\x20Pass\x20?useMic\x20in\x20the\x20url\x20to\x20enable\x20it.');}let _0x2ac26b=location['hostname']===_0x191c('0xa0')||location['hostname']===_0x191c('0xd1');let _0x273698=location['protocol']===_0x191c('0x128');if(this['useMic']&&!_0x2ac26b&&!_0x273698){this['useMic']=![];console[_0x191c('0x38')]('Microphone\x20access\x20in\x20the\x20browser\x20will\x20not\x20work\x20if\x20you\x20are\x20not\x20on\x20HTTPS\x20or\x20localhost.\x20Disabling\x20mic\x20access.');console[_0x191c('0x38')](_0x191c('0xd3'));}this[_0x191c('0xd8')]={'TestStartTimeMs':null,'UEReceiptTimeMs':null,'UEPreCaptureTimeMs':null,'UEPostCaptureTimeMs':null,'UEPreEncodeTimeMs':null,'UEPostEncodeTimeMs':null,'UETransmissionTimeMs':null,'BrowserReceiptTimeMs':null,'FrameDisplayDeltaTimeMs':null,'Reset':function(){this['TestStartTimeMs']=null;this[_0x191c('0x57')]=null;this[_0x191c('0x135')]=null;this['UEPostCaptureTimeMs']=null;this['UEPreEncodeTimeMs']=null;this['UEPostEncodeTimeMs']=null;this['UETransmissionTimeMs']=null;this[_0x191c('0x54')]=null;this[_0x191c('0xcc')]=null;},'SetUETimings':function(_0x3db895){this[_0x191c('0x57')]=_0x3db895[_0x191c('0xe4')];this[_0x191c('0x135')]=_0x3db895['PreCaptureTimeMs'];this[_0x191c('0x126')]=_0x3db895[_0x191c('0xb2')];this[_0x191c('0x91')]=_0x3db895[_0x191c('0x123')];this['UEPostEncodeTimeMs']=_0x3db895['PostEncodeTimeMs'];this[_0x191c('0x141')]=_0x3db895['TransmissionTimeMs'];this['BrowserReceiptTimeMs']=Date['now']();this[_0x191c('0x39')](this);},'SetFrameDisplayDeltaTime':function(_0x2dd86f){if(this['FrameDisplayDeltaTimeMs']==null){this['FrameDisplayDeltaTimeMs']=Math['round'](_0x2dd86f);this['OnAllLatencyTimingsReady'](this);}},'OnAllLatencyTimingsReady':function(_0x4b61e4){}};createWebRtcVideo=function(){var _0x575b86=document['createElement']('video');_0x575b86['id']=_0x191c('0x49');_0x575b86['playsInline']=!![];_0x575b86['disablepictureinpicture']=!![];_0x575b86['muted']=![];_0x575b86['addEventListener']('loadedmetadata',function(_0x2cdb22){if(_0xd9564c['onVideoInitialised']){_0xd9564c[_0x191c('0xc6')]();}},!![]);if('requestVideoFrameCallback'in HTMLVideoElement['prototype']){const _0x2dd846=(_0x388a28,_0x4db310)=>{if(_0x4db310[_0x191c('0x96')]&&_0x4db310['expectedDisplayTime']){const _0x3c1d79=_0x4db310['presentationTime']-_0x4db310['receiveTime'];_0xd9564c[_0x191c('0x62')][_0x191c('0xa1')]=_0x3c1d79;}_0x575b86['requestVideoFrameCallback'](_0x2dd846);};_0x575b86['requestVideoFrameCallback'](_0x2dd846);}return _0x575b86;};this[_0x191c('0x5f')]=createWebRtcVideo();onsignalingstatechange=function(_0x1a14cc){console['info'](_0x191c('0xc4'),_0x1a14cc);};oniceconnectionstatechange=function(_0x1074c){console['info']('ice\x20connection\x20state\x20change:',_0x1074c);};onicegatheringstatechange=function(_0x125c4d){console[_0x191c('0x68')](_0x191c('0xae'),_0x125c4d);};handleOnTrack=function(_0x7858d1){if(_0x7858d1['track']){}if(_0x7858d1['track']['kind']==_0x191c('0x5b')){handleOnAudioTrack(_0x7858d1['streams'][0x0]);return;}else _0x7858d1['track'][_0x191c('0x11e')]==_0x191c('0x5f')&&_0xd9564c['video'][_0x191c('0x7b')]!==_0x7858d1['streams'][0x0];{_0xd9564c[_0x191c('0x5f')]['srcObject']=_0x7858d1['streams'][0x0];return;}};handleOnAudioTrack=function(_0x43297d){if(_0xd9564c[_0x191c('0x5f')][_0x191c('0x7b')]==_0x43297d){return;}else if(_0xd9564c[_0x191c('0x5f')][_0x191c('0x7b')]&&_0xd9564c[_0x191c('0x5f')]['srcObject']!==_0x43297d){let _0x4c6d0a=document['createElement'](_0x191c('0x2f'));_0x4c6d0a[_0x191c('0x107')]=!![];_0x4c6d0a['srcObject']=_0x43297d;_0x4c6d0a['play']();console[_0x191c('0x43')](_0x191c('0x74'));}};setupDataChannel=function(_0x3eec0d,_0x8d34fe,_0x4fe1fb){try{let _0x312ced=_0x3eec0d['createDataChannel'](_0x8d34fe,_0x4fe1fb);console['log']('Created\x20datachannel\x20('+_0x8d34fe+')');_0x312ced[_0x191c('0x7d')]='arraybuffer';_0x312ced['onopen']=function(_0x38187f){console[_0x191c('0x43')](_0x191c('0x6a')+_0x8d34fe+_0x191c('0x148'));if(_0xd9564c[_0x191c('0xfd')]){_0xd9564c[_0x191c('0xfd')]();}};_0x312ced[_0x191c('0x4a')]=function(_0x36d49c){console[_0x191c('0x43')]('data\x20channel\x20('+_0x8d34fe+_0x191c('0xc'));};_0x312ced['onmessage']=function(_0x763d28){if(_0xd9564c['onDataChannelMessage'])_0xd9564c[_0x191c('0x129')](_0x763d28[_0x191c('0x10d')]);};return _0x312ced;}catch(_0x1cc832){console[_0x191c('0x4')](_0x191c('0x27'),_0x1cc832);return null;}};onicecandidate=function(_0x21691e){console['log'](_0x191c('0xe7'),_0x21691e);if(_0x21691e['candidate']&&_0x21691e[_0x191c('0x58')][_0x191c('0x58')]){_0xd9564c[_0x191c('0xf6')](_0x21691e['candidate']);}};handleCreateOffer=function(_0x55a757){_0x55a757[_0x191c('0x84')](_0xd9564c[_0x191c('0x3c')])['then'](function(_0x32ed81){mungeSDPOffer(_0x32ed81);_0x55a757[_0x191c('0x11f')](_0x32ed81);if(_0xd9564c[_0x191c('0x44')]){_0xd9564c['onWebRtcOffer'](_0x32ed81);}},function(){console['warn']('Couldn\x27t\x20create\x20offer');});};mungeSDPOffer=function(_0x5e840a){_0x5e840a['sdp']=_0x5e840a['sdp'][_0x191c('0x133')]('useinbandfec=1',_0x191c('0x5d'));};setupPeerConnection=function(_0xb0fc3d){if(_0xb0fc3d['SetBitrate'])console[_0x191c('0x43')](_0x191c('0x36'));_0xb0fc3d['onsignalingstatechange']=onsignalingstatechange;_0xb0fc3d[_0x191c('0x5a')]=oniceconnectionstatechange;_0xb0fc3d[_0x191c('0x46')]=onicegatheringstatechange;_0xb0fc3d[_0x191c('0x11a')]=handleOnTrack;_0xb0fc3d['onicecandidate']=onicecandidate;};generateAggregatedStatsFunction=function(){if(!_0xd9564c['aggregatedStats'])_0xd9564c[_0x191c('0x62')]={};return function(_0x432b63){let _0x1adbd5={};_0x432b63[_0x191c('0x131')](_0x344a90=>{if(_0x344a90[_0x191c('0x116')]=='inbound-rtp'&&!_0x344a90['isRemote']&&(_0x344a90[_0x191c('0xd2')]=='video'||_0x344a90['id'][_0x191c('0x95')]()['includes']('video'))){_0x1adbd5[_0x191c('0x125')]=_0x344a90['timestamp'];_0x1adbd5[_0x191c('0x12')]=_0x344a90['bytesReceived'];_0x1adbd5[_0x191c('0x146')]=_0x344a90[_0x191c('0x146')];_0x1adbd5[_0x191c('0x81')]=_0x344a90[_0x191c('0x81')];_0x1adbd5['bytesReceivedStart']=_0xd9564c['aggregatedStats']&&_0xd9564c['aggregatedStats'][_0x191c('0x17')]?_0xd9564c[_0x191c('0x62')][_0x191c('0x17')]:_0x344a90['bytesReceived'];_0x1adbd5['framesDecodedStart']=_0xd9564c['aggregatedStats']&&_0xd9564c['aggregatedStats'][_0x191c('0x13b')]?_0xd9564c[_0x191c('0x62')][_0x191c('0x13b')]:_0x344a90[_0x191c('0x146')];_0x1adbd5[_0x191c('0x30')]=_0xd9564c[_0x191c('0x62')]&&_0xd9564c[_0x191c('0x62')][_0x191c('0x30')]?_0xd9564c[_0x191c('0x62')]['timestampStart']:_0x344a90[_0x191c('0x125')];if(_0xd9564c[_0x191c('0x62')]&&_0xd9564c[_0x191c('0x62')][_0x191c('0x125')]){if(_0xd9564c[_0x191c('0x62')][_0x191c('0x12')]){_0x1adbd5['bitrate']=0x8*(_0x1adbd5[_0x191c('0x12')]-_0xd9564c[_0x191c('0x62')]['bytesReceived'])/(_0x1adbd5['timestamp']-_0xd9564c[_0x191c('0x62')][_0x191c('0x125')]);_0x1adbd5['bitrate']=Math['floor'](_0x1adbd5[_0x191c('0x63')]);_0x1adbd5['lowBitrate']=_0xd9564c['aggregatedStats'][_0x191c('0x113')]&&_0xd9564c[_0x191c('0x62')][_0x191c('0x113')]<_0x1adbd5[_0x191c('0x63')]?_0xd9564c[_0x191c('0x62')]['lowBitrate']:_0x1adbd5['bitrate'];_0x1adbd5['highBitrate']=_0xd9564c[_0x191c('0x62')][_0x191c('0xb0')]&&_0xd9564c[_0x191c('0x62')][_0x191c('0xb0')]>_0x1adbd5[_0x191c('0x63')]?_0xd9564c[_0x191c('0x62')]['highBitrate']:_0x1adbd5[_0x191c('0x63')];}if(_0xd9564c[_0x191c('0x62')]['bytesReceivedStart']){_0x1adbd5[_0x191c('0x87')]=0x8*(_0x1adbd5[_0x191c('0x12')]-_0xd9564c['aggregatedStats']['bytesReceivedStart'])/(_0x1adbd5[_0x191c('0x125')]-_0xd9564c['aggregatedStats']['timestampStart']);_0x1adbd5[_0x191c('0x87')]=Math[_0x191c('0x1a')](_0x1adbd5[_0x191c('0x87')]);}if(_0xd9564c[_0x191c('0x62')][_0x191c('0x146')]){_0x1adbd5[_0x191c('0x13c')]=(_0x1adbd5['framesDecoded']-_0xd9564c[_0x191c('0x62')][_0x191c('0x146')])/((_0x1adbd5[_0x191c('0x125')]-_0xd9564c[_0x191c('0x62')][_0x191c('0x125')])/0x3e8);_0x1adbd5[_0x191c('0x13c')]=Math[_0x191c('0x1a')](_0x1adbd5[_0x191c('0x13c')]);_0x1adbd5[_0x191c('0xc0')]=_0xd9564c['aggregatedStats'][_0x191c('0xc0')]&&_0xd9564c[_0x191c('0x62')]['lowFramerate']<_0x1adbd5['framerate']?_0xd9564c[_0x191c('0x62')]['lowFramerate']:_0x1adbd5['framerate'];_0x1adbd5[_0x191c('0x50')]=_0xd9564c[_0x191c('0x62')][_0x191c('0x50')]&&_0xd9564c['aggregatedStats'][_0x191c('0x50')]>_0x1adbd5[_0x191c('0x13c')]?_0xd9564c['aggregatedStats'][_0x191c('0x50')]:_0x1adbd5[_0x191c('0x13c')];}if(_0xd9564c['aggregatedStats'][_0x191c('0x13b')]){_0x1adbd5[_0x191c('0x8f')]=(_0x1adbd5[_0x191c('0x146')]-_0xd9564c[_0x191c('0x62')]['framesDecodedStart'])/((_0x1adbd5[_0x191c('0x125')]-_0xd9564c[_0x191c('0x62')]['timestampStart'])/0x3e8);_0x1adbd5[_0x191c('0x8f')]=Math['floor'](_0x1adbd5[_0x191c('0x8f')]);}}}if(_0x344a90[_0x191c('0x116')]==_0x191c('0x9a')&&(_0x344a90['trackIdentifier']==_0x191c('0x132')||_0x344a90[_0x191c('0x11e')]=='video')){_0x1adbd5[_0x191c('0x14')]=_0x344a90['framesDropped'];_0x1adbd5['framesReceived']=_0x344a90[_0x191c('0x101')];_0x1adbd5['framesDroppedPercentage']=_0x344a90[_0x191c('0x14')]/_0x344a90[_0x191c('0x101')]*0x64;_0x1adbd5['frameHeight']=_0x344a90['frameHeight'];_0x1adbd5[_0x191c('0xcd')]=_0x344a90[_0x191c('0xcd')];_0x1adbd5['frameHeightStart']=_0xd9564c['aggregatedStats']&&_0xd9564c['aggregatedStats']['frameHeightStart']?_0xd9564c[_0x191c('0x62')][_0x191c('0xdd')]:_0x344a90['frameHeight'];_0x1adbd5['frameWidthStart']=_0xd9564c[_0x191c('0x62')]&&_0xd9564c[_0x191c('0x62')][_0x191c('0x4d')]?_0xd9564c['aggregatedStats']['frameWidthStart']:_0x344a90['frameWidth'];}if(_0x344a90['type']=='candidate-pair'&&_0x344a90[_0x191c('0x3d')]('currentRoundTripTime')&&_0x344a90[_0x191c('0x3')]!=0x0){_0x1adbd5[_0x191c('0x3')]=_0x344a90[_0x191c('0x3')];}});if(_0xd9564c['aggregatedStats']['receiveToCompositeMs']){_0x1adbd5[_0x191c('0xa1')]=_0xd9564c['aggregatedStats'][_0x191c('0xa1')];_0xd9564c[_0x191c('0xd8')][_0x191c('0x51')](_0xd9564c[_0x191c('0x62')]['receiveToCompositeMs']);}_0xd9564c[_0x191c('0x62')]=_0x1adbd5;if(_0xd9564c[_0x191c('0x34')])_0xd9564c[_0x191c('0x34')](_0x1adbd5);};};setupTracksToSendAsync=async function(_0x23ef9c){_0x23ef9c['addTransceiver'](_0x191c('0x5f'),{'direction':'recvonly'});if(!_0xd9564c[_0x191c('0xc7')]){_0x23ef9c['addTransceiver']('audio',{'direction':_0x191c('0xea')});}else{let _0x15e2c4=_0xd9564c[_0x191c('0xc7')]?{'autoGainControl':![],'channelCount':0x1,'echoCancellation':![],'latency':0x0,'noiseSuppression':![],'sampleRate':0x3e80,'volume':0x1}:![];const _0x553851=await navigator['mediaDevices'][_0x191c('0xeb')]({'video':![],'audio':_0x15e2c4});if(_0x553851){for(const _0x17c6d2 of _0x553851['getTracks']()){if(_0x17c6d2[_0x191c('0x11e')]&&_0x17c6d2[_0x191c('0x11e')]==_0x191c('0x5b')){_0x23ef9c[_0x191c('0xd7')](_0x17c6d2,{'direction':'sendrecv'});}}}else{_0x23ef9c['addTransceiver']('audio',{'direction':_0x191c('0xea')});}}};this[_0x191c('0x11d')]=function(_0x4c95d8){if(!_0xd9564c['video']){return;}_0xd9564c['latencyTestTimings']['Reset']();_0xd9564c[_0x191c('0xd8')][_0x191c('0xbb')]=Date[_0x191c('0xe3')]();_0x4c95d8(_0xd9564c['latencyTestTimings']['TestStartTimeMs']);};this['handleCandidateFromServer']=function(_0x101e8c){console[_0x191c('0x43')](_0x191c('0x2a'),_0x101e8c);let _0x5ecdca=new RTCIceCandidate(_0x101e8c);_0xd9564c[_0x191c('0x109')]['addIceCandidate'](_0x5ecdca)[_0x191c('0x119')](_0x570662=>{console['log']('ICE\x20candidate\x20successfully\x20added');});};this[_0x191c('0x84')]=function(){if(_0xd9564c[_0x191c('0x109')]){console[_0x191c('0x43')]('Closing\x20existing\x20PeerConnection');_0xd9564c['pcClient']['close']();_0xd9564c['pcClient']=null;}_0xd9564c['pcClient']=new RTCPeerConnection(_0xd9564c['cfg']);setupTracksToSendAsync(_0xd9564c[_0x191c('0x109')])['finally'](function(){setupPeerConnection(_0xd9564c[_0x191c('0x109')]);_0xd9564c[_0x191c('0xe')]=setupDataChannel(_0xd9564c[_0x191c('0x109')],_0x191c('0x16'),_0xd9564c['dataChannelOptions']);handleCreateOffer(_0xd9564c['pcClient']);});};this['receiveAnswer']=function(_0x1d10b7){var _0x9deab8=new RTCSessionDescription(_0x1d10b7);_0xd9564c['pcClient']['setRemoteDescription'](_0x9deab8);let _0x53f8e1=_0xd9564c['pcClient']['getReceivers']();for(let _0x226aec of _0x53f8e1){_0x226aec['playoutDelayHint']=0x0;}};this[_0x191c('0x77')]=function(){if(_0xd9564c['pcClient']){console[_0x191c('0x43')](_0x191c('0x124'));_0xd9564c['pcClient']['close']();_0xd9564c[_0x191c('0x109')]=null;}if(_0xd9564c[_0x191c('0x104')])clearInterval(_0xd9564c[_0x191c('0x104')]);};this['send']=function(_0x15e29b){if(_0xd9564c[_0x191c('0xe')]&&_0xd9564c['dcClient']['readyState']==_0x191c('0x9d')){_0xd9564c[_0x191c('0xe')][_0x191c('0x67')](_0x15e29b);}};this[_0x191c('0x103')]=function(_0x1d03af){if(_0xd9564c['pcClient']&&_0x1d03af){_0xd9564c[_0x191c('0x109')]['getStats'](null)[_0x191c('0x119')](_0x69ebc4=>{_0x1d03af(_0x69ebc4);});}};this['aggregateStats']=function(_0x52885f){let _0x181e73=generateAggregatedStatsFunction();let _0x5019de=()=>{_0xd9564c[_0x191c('0x103')](_0x181e73);};_0xd9564c[_0x191c('0x104')]=setInterval(_0x5019de,_0x52885f);};};return _0x15aa74;}));'use\x20strict';var MapVision=window[_0x191c('0xd0')]||{};MapVision['version']=()=>{return'1.0.1';};MapVision['OpenStatus']={'Unknown':0x0,'Connected':0x1,'UnConnected':0x2};MapVision['Events']={'MouseEvents':0x1,'TouchEvents':0x2,'KeyboardEvents':0x3};MapVision[_0x191c('0xaf')]={'QualityControlOwnership':0x0,'Response':0x1,'Command':0x2,'FreezeFrame':0x3,'UnfreezeFrame':0x4};MapVision['MessageType']={'IFrameRequest':0x0,'RequestQualityControl':0x1,'MaxFpsRequest':0x2,'AverageBitrateRequest':0x3,'StartStreaming':0x4,'StopStreaming':0x5,'LatencyTest':0x6,'RequestInitialSettings':0x7,'UIInteraction':0x32,'Command':0x33,'KeyDown':0x3c,'KeyUp':0x3d,'KeyPress':0x3e,'MouseEnter':0x46,'MouseLeave':0x47,'MouseDown':0x48,'MouseUp':0x49,'MouseMove':0x4a,'MouseWheel':0x4b,'TouchStart':0x50,'TouchEnd':0x51,'TouchMove':0x52};MapVision['MouseButton']={'MainButton':0x0,'AuxiliaryButton':0x1,'SecondaryButton':0x2,'FourthButton':0x3,'FifthButton':0x4};MapVision['MouseButtonsMask']={'PrimaryButton':0x1,'SecondaryButton':0x2,'AuxiliaryButton':0x4,'FourthButton':0x8,'FifthButton':0x10};MapVision['MapStatusType']={'Pan':0x0,'Select':0x1,'SelectPositionCallback':0x2,'SelectObjectCallback':0x3};MapVision['CommandType']={'SetParameters':0x186a0,'ScreenToWorld':0x186a1,'WorldToScreen':0x186a2,'SetResolution':0x186a4,'EnableKeyboard':0x186a5,'SetMapStatus':0x18704,'Stop':0x18705,'Clear':0x18706,'Rotate':0x18707,'GetHomePosition':0x18708,'ResetHome':0x18709,'GetCurrentPosition':0x1870a,'SetMouseCallback':0x1870b,'SetPosition':0x1870c,'FlyToPosition':0x1870d,'FlyToObject':0x1870e,'FlyToObjectById':0x18711,'SetMousePositionCallback':0x18712,'GetMaps':0x18718,'OpenMap':0x18719,'GetScrrenPosition':0x18723,'CreateObject':0x18769,'CreateRoute':0x1876a,'PlayRoute':0x1876d,'PauseRoute':0x1876e,'StopRoute':0x1876f,'ResumeRoute':0x18770,'PlaySequence':0x18773,'PauseSequence':0x18774,'IsPlayingSequence':0x18775,'IsPausedSequence':0x18776,'StopSequence':0x18777,'StreamVideoOpen':0x1877d,'StreamVideoClose':0x1877e,'StreamVideoCloseAll':0x1877f,'FindObjectById':0x18787,'FindObjectByName':0x18789,'FindObjectByPrefix':0x1878a,'GetSelectedObject':0x1878b,'UpdateObject':0x1878d,'UpdateObjectVisible':0x1878e,'UpdateObjectStyle':0x1878f,'UpdateObjectVisibleByPrefix':0x18790,'ClearObjectStyle':0x1879a,'GetObjectsVisible':0x187a5,'SetObjectsVisible':0x187a6,'SetObjectHighlight':0x187af,'SetObjectsHighlight':0x187b0,'SetObjectsHighlightByPrefix':0x187b1,'ClearHighlight':0x187b2,'GetBuildingNum':0x18831,'GetBuildingName':0x18832,'GetBuildingNames':0x18833,'GetBuildingVisible':0x18834,'SetBuildingVisible':0x18835,'SetBuildingWkVisible':0x18836,'ResetAllBuildings':0x18837,'SplitBuilding':0x18838,'SplitBuildingReset':0x18839,'SplitDynamicBuilding':0x18862,'SplitDynamicFloor':0x18863,'SplitFloorReset':0x18864,'GetFloorNum':0x1883b,'GetFloorName':0x1883c,'GetFloorNames':0x1883d,'GetFloorVisible':0x1883e,'SetFloorVisible':0x1883f,'GetUpFloorNum':0x18840,'GetUpFloorNames':0x18841,'GetDownFloorNum':0x18842,'GetDownFloorNames':0x18843,'GetFloorRoomNum':0x18845,'GetFloorRoomName':0x18846,'GetFloorRoomNames':0x18847,'GetFloorRoomVisible':0x18848,'SetFloorRoomVisible':0x18849,'GetFloorDeviceNum':0x1884f,'GetFloorDeviceName':0x18850,'GetFloorDeviceNames':0x18851,'GetFloorDeviceVisible':0x18852,'SetFloorDeviceVisible':0x18853,'SetGroundVisible':0x18895,'OverLayerStartEdit':0x188f9,'OverLayerStopEdit':0x188fa,'OverLayerSelectObjectEdit':0x188fb,'OverLayerFindObject':0x188fc,'OverLayerCreateObject':0x18903,'OverLayerUpdateObject':0x18904,'OverLayerRemoveObject':0x18905,'OverLayerRemoveAll':0x18906,'OverLayerRemoveAllCustom':0x18907,'OverLayerCreateObjects':0x18908,'OverLayerRemoveObjects':0x18909,'LayerLoad':0x18917,'LayerReLoad':0x18918,'LayersLoad':0x18919,'LayerSelectObject':0x1891b,'LayerRemove':0x1891c,'LayerSetVisible':0x1891d,'NorthControl':0x18a25,'PositionControl':0x18a26};MapVision[_0x191c('0x65')]=function(){this['x']=0x0;this['y']=0x0;};MapVision[_0x191c('0xbf')]=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;};MapVision['Position']=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;this['pitch']=0x0;this['yaw']=0x0;this['roll']=0x0;};MapVision['Label']=function(){this['type']='label';this['gid']=0x1;this['name']='';this[_0x191c('0x1')]='';this[_0x191c('0xa8')]=new MapVision[(_0x191c('0x90'))]();};MapVision[_0x191c('0x48')]=function(){this[_0x191c('0x116')]='model';this[_0x191c('0x3a')]=0x1;this['name']='';this[_0x191c('0x1')]='';this[_0x191c('0xa8')]=new MapVision[(_0x191c('0x90'))]();};MapVision[_0x191c('0x120')]=function(){this[_0x191c('0x116')]=_0x191c('0x4f');this[_0x191c('0x3a')]=0x1;this['name']='';this[_0x191c('0x1')]='';this['geom']=[];};MapVision['Polygon']=function(){this[_0x191c('0x116')]=_0x191c('0x105');this['gid']=0x1;this['name']='';this['style']='';this['geom']=[];};MapVision['Building']=function(){this['type']='building';this[_0x191c('0x3a')]=0x0;this['name']='';this[_0x191c('0x12b')]=[{'type':_0x191c('0x1a'),'gid':0x0,'name':''}];this['position']=new MapVision[(_0x191c('0x90'))]();};MapVision[_0x191c('0x41')]=0x1;MapVision[_0x191c('0x9f')]=function(_0x586471){this['id']=_0x586471['id'];this['name']='MapVision.View3d';this['url']=_0x586471['url'];this[_0x191c('0x73')]=_0x586471[_0x191c('0x73')];this[_0x191c('0x6f')]=_0x586471['token'];this[_0x191c('0x2c')]=!![];this[_0x191c('0x121')]=!![];this['_registerCallback']=null;this[_0x191c('0x108')]=null;this['_webRtcPlayerObj']=null;this[_0x191c('0x7a')]=null;this[_0x191c('0x56')]=null;this[_0x191c('0xe9')]=null;this[_0x191c('0xaa')]=![];this[_0x191c('0xac')]=null;this['_onMouseSelectedObj']=null;this['_onMouseDownCallback']=null;this[_0x191c('0xcf')]=null;this['_onMouseMoveCallback']=null;};MapVision[_0x191c('0x9f')][_0x191c('0xa4')]['Open']=function(_0x18ca52){let _0x13fce0=this;_0x13fce0[_0x191c('0xf0')]=_0x18ca52;_0x13fce0[_0x191c('0x56')]=null;if(_0x13fce0['id']==''||_0x13fce0['url']==''||_0x13fce0['projectId']==''){if(_0x13fce0['_registerCallback']){const _0x1eb8c9={'code':0xc9,'msg':_0x191c('0xde')};_0x13fce0['_registerCallback'](_0x1eb8c9);}return;}window['WebSocket']=window[_0x191c('0x6b')]||window['MozWebSocket'];if(!window[_0x191c('0x6b')]){if(_0x13fce0['_registerCallback']){const _0xfc5b15={'code':0x1f9,'msg':'Your\x20browser\x20doesn\x27t\x20support\x20WebSocket.'};_0x13fce0['_registerCallback'](_0xfc5b15);}return;}const _0x5b3225=_0x13fce0['_webSocket'];if(_0x5b3225){_0x5b3225['close']();_0x13fce0[_0x191c('0x7a')]=undefined;console['log']('\x20_webSocket\x20closed\x20');_0x13fce0[_0x191c('0xef')](_0x13fce0['_webRtcPlayerHtmlElement']);}if(_0x13fce0['url']['indexOf'](_0x191c('0xf4'))<0x0){let _0x5d9e1e=_0x13fce0[_0x191c('0x1f')][_0x191c('0x133')](_0x191c('0xf8'),'');_0x5d9e1e=_0x5d9e1e['replace']('/','');_0x5d9e1e=_0x191c('0x60')+_0x5d9e1e;_0x5d9e1e=_0x5d9e1e['replace']('///','//');console[_0x191c('0x43')](_0x5d9e1e);_0x13fce0['_connectWebsocket'](_0x5d9e1e);return;}const _0x3a848e={'httpUrl':_0x13fce0['url']+'/project3d/getInfo?id='+_0x13fce0[_0x191c('0x73')]+'&token='+_0x13fce0[_0x191c('0x6f')],'type':_0x191c('0x28')};setTimeout(()=>{_0x13fce0['_httpRequest'](_0x3a848e,function(_0x378bfb){if(_0x378bfb[_0x191c('0xdb')]&&_0x378bfb['code']===0xc8){const _0x2d2e6b=_0x378bfb[_0x191c('0x10d')];if(_0x2d2e6b['port']<0xa){console[_0x191c('0x43')]('aimapvision3d\x20server\x20is\x20not\x20started.');if(_0x13fce0[_0x191c('0xf0')]){const _0x282790={'code':0x12c,'msg':'aimapvision3d\x20server\x20is\x20not\x20started.'};_0x13fce0['_registerCallback'](_0x282790);}return;}let _0x155892=_0x13fce0[_0x191c('0x1f')]['replace']('http://','');const _0x1afd20=_0x155892[_0x191c('0x37')](':',0x0);if(_0x1afd20>0x0)_0x155892=_0x155892[_0x191c('0x2d')](0x0,_0x1afd20);_0x155892=_0x191c('0x60')+_0x155892+':'+_0x2d2e6b['port'];_0x13fce0[_0x191c('0x13a')](_0x155892);}else{console['log'](_0x378bfb);if(_0x13fce0[_0x191c('0xf0')]){_0x13fce0[_0x191c('0xf0')](_0x378bfb);}}},function(){if(_0x13fce0['_registerCallback']){const _0x1d48ab={'code':0x1f4,'msg':'Bad\x20Request'};_0x13fce0[_0x191c('0xf0')](_0x1d48ab);}});},0x64);};MapVision['View3d']['prototype']['Close']=function(){let _0x4700d5=this;const _0x23962e=_0x4700d5['_webSocket'];if(_0x23962e){_0x4700d5['UnRegisterEvent']();_0x23962e['close']();_0x4700d5[_0x191c('0x7a')]=undefined;console['log']('\x20_webSocket\x20closed\x20');}};MapVision[_0x191c('0x9f')][_0x191c('0xa4')]['RegisterEvent']=function(_0x16ef1b,_0x1a584e){if(_0x16ef1b===_0x191c('0xa2')){this[_0x191c('0xd')]=_0x1a584e;this[_0x191c('0xa5')](MapVision['CommandType'][_0x191c('0x12e')]);}else if(_0x16ef1b===_0x191c('0x3b')){this['_onMouseMoveCallback']=_0x1a584e;}else if(_0x16ef1b===_0x191c('0xd6')){this['_onMouseUpCallback']=_0x1a584e;}else{this[_0x191c('0xf0')]=_0x1a584e;}};MapVision['View3d']['prototype'][_0x191c('0x10e')]=function(){if(this['_webRtcPlayerHtmlElement']){this[_0x191c('0xef')](this['_webRtcPlayerHtmlElement']);}this[_0x191c('0xd')]=null;this[_0x191c('0x137')]=null;this['_onMouseUpCallback']=null;this[_0x191c('0xf0')]=null;};MapVision['View3d']['prototype'][_0x191c('0xc8')]=function(){const _0x48944d=this[_0x191c('0x7a')]===undefined;return _0x48944d;};MapVision['View3d']['prototype'][_0x191c('0x8')]=function(_0x463e0f){this['_emiUICommand'](MapVision['CommandType']['SetParameters'],_0x463e0f);};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0x145')]=function(_0x5d95bd,_0x48dadc){this['_callback']=null;this[_0x191c('0xa5')](MapVision['CommandType'][_0x191c('0x145')],{'width':_0x5d95bd,'height':_0x48dadc});};MapVision['View3d'][_0x191c('0xa4')]['SetMapStatus']=function(_0x4cf0cb,_0x42bbb8){if(_0x4cf0cb>MapVision['MapStatusType']['SELECTE'])this['_callback']=_0x42bbb8;else this['_callback']=null;this[_0x191c('0xa5')](MapVision['CommandType']['SetMapStatus'],{'mapstatus':_0x4cf0cb});};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0xbd')]=function(){this['_callback']=null;this['_onMouseSelectedObj']=null;this['_emiUICommand'](MapVision[_0x191c('0x118')][_0x191c('0xbd')]);};MapVision['View3d']['prototype']['Stop']=function(){this['_callback']=null;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')]['Stop']);};MapVision[_0x191c('0x9f')]['prototype']['ResetHome']=function(){this['_callback']=null;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')]['ResetHome']);};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0x7f')]=function(_0x38c342,_0x5842b6,_0x1e9afd,_0x2ffe4b,_0x45068a){this[_0x191c('0x56')]=null;let _0x264e14={};if(_0x38c342){_0x264e14[_0x191c('0xc5')]=_0x38c342;}if(_0x5842b6){_0x264e14[_0x191c('0x138')]=_0x5842b6;}if(_0x1e9afd){_0x264e14['distance']=_0x1e9afd;}if(_0x2ffe4b){_0x264e14['gid']=_0x2ffe4b;}if(_0x45068a){_0x264e14[_0x191c('0x139')]=_0x45068a;}this['_emiUICommand'](MapVision['CommandType']['Rotate'],{'gid':_0x2ffe4b,'pitch':_0x38c342,'radio':_0x5842b6,'distance':_0x1e9afd,'highlight':_0x45068a});};MapVision['View3d']['prototype']['GetCurrentPosition']=function(_0x6793){this['_callback']=_0x6793;this['_emiUICommand'](MapVision[_0x191c('0x118')][_0x191c('0x6c')]);};MapVision['View3d']['prototype']['GetScrrenPosition']=function(_0xd7fc18,_0x2b59b2){this['_callback']=_0x2b59b2;const _0x2fd14a=[];_0xd7fc18['forEach'](_0x2389ae=>{_0x2fd14a[_0x191c('0x79')]({'gid':_0x2389ae[_0x191c('0x3a')]});});this[_0x191c('0xa5')](MapVision[_0x191c('0x118')][_0x191c('0xb5')],{'objects':_0x2fd14a});};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0x12e')]=function(_0x484d67){this['_callbackMouse']=_0x484d67;this['_emiUICommand'](MapVision['CommandType'][_0x191c('0x12e')]);};MapVision[_0x191c('0x9f')]['prototype']['SetMousePositionCallback']=function(_0x2b76ce){this['_callbackMouse']=_0x2b76ce;this['_emiUICommand'](MapVision['CommandType'][_0x191c('0x85')]);};MapVision['View3d']['prototype'][_0x191c('0x2')]=function(_0x36b17d){this[_0x191c('0xa5')](MapVision['CommandType']['OpenMap'],{'mapname':_0x36b17d});};MapVision['View3d']['prototype'][_0x191c('0xb3')]=function(_0x1c9c5f){this[_0x191c('0x56')]=_0x1c9c5f;this['_emiUICommand'](MapVision[_0x191c('0x118')]['GetHomePosition']);};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0x8b')]=function(_0x1b0b4d,_0x795d9f){this[_0x191c('0x56')]=null;_0x1b0b4d[_0x191c('0xf9')]=_0x795d9f;this['_emiUICommand'](MapVision[_0x191c('0x118')]['SetPosition'],_0x1b0b4d);};MapVision['View3d']['prototype'][_0x191c('0x70')]=function(_0x544572,_0x4545ff,_0x24df12){this['_callback']=null;_0x544572['showlocation']=_0x4545ff;_0x544572[_0x191c('0xad')]=_0x24df12;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')][_0x191c('0x70')],_0x544572);};MapVision[_0x191c('0x9f')]['prototype']['FlyToObject']=function(_0x17324c,_0x8db9c,_0x436657){this['_callback']=null;_0x17324c[_0x191c('0xf9')]=_0x8db9c;_0x17324c[_0x191c('0xad')]=_0x436657;this['_emiUICommand'](MapVision['CommandType']['FlyToObject'],_0x17324c);};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0xe0')]=function(_0x10f63d,_0x50982c,_0x1c2075,_0x102449,_0x488cb6){this[_0x191c('0x56')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x191c('0xe0')],{'gid':_0x10f63d,'showlocation':_0x50982c,'distance':_0x102449,'speed':_0x488cb6,'position':{'x':0x0,'y':0x0,'z':0x0,'pitch':_0x1c2075,'yaw':0x0,'roll':0x0}});};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0x4e')]=function(_0x3ea176,_0x4a020c){this['_callback']=_0x4a020c;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')][_0x191c('0x4e')],{'gid':_0x3ea176});};MapVision['View3d'][_0x191c('0xa4')]['FindObjectByName']=function(_0x10fc08,_0x1a16bd){this[_0x191c('0x56')]=_0x1a16bd;this[_0x191c('0xa5')](MapVision['CommandType']['FindObjectByName'],{'gid':_0x10fc08,'name':_0x10fc08});};MapVision['View3d'][_0x191c('0xa4')]['FindObjectByPrefix']=function(_0x304a60,_0x26ff01,_0x344799){this['_callback']=_0x344799;if(!_0x26ff01)_0x26ff01=0x14;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')][_0x191c('0xec')],{'gid':_0x304a60,'limit':_0x26ff01});};MapVision[_0x191c('0x9f')][_0x191c('0xa4')]['GetSelectedObject']=function(_0x388996){this[_0x191c('0x56')]=_0x388996;this['_emiUICommand'](MapVision[_0x191c('0x118')][_0x191c('0x13e')]);};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0x117')]=function(_0x50d2ca){this['_callback']=null;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')][_0x191c('0x117')],_0x50d2ca);};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0x106')]=function(_0x3584e1,_0x442cf3,_0x69efb8){this[_0x191c('0x56')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x191c('0x106')],{'gid':_0x3584e1,'style':_0x442cf3,'color':_0x69efb8});};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0x1c')]=function(_0x164748){this['_callback']=null;if(_0x164748){this['_emiUICommand'](MapVision[_0x191c('0x118')]['UpdateObjectStyle'],{'gid':_0x164748,'style':_0x191c('0xe6'),'color':_0x191c('0xcb')});}else{this['_emiUICommand'](MapVision[_0x191c('0x118')][_0x191c('0x1c')]);}};MapVision['View3d']['prototype'][_0x191c('0xfa')]=function(_0xd9f87f){this['_callback']=_0xd9f87f;this['_emiUICommand'](MapVision['CommandType']['GetObjectsVisible']);};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0x130')]=function(_0x3a3d93){this['_callback']=null;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')][_0x191c('0x130')],{'objects':_0x3a3d93});};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0xdc')]=function(_0x2cd695){this['_callback']=null;this['_emiUICommand'](MapVision[_0x191c('0x118')]['SetObjectHighlight'],{'gid':_0x2cd695});};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0x64')]=function(_0x108034){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType'][_0x191c('0x64')],{'objects':_0x108034});};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0x20')]=function(_0x200b99){this['_callback']=null;this[_0x191c('0xa5')](MapVision['CommandType'][_0x191c('0x20')],{'prefix':_0x200b99});};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0xd4')]=function(){this['_emiUICommand'](MapVision[_0x191c('0x118')]['ClearHighlight']);};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0x13d')]=function(_0x39233b,_0x2b4a49){this[_0x191c('0x56')]=null;this['_emiUICommand'](MapVision[_0x191c('0x118')]['UpdateObjectVisible'],{'gid':_0x39233b,'visible':_0x2b4a49});};MapVision['View3d']['prototype']['UpdateObjectVisibleByPrefix']=function(_0x39e266,_0x4bb89e){this[_0x191c('0x56')]=null;this['_emiUICommand'](MapVision[_0x191c('0x118')]['UpdateObjectVisibleByPrefix'],{'gid':_0x39e266,'visible':_0x4bb89e});};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0x102')]=function(_0x4a8a13){this[_0x191c('0x56')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x191c('0x102')],_0x4a8a13);};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0x134')]=function(_0x57aeb1){this['_callback']=null;this[_0x191c('0xa5')](MapVision['CommandType'][_0x191c('0x134')],_0x57aeb1);};MapVision['View3d']['prototype'][_0x191c('0x5')]=function(_0x510bc2){this['_callback']=null;this['_emiUICommand'](MapVision[_0x191c('0x118')][_0x191c('0x5')],_0x510bc2);};MapVision['View3d'][_0x191c('0xa4')]['PlayRoute']=function(_0x20c82c){this['_callback']=_0x20c82c;this['_emiUICommand'](MapVision[_0x191c('0x118')]['PlayRoute']);};MapVision[_0x191c('0x9f')][_0x191c('0xa4')]['PauseRoute']=function(){this['_emiUICommand'](MapVision[_0x191c('0x118')]['PauseRoute']);};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0xd5')]=function(){this['_callback']=null;this[_0x191c('0xa5')](MapVision['CommandType']['StopRoute']);};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0x99')]=function(){this['_emiUICommand'](MapVision['CommandType'][_0x191c('0x99')]);};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0xfc')]=function(_0x4f3f0c){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType']['PlaySequence'],{'gid':_0x4f3f0c});};MapVision[_0x191c('0x9f')]['prototype']['PauseSequence']=function(_0x33013a){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType']['PauseSequence'],{'gid':_0x33013a});};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0x4b')]=function(_0x474d24,_0x4d0235){this['_callback']=_0x4d0235;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')]['IsPlayingSequence'],{'gid':_0x474d24});};MapVision['View3d'][_0x191c('0xa4')]['IsPausedSequence']=function(_0x4bd306,_0x229cf0){this[_0x191c('0x56')]=_0x229cf0;this[_0x191c('0xa5')](MapVision['CommandType'][_0x191c('0x76')],{'gid':_0x4bd306});};MapVision['View3d']['prototype']['StopSequence']=function(_0x4df00b,_0x214a1b){this['_callback']=null;this['_emiUICommand'](MapVision[_0x191c('0x118')][_0x191c('0x5e')],{'gid':_0x4df00b});};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0x11b')]=function(_0x52978c){this[_0x191c('0x56')]=null;this['_emiUICommand'](MapVision['CommandType']['StreamVideoOpen'],_0x52978c);};MapVision['View3d']['prototype']['StreamVideoClose']=function(_0x3ecc9c){this[_0x191c('0x56')]=null;if(!_0x3ecc9c)_0x3ecc9c=0x0;this['_emiUICommand'](MapVision['CommandType'][_0x191c('0x89')],{'index':_0x3ecc9c});};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0x4c')]=function(){this['_callback']=null;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')]['StreamVideoCloseAll']);};MapVision['View3d']['prototype'][_0x191c('0x80')]=function(_0x58c611){this[_0x191c('0x56')]=_0x58c611;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')]['GetBuildingNum']);};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0x93')]=function(_0x55cdfe,_0x39a60a){this[_0x191c('0x56')]=_0x39a60a;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')]['GetBuildingName'],{'bindex':_0x55cdfe});};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0x55')]=function(_0x1749ed){this[_0x191c('0x56')]=_0x1749ed;this['_emiUICommand'](MapVision['CommandType']['GetBuildingNames']);};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0x31')]=function(_0x4410e6,_0x2787fb){this['_callback']=_0x2787fb;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')]['GetBuildingVisible'],{'gid':_0x4410e6});};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0x35')]=function(_0x4d3ea8,_0x5311af,_0x342a98){this['_emiUICommand'](MapVision[_0x191c('0x118')]['SetBuildingVisible'],{'gid':_0x4d3ea8,'visible':_0x5311af,'opacity':_0x342a98});};MapVision[_0x191c('0x9f')]['prototype']['SetBuildingWkVisible']=function(_0x5e54ca,_0x1bed44,_0x167fbb){this['_emiUICommand'](MapVision[_0x191c('0x118')]['SetBuildingWkVisible'],{'gid':_0x5e54ca,'visible':_0x1bed44,'opacity':_0x167fbb});};MapVision['View3d'][_0x191c('0xa4')]['ResetAllBuildings']=function(){this[_0x191c('0xa5')](MapVision[_0x191c('0x118')]['ResetAllBuildings']);};MapVision['View3d']['prototype'][_0x191c('0x23')]=function(_0x4bda56,_0x59acc5){this[_0x191c('0xa5')](MapVision['CommandType']['SplitBuilding'],{'gid':_0x4bda56,'offset':_0x59acc5});};MapVision['View3d']['prototype']['SplitBuildingReset']=function(_0x2d4bef){this['_emiUICommand'](MapVision[_0x191c('0x118')]['SplitBuildingReset'],{'gid':_0x2d4bef});};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0xc9')]=function(_0x1c9605,_0x8f1b8f){this[_0x191c('0xa5')](MapVision[_0x191c('0x118')][_0x191c('0xc9')],{'gid':_0x1c9605,'offset':_0x8f1b8f});};MapVision['View3d']['prototype']['SplitDynamicFloor']=function(_0x3074eb,_0x5f3153,_0x47c027){this[_0x191c('0xa5')](MapVision['CommandType'][_0x191c('0x13')],{'gid':_0x3074eb,'floor':_0x5f3153,'offset':_0x47c027});};MapVision['View3d']['prototype'][_0x191c('0x12f')]=function(_0x3126f5,_0x14d16d){this['_emiUICommand'](MapVision[_0x191c('0x118')]['SplitFloorReset'],{'gid':_0x3126f5,'floor':_0x14d16d});};MapVision[_0x191c('0x9f')][_0x191c('0xa4')]['GetFloorNum']=function(_0x4f4cac,_0x23dcab){this[_0x191c('0x56')]=_0x23dcab;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')]['GetFloorNum'],{'gid':_0x4f4cac});};MapVision['View3d']['prototype']['GetFloorName']=function(_0x348941,_0x3a3ce4){this['_callback']=_0x3a3ce4;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')][_0x191c('0x127')],{'gid':_0x348941});};MapVision[_0x191c('0x9f')][_0x191c('0xa4')]['GetFloorNames']=function(_0x51da97,_0x35dfb3){this[_0x191c('0x56')]=_0x35dfb3;this['_emiUICommand'](MapVision['CommandType']['GetFloorNames'],{'gid':_0x51da97});};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0x9b')]=function(_0x2767ff,_0x3177c9,_0x54a09c){this[_0x191c('0x56')]=_0x54a09c;this['_emiUICommand'](MapVision['CommandType'][_0x191c('0x9b')],{'gid':_0x2767ff,'floor':_0x3177c9});};MapVision['View3d'][_0x191c('0xa4')]['SetFloorVisible']=function(_0x471f2c,_0x187ad5,_0xec5f54,_0x63b2cd){if(!_0xec5f54)_0xec5f54=![];if(!_0x63b2cd)_0x63b2cd=0x0;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')]['SetFloorVisible'],{'gid':_0x471f2c,'floor':_0x187ad5,'visible':_0xec5f54,'opacity':_0x63b2cd});};MapVision['View3d']['prototype']['GetUpFloorNum']=function(_0x3fccb1,_0x27140d,_0x2387f7){this[_0x191c('0x56')]=_0x2387f7;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')]['GetUpFloorNum'],{'gid':_0x3fccb1,'floor':_0x27140d});};MapVision['View3d']['prototype'][_0x191c('0x61')]=function(_0x1f5959,_0x2833a6,_0x598033){this[_0x191c('0x56')]=_0x598033;this['_emiUICommand'](MapVision[_0x191c('0x118')]['GetUpFloorNames'],{'gid':_0x1f5959,'floor':_0x2833a6});};MapVision['View3d']['prototype']['GetDownFloorNum']=function(_0x40f934,_0xe8a373,_0x43aa3b){this[_0x191c('0x56')]=_0x43aa3b;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')][_0x191c('0xba')],{'gid':_0x40f934,'floor':_0xe8a373});};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0xa')]=function(_0x2cc5bb,_0x4f8cc7,_0x503ec4){this[_0x191c('0x56')]=_0x503ec4;this['_emiUICommand'](MapVision['CommandType'][_0x191c('0xa')],{'gid':_0x2cc5bb,'floor':_0x4f8cc7});};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0x9')]=function(_0x47033d,_0x16d777,_0x33b3bc){this[_0x191c('0x56')]=_0x33b3bc;this['_emiUICommand'](MapVision[_0x191c('0x118')][_0x191c('0x9')],{'gid':_0x47033d,'floor':_0x16d777});};MapVision['View3d']['prototype'][_0x191c('0x3f')]=function(_0x2b394f,_0x1ee019,_0xce7ab7){this[_0x191c('0x56')]=_0xce7ab7;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')]['GetFloorRoomNames'],{'gid':_0x2b394f,'floor':_0x1ee019});};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0x8d')]=function(_0x3804e1,_0x392fce,_0x67b0b0){this[_0x191c('0x56')]=_0x67b0b0;this[_0x191c('0xa5')](MapVision['CommandType']['GetFloorRoomNames'],{'gid':_0x3804e1,'floor':_0x392fce});};MapVision['View3d']['prototype']['GetFloorRoomVisible']=function(_0x250769,_0x4d536e,_0x180c12,_0x120d45){this[_0x191c('0x56')]=_0x120d45;this['_emiUICommand'](MapVision[_0x191c('0x118')]['GetFloorRoomVisible'],{'gid':_0x250769,'floor':_0x4d536e,'room':_0x180c12});};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0xbe')]=function(_0x17f6be,_0x5b68a2,_0x235dde,_0xe595b1,_0x5bfc9c){if(!_0xe595b1)_0xe595b1=![];if(!_0x5bfc9c)_0x5bfc9c=0x0;this['_emiUICommand'](MapVision[_0x191c('0x118')][_0x191c('0xbe')],{'gid':_0x17f6be,'floor':_0x5b68a2,'room':_0x235dde,'visible':_0xe595b1,'opacity':_0x5bfc9c});};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0xc3')]=function(_0x37bf0b,_0x52f761,_0x4e5cee){this[_0x191c('0x56')]=_0x4e5cee;this['_emiUICommand'](MapVision['CommandType']['GetFloorDeviceNum'],{'gid':_0x37bf0b,'floor':_0x52f761});};MapVision['View3d']['prototype'][_0x191c('0x33')]=function(_0x1b6b5a,_0x583599,_0x1134f8){this['_callback']=_0x1134f8;this['_emiUICommand'](MapVision[_0x191c('0x118')]['GetFloorDeviceNames'],{'gid':_0x1b6b5a,'floor':_0x583599});};MapVision[_0x191c('0x9f')][_0x191c('0xa4')]['GetFloorDeviceNames']=function(_0x2b2cd8,_0x12257c,_0x502fc8){this['_callback']=_0x502fc8;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')][_0x191c('0xab')],{'gid':_0x2b2cd8,'floor':_0x12257c});};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0x24')]=function(_0x1fe7ed,_0x1fd5a0,_0x37087a,_0x6872b8){this['_callback']=_0x6872b8;this[_0x191c('0xa5')](MapVision['CommandType']['GetFloorDeviceVisible'],{'gid':_0x1fe7ed,'floor':_0x1fd5a0,'device':_0x37087a});};MapVision['View3d'][_0x191c('0xa4')]['SetFloorDeviceVisible']=function(_0x221123,_0x5410f9,_0x2388e1,_0x2ca0d5,_0x3856ea){if(!_0x2ca0d5)_0x2ca0d5=![];if(!_0x3856ea)_0x3856ea=0x0;this[_0x191c('0xa5')](MapVision['CommandType'][_0x191c('0xfe')],{'gid':_0x221123,'floor':_0x5410f9,'device':_0x2388e1,'visible':_0x2ca0d5,'opacity':_0x3856ea});};MapVision['View3d'][_0x191c('0xa4')]['SetGroundVisible']=function(_0x29cb6a){this['_emiUICommand'](MapVision['CommandType'][_0x191c('0x10a')],{'visible':_0x29cb6a});};MapVision['View3d'][_0x191c('0xa4')]['OverLayerStartEdit']=function(_0x3dd829,_0x120bf1){this['_callback']=_0x120bf1;this['_emiUICommand'](MapVision[_0x191c('0x118')][_0x191c('0x100')],_0x3dd829);};MapVision['View3d']['prototype']['OverLayerStopEdit']=function(){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType']['OverLayerStopEdit']);};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0x12c')]=function(_0x217e1d){this[_0x191c('0x56')]=_0x217e1d;this[_0x191c('0xa5')](MapVision['CommandType']['OverLayerSelectObjectEdit']);};MapVision['View3d'][_0x191c('0xa4')]['OverLayerFindObject']=function(_0x4d40a5,_0x2f9fde){this['_callback']=_0x2f9fde;this['_emiUICommand'](MapVision['CommandType']['OverLayerFindObject'],{'name':_0x4d40a5});};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0x32')]=function(_0x47edd7,_0x5dfb60){this[_0x191c('0x56')]=_0x5dfb60;this['_emiUICommand'](MapVision[_0x191c('0x118')]['OverLayerCreateObject'],_0x47edd7);};MapVision['View3d']['prototype'][_0x191c('0x12a')]=function(_0x358589,_0x3c7705){this[_0x191c('0x56')]=_0x3c7705;this[_0x191c('0xa5')](MapVision[_0x191c('0x118')][_0x191c('0x12a')],{'shapes':_0x358589});};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0xce')]=function(_0x38b375){this['_emiUICommand'](MapVision[_0x191c('0x118')][_0x191c('0xce')],_0x38b375);};MapVision[_0x191c('0x9f')]['prototype']['OverLayerRemoveObject']=function(_0x21eae9){this['_emiUICommand'](MapVision[_0x191c('0x118')][_0x191c('0xe8')],_0x21eae9);};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0x111')]=function(_0x834829){this['_emiUICommand'](MapVision['CommandType'][_0x191c('0xe8')],{'gid':_0x834829});};MapVision['View3d']['prototype'][_0x191c('0x7e')]=function(_0x4b87f8){this[_0x191c('0xa5')](MapVision['CommandType']['OverLayerRemoveObjects'],{'ids':_0x4b87f8});};MapVision[_0x191c('0x9f')][_0x191c('0xa4')]['OverLayerRemoveAll']=function(_0x353cfd){if(_0x353cfd){this['_emiUICommand'](MapVision[_0x191c('0x118')]['OverLayerRemoveAllCustom'],{'types':_0x353cfd});}else{this['_emiUICommand'](MapVision[_0x191c('0x118')]['OverLayerRemoveAll']);}};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0x22')]=function(_0x782e9a,_0x3639f1){this['_callback']=_0x3639f1;this['_emiUICommand'](MapVision['CommandType'][_0x191c('0x22')],_0x782e9a);};MapVision[_0x191c('0x9f')]['prototype']['LayerReLoad']=function(_0x1d312c,_0x1d7b28){this['_callback']=_0x1d7b28;this[_0x191c('0xa5')](MapVision['CommandType']['LayerReLoad'],_0x1d312c);};MapVision['View3d']['prototype'][_0x191c('0xf5')]=function(_0x248097,_0xfc67aa){this[_0x191c('0x56')]=_0xfc67aa;this[_0x191c('0xa5')](MapVision['CommandType'][_0x191c('0xf5')],{'layers':_0x248097});};MapVision[_0x191c('0x9f')][_0x191c('0xa4')]['LayerSelectObject']=function(_0x21c531,_0x5c0116){this['_callback']=_0x5c0116;this['_emiUICommand'](MapVision[_0x191c('0x118')]['LayerSelectObject'],{'gid':_0x21c531});};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0x122')]=function(_0xa20c29){this[_0x191c('0xa5')](MapVision['CommandType'][_0x191c('0x122')],{'gid':_0xa20c29});};MapVision['View3d']['prototype']['LayerSetVisible']=function(_0x57f70c,_0x8f3746){this['_emiUICommand'](MapVision[_0x191c('0x118')]['LayerSetVisible'],{'gid':_0x57f70c,'visible':_0x8f3746});};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0xed')]=function(_0x3e0659,_0x452bec,_0x332c80,_0x1881b3){this['_emiUICommand'](MapVision[_0x191c('0x118')]['NorthControl'],{'visible':_0x3e0659,'x':_0x452bec,'y':_0x332c80,'scale':_0x1881b3});};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0x13a')]=function(_0x1733a0){let _0x2ec349=this;_0x2ec349[_0x191c('0x7a')]=new WebSocket(_0x1733a0);_0x2ec349[_0x191c('0x7a')]['onmessage']=function(_0x400e56){var _0x5b8d0b=JSON['parse'](_0x400e56['data']);if(_0x5b8d0b['type']===_0x191c('0x149')){_0x2ec349[_0x191c('0x142')](_0x2ec349['id'],_0x5b8d0b);}else if(_0x5b8d0b[_0x191c('0x116')]==='playerCount'){}else if(_0x5b8d0b[_0x191c('0x116')]==='answer'){_0x2ec349[_0x191c('0x88')](_0x5b8d0b);}else if(_0x5b8d0b['type']==='iceCandidate'){_0x2ec349['_onWebRtcIce'](_0x5b8d0b[_0x191c('0x58')]);}else{console['log'](_0x191c('0x75')+_0x5b8d0b['type']);}};_0x2ec349[_0x191c('0x7a')]['onerror']=function(_0x17454d){console['log'](_0x191c('0x1b')+JSON['stringify'](_0x17454d));if(_0x2ec349['_registerCallback']){const _0x47df17={'code':0x64,'msg':'webSocket\x20connenect\x20error'};_0x2ec349['_registerCallback'](_0x47df17);}};_0x2ec349[_0x191c('0x7a')][_0x191c('0x4a')]=function(_0x3021dd){console['log'](_0x191c('0x59')+JSON['stringify'](_0x3021dd['code'])+'\x20-\x20'+_0x3021dd[_0x191c('0x15')]);_0x2ec349['_webSocket']=undefined;let _0x446e60=document[_0x191c('0x18')](_0x2ec349['id']);if(_0x2ec349['_webRtcPlayerObj']){_0x446e60['removeChild'](_0x2ec349[_0x191c('0xb7')][_0x191c('0x5f')]);_0x2ec349['_webRtcPlayerObj']['close']();_0x2ec349['_webRtcPlayerObj']=undefined;}if(_0x2ec349[_0x191c('0xf0')]){const _0x3ba257={'code':0x190,'msg':'websocket\x20closed'};_0x2ec349['_registerCallback'](_0x3ba257);}};};MapVision[_0x191c('0x9f')][_0x191c('0xa4')]['_registerMouseEvents']=function(_0x21ea83){let _0x50c4a0=this;_0x21ea83[_0x191c('0x3b')]=_0x28f3a7=>{if(!_0x50c4a0[_0x191c('0x121')]){return;}_0x50c4a0['_onMouseMove'](_0x28f3a7[_0x191c('0xff')],_0x28f3a7[_0x191c('0x8e')],_0x28f3a7[_0x191c('0x25')],_0x28f3a7['movementY']);if(_0x50c4a0['_mouseDownStatus']&&_0x50c4a0['_onMouseMoveCallback']){_0x50c4a0[_0x191c('0x137')](_0x28f3a7,_0x50c4a0['_onMouseSelectedObj']);}_0x28f3a7[_0x191c('0x6')]();};_0x21ea83['onmousedown']=_0x402c61=>{_0x50c4a0['_mouseDownStatus']=!![];_0x50c4a0['_onMouseSelectedObj']=null;if(!_0x50c4a0['enableMouse']){return;}_0x50c4a0['_onMouseDown'](_0x402c61['button'],_0x402c61['offsetX'],_0x402c61['offsetY']);setTimeout(function(){if(_0x50c4a0[_0x191c('0xd')]){_0x50c4a0['_onMouseDownCallback'](_0x402c61,_0x50c4a0[_0x191c('0x10b')]);}},0x64);_0x402c61[_0x191c('0x6')]();};_0x21ea83['onmouseup']=_0x20ed7e=>{_0x50c4a0['_mouseDownStatus']=![];if(!_0x50c4a0[_0x191c('0x121')]){return;}_0x50c4a0[_0x191c('0x5c')](_0x20ed7e[_0x191c('0x114')],_0x20ed7e[_0x191c('0xff')],_0x20ed7e[_0x191c('0x8e')]);if(_0x50c4a0['_onMouseUpCallback']){_0x50c4a0['_onMouseUpCallback'](_0x20ed7e,_0x50c4a0[_0x191c('0x10b')]);}_0x20ed7e[_0x191c('0x6')]();};_0x21ea83['oncontextmenu']=_0x429b7f=>{if(!_0x50c4a0[_0x191c('0x121')]){return;}_0x50c4a0[_0x191c('0x5c')](_0x429b7f[_0x191c('0x114')],_0x429b7f[_0x191c('0xff')],_0x429b7f[_0x191c('0x8e')]);_0x429b7f[_0x191c('0x6')]();};if(_0x191c('0x66')in _0x21ea83){_0x21ea83[_0x191c('0x66')]=_0x2b8444=>{if(!_0x50c4a0[_0x191c('0x121')]){return;}_0x50c4a0[_0x191c('0xe1')](_0x2b8444['wheelDelta'],_0x2b8444[_0x191c('0xff')],_0x2b8444[_0x191c('0x8e')]);_0x2b8444['preventDefault']();};}else{_0x21ea83[_0x191c('0x40')]('DOMMouseScroll',_0x3fc026=>{if(!_0x50c4a0['enableMouse']){return;}_0x50c4a0[_0x191c('0xe1')](_0x3fc026['detail']*-0x78,_0x3fc026[_0x191c('0xff')],_0x3fc026['offsetY']);_0x3fc026[_0x191c('0x6')]();},![]);}_0x21ea83[_0x191c('0x1d')]=_0x5e8c6d=>{if(!_0x50c4a0[_0x191c('0x121')]){return;}_0x50c4a0[_0x191c('0x83')](_0x5e8c6d['buttons'],_0x5e8c6d[_0x191c('0xff')],_0x5e8c6d['offsetY']);};_0x21ea83['releaseMouseButtons']=_0x31f3fd=>{if(!_0x50c4a0[_0x191c('0x121')]){return;}_0x50c4a0['_releaseMouseButtons'](_0x31f3fd[_0x191c('0xa7')],_0x31f3fd[_0x191c('0xff')],_0x31f3fd[_0x191c('0x8e')]);};_0x21ea83[_0x191c('0x136')]=_0x3e3673=>{if(!_0x50c4a0['enableMouse']){return;}var _0xc85db=new DataView(new ArrayBuffer(0x1));_0xc85db['setUint8'](0x0,MapVision['MessageType']['MouseEnter']);_0x50c4a0['_sendInputData'](_0xc85db['buffer']);_0x21ea83[_0x191c('0x1d')](_0x3e3673);};_0x21ea83['onmouseleave']=_0x22d1fa=>{if(!_0x50c4a0['enableMouse']){return;}var _0x99d3bb=new DataView(new ArrayBuffer(0x1));_0x99d3bb['setUint8'](0x0,MapVision['MessageType'][_0x191c('0xbc')]);_0x50c4a0[_0x191c('0xc1')](_0x99d3bb['buffer']);_0x21ea83['releaseMouseButtons'](_0x22d1fa);};};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0xa6')]=function(_0x139f14){};MapVision['View3d'][_0x191c('0xa4')]['_unregisterEvents']=function(_0x368cf1){if(!_0x368cf1){return;}_0x368cf1['onmousemove']=_0x51c5bf=>{_0x51c5bf[_0x191c('0x6')]();};_0x368cf1[_0x191c('0xa2')]=_0xcec4bd=>{_0xcec4bd[_0x191c('0x6')]();};_0x368cf1['onmouseup']=_0x1e51f4=>{_0x1e51f4[_0x191c('0x6')]();};_0x368cf1['oncontextmenu']=_0x1fbb4c=>{_0x1fbb4c['preventDefault']();};if('onmousewheel'in _0x368cf1){_0x368cf1['onmousewheel']=_0x1f520f=>{_0x1f520f[_0x191c('0x6')]();};}else{_0x368cf1[_0x191c('0x40')]('DOMMouseScroll',_0x32e14b=>{_0x32e14b[_0x191c('0x6')]();},![]);}_0x368cf1['pressMouseButtons']=_0x48d952=>{};_0x368cf1[_0x191c('0x140')]=_0x5b4656=>{};_0x368cf1[_0x191c('0x136')]=_0x5d177b=>{};_0x368cf1[_0x191c('0x82')]=_0xc415e=>{};_0x368cf1['onkeydown']=_0x5f516b=>{};_0x368cf1[_0x191c('0x6e')]=_0x549748=>{};_0x368cf1['onkeypress']=_0x5331c5=>{};};MapVision[_0x191c('0x9f')]['prototype']['_registerKeyboardEvents']=function(){let _0x367fc2=this;const _0x34821d={'BackSpace':0x8,'Shift':0x10,'Control':0x11,'Alt':0x12,'RightShift':0xfd,'RightControl':0xfe,'RightAlt':0xff};function _0x209a23(_0x2414e6){if(_0x2414e6['keyCode']===_0x34821d['Shift']&&_0x2414e6['code']===_0x191c('0x143'))return _0x34821d['RightShift'];else if(_0x2414e6['keyCode']===_0x34821d[_0x191c('0x9e')]&&_0x2414e6[_0x191c('0xdb')]==='ControlRight')return _0x34821d[_0x191c('0x8c')];else if(_0x2414e6['keyCode']===_0x34821d[_0x191c('0x45')]&&_0x2414e6['code']==='AltRight')return _0x34821d['RightAlt'];else return _0x2414e6['keyCode'];};function _0x2e0f02(_0x1a2ea3){return!(_0x1a2ea3[_0x191c('0x10f')]==0x1b||_0x1a2ea3[_0x191c('0x10f')]==0x74||_0x1a2ea3['keyCode']==0xde||_0x1a2ea3[_0x191c('0x10f')]==0xba||_0x1a2ea3['keyCode']==0xbc||_0x1a2ea3[_0x191c('0x9c')]&&_0x1a2ea3[_0x191c('0x10f')]==0x52);};var _0x2125bb=document['getElementsByTagName'](_0x191c('0x12d'));var _0xd4552a=null;if(_0x2125bb&&_0x2125bb['length']>0x0){_0xd4552a=_0x2125bb[0x0];}else{_0xd4552a=document;}_0xd4552a['onkeydown']=_0x42ad7e=>{if(!_0x367fc2[_0x191c('0x2c')]){return;}if(_0x2e0f02(_0x42ad7e)==![]){_0x42ad7e['preventDefault']();return;}_0x367fc2['_sendInputData'](new Uint8Array([MapVision['MessageType']['KeyDown'],_0x209a23(_0x42ad7e),_0x42ad7e[_0x191c('0x78')]])['buffer']);if(_0x42ad7e[_0x191c('0x10f')]===_0x34821d['BackSpace']){_0xd4552a[_0x191c('0xdf')]({'charCode':_0x34821d[_0x191c('0x1e')]});}};_0xd4552a['onkeyup']=_0x3802dd=>{if(!_0x367fc2[_0x191c('0x2c')]){return;}if(_0x2e0f02(_0x3802dd)==![]){_0x3802dd[_0x191c('0x6')]();return;}_0x367fc2['_sendInputData'](new Uint8Array([MapVision[_0x191c('0x144')]['KeyUp'],_0x209a23(_0x3802dd)])['buffer']);};_0xd4552a['onkeypress']=_0x58eb8e=>{if(!_0x367fc2['enableKeyboard']){return;}if(_0x2e0f02(_0x58eb8e)==![]){_0x58eb8e['preventDefault']();return;}let _0x572eda=new DataView(new ArrayBuffer(0x3));_0x572eda['setUint8'](0x0,MapVision[_0x191c('0x144')]['KeyPress']);_0x572eda['setUint16'](0x1,_0x58eb8e['charCode'],!![]);_0x367fc2['_sendInputData'](_0x572eda[_0x191c('0x7')]);};};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0x142')]=function(_0x46f717,_0x10d215){let _0x55f395=this;_0x55f395['_webRtcPlayerHtmlElement']=document['getElementById'](_0x46f717);_0x55f395[_0x191c('0xb7')]=new webRtcPlayer({'peerConnectionOptions':_0x10d215['peerConnectionOptions']});_0x55f395['_webRtcPlayerHtmlElement']['style'][_0x191c('0x21')]=_0x191c('0xfb');let _0x4603c5=_0x55f395['_webRtcPlayerHtmlElement'];_0x4603c5['appendChild'](_0x55f395[_0x191c('0xb7')]['video']);_0x55f395['_webRtcPlayerObj']['onWebRtcOffer']=function(_0x156e4e){if(_0x55f395['_webSocket']&&_0x55f395['_webSocket']['readyState']===MapVision['WS_OPEN_STATE']){let _0x37e01f=JSON['stringify'](_0x156e4e);_0x55f395[_0x191c('0x7a')][_0x191c('0x67')](_0x37e01f);}};_0x55f395[_0x191c('0xb7')][_0x191c('0xf6')]=function(_0x22fa08){if(_0x55f395['_webSocket']&&_0x55f395[_0x191c('0x7a')][_0x191c('0x19')]===MapVision['WS_OPEN_STATE']){console[_0x191c('0x43')]('->\x20SS:\x20iceCandidate\x0a'+JSON[_0x191c('0x6d')](_0x22fa08,undefined,0x4));_0x55f395[_0x191c('0x7a')]['send'](JSON[_0x191c('0x6d')]({'type':'iceCandidate','candidate':_0x22fa08}));}};_0x55f395['_webRtcPlayerObj']['onVideoInitialised']=function(){if(_0x55f395[_0x191c('0x7a')]&&_0x55f395[_0x191c('0x7a')]['readyState']===MapVision[_0x191c('0x41')]){if(_0x55f395[_0x191c('0xb7')]){_0x55f395[_0x191c('0xb7')]['video']['muted']=!![];setTimeout(function(){_0x55f395[_0x191c('0x2e')]();_0x55f395['_requestQualityControl']();_0x55f395[_0x191c('0xb7')]['video']['play']();},0x32);}}};_0x55f395[_0x191c('0xb7')]['onDataChannelConnected']=function(){if(_0x55f395['_webSocket']&&_0x55f395['_webSocket'][_0x191c('0x19')]===MapVision[_0x191c('0x41')]){if(_0x55f395['_webRtcPlayerObj'][_0x191c('0x5f')]&&_0x55f395[_0x191c('0xb7')]['video']['srcObject']&&_0x55f395['_webRtcPlayerObj']['onVideoInitialised']){_0x55f395['_webRtcPlayerObj'][_0x191c('0xc6')]();}if(_0x55f395['_registerCallback']){const _0x7c18d6={'code':0xc8,'msg':_0x191c('0x71')};_0x55f395['_registerCallback'](_0x7c18d6);}_0x55f395[_0x191c('0x108')][_0x191c('0x1')][_0x191c('0x21')]='visible';}};_0x55f395['_webRtcPlayerObj']['onDataChannelMessage']=function(_0x5da7ef){var _0x55259e=new Uint8Array(_0x5da7ef);var _0x38b128=_0x55259e[0x0];if(_0x38b128===MapVision['ToClientMessageType'][_0x191c('0x7c')]){let _0x3b923d=new TextDecoder('utf-16')['decode'](_0x5da7ef[_0x191c('0xee')](0x1));console['log']('->\x20SS:\x20QualityControlOwnership:\x0a'+_0x3b923d);}else if(_0x38b128===MapVision['ToClientMessageType']['Response']){let _0x515b65=new TextDecoder('utf-16')['decode'](_0x5da7ef[_0x191c('0xee')](0x1));let _0xfd8e19=JSON['parse'](_0x515b65);if(_0xfd8e19&&_0xfd8e19['onMouse']){_0x55f395[_0x191c('0x10b')]=_0xfd8e19;}if(_0x55f395['_callbackMouse']&&(_0x55f395[_0x191c('0xac')]===MapVision['CommandType'][_0x191c('0x12e')]||_0x55f395[_0x191c('0xac')]===MapVision[_0x191c('0x118')][_0x191c('0x85')]||_0xfd8e19&&_0xfd8e19['onMouse'])){_0x55f395[_0x191c('0xe9')](_0xfd8e19);_0x55f395['_callback']=null;}else if(_0x55f395[_0x191c('0x56')]){_0x55f395[_0x191c('0x56')](_0xfd8e19);}}else if(_0x38b128===MapVision[_0x191c('0xaf')]['Command']){let _0x13850e=new TextDecoder(_0x191c('0x94'))[_0x191c('0xb1')](_0x5da7ef['slice'](0x1));console[_0x191c('0x43')](_0x191c('0x53')+_0x13850e);}else if(_0x38b128===MapVision[_0x191c('0xaf')]['FreezeFrame']){let _0x191e0f=new TextDecoder(_0x191c('0x94'))[_0x191c('0xb1')](_0x5da7ef['slice'](0x1));console['log']('->\x20SS:\x20FreezeFrame:\x0a'+_0x191e0f);}else if(_0x38b128===MapVision['ToClientMessageType'][_0x191c('0x42')]){let _0x514d29=new TextDecoder('utf-16')[_0x191c('0xb1')](_0x5da7ef['slice'](0x1));console['log']('->\x20SS:\x20UnfreezeFrame:\x0a'+_0x514d29);}};_0x55f395['_registerMouseEvents'](_0x4603c5);_0x55f395['_registerTouchEvents'](_0x4603c5);_0x55f395['_registerKeyboardEvents'](_0x4603c5);_0x55f395[_0x191c('0xb7')][_0x191c('0x84')]();};MapVision[_0x191c('0x9f')][_0x191c('0xa4')]['_sendInputData']=function(_0x56493b){if(this['_webRtcPlayerObj']){this['_webRtcPlayerObj'][_0x191c('0x67')](_0x56493b);}else{console[_0x191c('0x43')]('error\x20_webRtcPlayerObj\x20is\x20null');}};MapVision['View3d']['prototype'][_0x191c('0xb8')]=function(_0x3335e0,_0x1027f8){let _0x3cfc39=JSON[_0x191c('0x6d')](_0x1027f8);let _0x421c06=new DataView(new ArrayBuffer(0x1+0x2+0x2*_0x3cfc39['length']));let _0x32fbd8=0x0;_0x421c06[_0x191c('0xc2')](_0x32fbd8,_0x3335e0);_0x32fbd8++;_0x421c06['setUint16'](_0x32fbd8,_0x3cfc39['length'],!![]);_0x32fbd8+=0x2;for(let _0x47d1b9=0x0;_0x47d1b9<_0x3cfc39['length'];_0x47d1b9++){_0x421c06[_0x191c('0x97')](_0x32fbd8,_0x3cfc39[_0x191c('0xe2')](_0x47d1b9),!![]);_0x32fbd8+=0x2;}this[_0x191c('0xc1')](_0x421c06[_0x191c('0x7')]);};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0xa5')]=function(_0xd7ce98,_0x137eae){this[_0x191c('0xac')]=_0xd7ce98;const _0x252cb8={'cmd':_0xd7ce98,'data':_0x137eae};this[_0x191c('0xb8')](MapVision['MessageType']['UIInteraction'],_0x252cb8);};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0x2e')]=function(){this['_sendInputData'](new Uint8Array([MapVision[_0x191c('0x144')][_0x191c('0x11')]])['buffer']);};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0xf')]=function(){this['_sendInputData'](new Uint8Array([MapVision['MessageType'][_0x191c('0xf3')]])['buffer']);};MapVision['View3d']['prototype']['_onMouseMove']=function(_0x42bf7b,_0x1cb835,_0x52d2d0,_0x55f406){let _0x2089b7=this;if(!_0x2089b7['_webSocket']){return;}let _0x2c3be3=_0x2089b7['_normalizeAndQuantizeUnsigned'](_0x42bf7b,_0x1cb835);let _0x1184b7=_0x2089b7['_normalizeAndQuantizeSigned'](_0x52d2d0,_0x55f406);var _0x46dd6b=new DataView(new ArrayBuffer(0x9));_0x46dd6b[_0x191c('0xc2')](0x0,MapVision[_0x191c('0x144')][_0x191c('0x11c')]);_0x46dd6b[_0x191c('0x97')](0x1,_0x2c3be3['x'],!![]);_0x46dd6b[_0x191c('0x97')](0x3,_0x2c3be3['y'],!![]);_0x46dd6b['setInt16'](0x5,_0x1184b7['x'],!![]);_0x46dd6b['setInt16'](0x7,_0x1184b7['y'],!![]);_0x2089b7['_sendInputData'](_0x46dd6b['buffer']);};MapVision['View3d']['prototype'][_0x191c('0x13f')]=function(_0x5c07e6,_0x475a11,_0x5c3f4c){let _0x34b305=this;if(!_0x34b305['_webSocket']){return;}let _0x6bdab5=_0x34b305['_normalizeAndQuantizeUnsigned'](_0x475a11,_0x5c3f4c);var _0x3cc989=new DataView(new ArrayBuffer(0x6));_0x3cc989['setUint8'](0x0,MapVision[_0x191c('0x144')]['MouseDown']);_0x3cc989[_0x191c('0xc2')](0x1,_0x5c07e6);_0x3cc989['setUint16'](0x2,_0x6bdab5['x'],!![]);_0x3cc989[_0x191c('0x97')](0x4,_0x6bdab5['y'],!![]);_0x34b305['_sendInputData'](_0x3cc989['buffer']);};MapVision[_0x191c('0x9f')][_0x191c('0xa4')]['_onMouseUp']=function(_0x4ba7a4,_0x5e350b,_0x272ccb){let _0x4fa0fb=this;if(!_0x4fa0fb['_webSocket']){return;}let _0x5ea1b3=_0x4fa0fb[_0x191c('0x112')](_0x5e350b,_0x272ccb);var _0x4fade7=new DataView(new ArrayBuffer(0x6));_0x4fade7[_0x191c('0xc2')](0x0,MapVision['MessageType'][_0x191c('0xda')]);_0x4fade7['setUint8'](0x1,_0x4ba7a4);_0x4fade7['setUint16'](0x2,_0x5ea1b3['x'],!![]);_0x4fade7[_0x191c('0x97')](0x4,_0x5ea1b3['y'],!![]);_0x4fa0fb[_0x191c('0xc1')](_0x4fade7['buffer']);};MapVision[_0x191c('0x9f')][_0x191c('0xa4')]['_onMouseWheel']=function(_0xd864e0,_0x2b5281,_0x269552){let _0x520b18=this;if(!_0x520b18['_webSocket']){return;}let _0xff2d99=_0x520b18['_normalizeAndQuantizeUnsigned'](_0x2b5281,_0x269552);var _0x55b47a=new DataView(new ArrayBuffer(0x7));_0x55b47a['setUint8'](0x0,MapVision[_0x191c('0x144')]['MouseWheel']);_0x55b47a[_0x191c('0x29')](0x1,_0xd864e0,!![]);_0x55b47a['setUint16'](0x3,_0xff2d99['x'],!![]);_0x55b47a[_0x191c('0x97')](0x5,_0xff2d99['y'],!![]);_0x520b18['_sendInputData'](_0x55b47a['buffer']);};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0x14b')]=function(_0x4ce98f,_0x2298f3,_0x5c0c8f){if(_0x4ce98f&MapVision[_0x191c('0xd9')]['PrimaryButton']){this['_onMouseUp'](MapVision['MouseButton']['MainButton'],_0x2298f3,_0x5c0c8f);}if(_0x4ce98f&MapVision[_0x191c('0xd9')][_0x191c('0x26')]){this['_onMouseUp'](MapVision['MouseButton'][_0x191c('0x26')],_0x2298f3,_0x5c0c8f);}if(_0x4ce98f&MapVision['MouseButtonsMask']['AuxiliaryButton']){this['_onMouseUp'](MapVision[_0x191c('0xb6')]['AuxiliaryButton'],_0x2298f3,_0x5c0c8f);}if(_0x4ce98f&MapVision[_0x191c('0xd9')][_0x191c('0xa3')]){this[_0x191c('0x5c')](MapVision[_0x191c('0xb6')][_0x191c('0xa3')],_0x2298f3,_0x5c0c8f);}if(_0x4ce98f&MapVision[_0x191c('0xd9')]['FifthButton']){this[_0x191c('0x5c')](MapVision['MouseButton'][_0x191c('0x8a')],_0x2298f3,_0x5c0c8f);}};MapVision['View3d']['prototype']['_pressMouseButtons']=function(_0x424827,_0x4eae87,_0x344437){if(_0x424827&MapVision['MouseButtonsMask'][_0x191c('0x147')]){this[_0x191c('0x13f')](MapVision[_0x191c('0xb6')]['MainButton'],_0x4eae87,_0x344437);}if(_0x424827&MapVision[_0x191c('0xd9')]['SecondaryButton']){this['_onMouseDown'](MapVision['MouseButton'][_0x191c('0x26')],_0x4eae87,_0x344437);}if(_0x424827&MapVision['MouseButtonsMask'][_0x191c('0x47')]){this['_onMouseDown'](MapVision['MouseButton'][_0x191c('0x47')],_0x4eae87,_0x344437);}if(_0x424827&MapVision['MouseButtonsMask']['FourthButton']){this[_0x191c('0x13f')](MapVision['MouseButton'][_0x191c('0xa3')],_0x4eae87,_0x344437);}if(_0x424827&MapVision[_0x191c('0xd9')][_0x191c('0x8a')]){this[_0x191c('0x13f')](MapVision[_0x191c('0xb6')]['FifthButton'],_0x4eae87,_0x344437);}};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0x112')]=function(_0x2c0a1e,_0x20d0d1){let _0x313662=this;if(!_0x313662[_0x191c('0x7a')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x55a5e5=_0x313662[_0x191c('0x108')];let _0x1da2d1=_0x313662[_0x191c('0xb7')][_0x191c('0x5f')];let _0x287c10=_0x55a5e5[_0x191c('0xa9')]/_0x55a5e5['clientWidth'];let _0x39f13e=_0x1da2d1['videoHeight']/_0x1da2d1['videoWidth'];_0x39f13e=_0x287c10;if(_0x287c10>_0x39f13e){let _0x3a4a13=_0x287c10/_0x39f13e;let _0x234158=_0x2c0a1e/_0x55a5e5['clientWidth'];let _0xcb0db6=_0x3a4a13*(_0x20d0d1/_0x55a5e5['clientHeight']-0.5)+0.5;if(_0x234158<0x0||_0x234158>0x1||_0xcb0db6<0x0||_0xcb0db6>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x234158*0x10000,'y':_0xcb0db6*0x10000};}}else{let _0x410acf=_0x39f13e/_0x287c10;let _0x2aff75=_0x410acf*(_0x2c0a1e/_0x55a5e5[_0x191c('0x52')]-0.5)+0.5;let _0x1ff1c5=_0x20d0d1/_0x55a5e5['clientHeight'];if(_0x2aff75<0x0||_0x2aff75>0x1||_0x1ff1c5<0x0||_0x1ff1c5>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x2aff75*0x10000,'y':_0x1ff1c5*0x10000};}}};MapVision['View3d'][_0x191c('0xa4')][_0x191c('0x2b')]=function(_0xb66af5,_0x5f058c){let _0x52c98b=this;if(!_0x52c98b[_0x191c('0x7a')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x224dd7=_0x52c98b['_webRtcPlayerHtmlElement'];let _0x58ec19=_0x52c98b['_webRtcPlayerObj']['video'];let _0x42890f=_0x224dd7[_0x191c('0xa9')]/_0x224dd7[_0x191c('0x52')];let _0x1227e6=_0x58ec19[_0x191c('0x86')]/_0x58ec19[_0x191c('0x115')];_0x1227e6=_0x42890f;if(_0x42890f>_0x1227e6){let _0x5f1d7e=_0x42890f/_0x1227e6;let _0x504fb9=_0xb66af5/(0.5*_0x224dd7['clientWidth']);let _0x42a8e6=_0x5f1d7e*_0x5f058c/(0.5*_0x224dd7['clientHeight']);return{'x':_0x504fb9*0x7fff,'y':_0x42a8e6*0x7fff};}else{let _0xb3ca09=_0x1227e6/_0x42890f;let _0x3d4e3c=_0xb3ca09*_0xb66af5/(0.5*_0x224dd7[_0x191c('0x52')]);let _0x1f8988=_0x5f058c/(0.5*_0x224dd7[_0x191c('0xa9')]);return{'x':_0x3d4e3c*0x7fff,'y':_0x1f8988*0x7fff};}};MapVision[_0x191c('0x9f')]['prototype']['_unquantizeAndDenormalizeUnsigned']=function(_0x467f9d,_0x2e9159){let _0x151791=this;if(!_0x151791[_0x191c('0x7a')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x13bfcd=_0x151791[_0x191c('0x108')];let _0x5289c3=_0x151791[_0x191c('0xb7')]['video'];let _0x575657=_0x13bfcd['clientHeight']/_0x13bfcd[_0x191c('0x52')];let _0x56c3fb=_0x5289c3[_0x191c('0x86')]/_0x5289c3[_0x191c('0x115')];if(_0x575657>_0x56c3fb){let _0x5ba69b=_0x575657/_0x56c3fb;let _0x2aa02e=_0x467f9d/0x10000;let _0x2fa08d=(_0x2e9159/0x10000-0.5)/_0x5ba69b+0.5;return{'x':_0x2aa02e*_0x13bfcd[_0x191c('0x52')],'y':_0x2fa08d*_0x13bfcd[_0x191c('0xa9')]};}else{let _0x5ddaf7=(_0x467f9d/0x10000-0.5)/ratio+0.5;let _0x5dc246=_0x2e9159/0x10000;return{'x':_0x5ddaf7*_0x13bfcd['clientWidth'],'y':_0x5dc246*_0x13bfcd['clientHeight']};}};MapVision[_0x191c('0x9f')]['prototype'][_0x191c('0x88')]=function(_0xdb9c3b){this['_webRtcPlayerObj'][_0x191c('0x14a')](_0xdb9c3b);this['_webRtcPlayerObj'][_0x191c('0x34')]=_0x4d13af=>{};this['_webRtcPlayerObj']['aggregateStats'](0x1*0x3e8);};MapVision[_0x191c('0x9f')][_0x191c('0xa4')][_0x191c('0xf1')]=function(_0x1bb0fd){if(this[_0x191c('0xb7')])this['_webRtcPlayerObj']['handleCandidateFromServer'](_0x1bb0fd);};MapVision['View3d'][_0x191c('0xa4')]['_httpRequest']=function(_0x33b268,_0x5ce264,_0x5e4284){var _0x996aac=null;if(window[_0x191c('0x3e')]){_0x996aac=new XMLHttpRequest();}else if(window[_0x191c('0x110')]){_0x996aac=new ActiveXObject('Microsoft.XMLHTTP');}if(_0x996aac==null){alert('ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒXMLHttp');return;}var _0xd9e504=(_0x33b268[_0x191c('0x116')]||_0x191c('0xca'))['toUpperCase']();var _0x4ed28e=_0x33b268['dataType']||_0x191c('0xb');var _0x5e823a=_0x33b268['httpUrl']||'';var _0x592737=_0x33b268['async']||!![];var _0x23a841=_0x33b268['data']||[];var _0x32927e='';for(var _0x180a71 in _0x23a841){_0x32927e+=_0x180a71+'='+_0x23a841[_0x180a71]+'&';}_0x32927e=_0x32927e==''?'':_0x32927e['substring'](0x0,_0x32927e[_0x191c('0x69')]-0x1);console['log'](_0x32927e);_0x996aac['onreadystatechange']=function(){if(_0x996aac['readyState']==0x4&&_0x996aac['status']==0xc8){var _0x20759f=JSON['parse'](_0x996aac['responseText']);_0x5ce264(_0x20759f);}else{_0x5e4284;}};if(_0xd9e504=='GET'){_0x996aac[_0x191c('0x9d')](_0x191c('0xca'),_0x5e823a,_0x592737);_0x996aac[_0x191c('0x67')](null);}else if(_0xd9e504=='POST'){_0x996aac['open'](_0x191c('0x10c'),_0x5e823a,_0x592737);_0x996aac['setRequestHeader'](_0x191c('0xf7'),_0x191c('0x10'));_0x996aac['send'](_0x32927e);}};