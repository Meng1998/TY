const _0x5c6c=['KeyPress','SetFloorRoomVisible','dataChannelOptions','->\x20SS:\x20QualityControl:\x0a','bytesReceivedStart','MessageType','videoHeight','addEventListener','_emitDescriptor','OverLayerFindObject','CommandType','MouseButton','warn','iframe','substring','projectId','MouseDown','sdpConstraints','GetHomePosition','model','userAgent','offerExtmapAllowMixed','http://','handleOnTrack','_createWebRtcPlayer','sdp','decode','frameHeight','iceCandidate','onsignalingstatechange','stringify','polygon','enableMouse','FlyToObject','onicegatheringstatechange','ResumeRoute','NorthControl','onclose','OverLayerSelectObjectEdit','send','SetBuildingVisible','SetBuildingWkVisible','Shift','avgBitrate','aggregatedStats','SetPosition','offsetX','onWebRtcOffer','Position','_command','ResetAllBuildings','FlyToPosition','receiveAnswer','charCodeAt','OverLayerUpdateObject','framesDroppedPercentage','OverLayerCreateObject','MapStatusType','clientHeight','readyState','LayerReLoad','onkeypress','_onMouseDown','Parameter\x20ERROR','frameHeightStart','avgframerate','ControlRight','GetBuildingNames','_connectWebsocket','movementY','_onMouseWheel','SetMouseCallback','aggregateStatsIntervalId','_registerCallback','UnRegisterEvent','floor','_onMouseUp','RegisterEvent','match','ICE\x20candidate:\x20','framesReceived','highFramerate','PlaySequence','url','SetFloorVisible','getElementById','preventDefault','SetBitrate','bitrate','_callback','View3d','OverLayerCreateObjects','cfg','peerConnectionOptions','this._webSocket\x20error:\x20','_sendInputData','timestamp','SetMapStatus','SetObjectsVisible','PauseSequence','adapter','roll','Bad\x20Request','IsClose','SetFloorDeviceVisible','FindObjectByPrefix','Alt','removeChild','_mouseDownStatus','onVideoInitialised','onmousemove','data\x20channel\x20(','KeyUp','currentRoundTripTime','OverLayerStopEdit','_normalizeAndQuantizeUnsigned','SetObjectsHighlight','keyCode','\x20_webSocket\x20closed\x20','ice\x20connection\x20state\x20change:','StopSequence','SetResolution','Hurray!\x20there\x27s\x20RTCPeerConnection.SetBitrate\x20function','BackSpace','http:','charCode','port','AltRight','answer','PlayRoute','LayerSelectObject','then','setInt16','lowFramerate','lowBitrate','ICE\x20candidate','PauseRoute','onAggregatedStats','httpUrl','frameWidthStart','application/x-www-form-urlencoded','oniceconnectionstatechange','bytesReceived','addIceCandidate','highlight','DOMMouseScroll','Rotate','GetFloorDeviceNames',')\x20connect','navigator','->\x20SS:\x20iceCandidate\x0a','ToClientMessageType','visible','_onMouseMove','GetFloorDeviceVisible','length','OverLayerRemoveObjectsById','toLowerCase','POST','repeat','playsInline','GetSelectedObject','prototype','getStats','GetObjectsVisible','_registerMouseEvents','_onMouseSelectedObj','onDataChannelMessage','CreateObject','setUint16','candidate','StartRoute','open','GetFloorNames','videoWidth','aimapvision3d\x20server\x20is\x20not\x20started.','timestampStart','AuxiliaryButton','_unquantizeAndDenormalizeUnsigned','UpdateObject','SplitBuildingReset','Polygon','GetUpFloorNames','RightControl','streams','kind','OverLayerRemoveObjectById','onmousedown','PrimaryButton','$1;x-google-start-bitrate=10000;x-google-max-bitrate=20000\x0d\x0a','OpenMap','tnClient','1.0.1','GetUpFloorNum','GetFloorRoomNames','building','GetDownFloorNum','inbound-rtp','UpdateObjectVisibleByPrefix','ActiveXObject','code','./adapter','ClearHighlight','Control','ICE\x20candidate\x20successfully\x20added','setRequestHeader','///','setting\x20video\x20stream\x20from\x20ontrack','onkeyup','Events','get','_registerKeyboardEvents','OverLayerRemoveAllCustom','releaseMouseButtons','speed','FifthButton','buffer','SetObjectsHighlightByPrefix','createOffer','SetMousePositionCallback','GetDownFloorNames','srcObject','OverLayerRemoveAll','async','->\x20SS:\x20UnfreezeFrame:\x0a','SecondaryButton','onWebRtcCandidate','_normalizeAndQuantizeSigned','Closing\x20existing\x20PeerConnection','clientWidth','type','name','framesDecoded','GetFloorDeviceNum','_onWebRtcIce','showlocation','slice','aggregateStats','position','visibility','MouseLeave','appendChild','replace','buttons','FourthButton','onmouseup','_webSocket','unified-plan','_webRtcPlayerObj','muted','_callbackMouse','_onMouseMoveCallback','video','GetScrrenPosition','play','parse','FindObjectById','createDataChannel','onerror','offsetY','_webRtcPlayerHtmlElement','movementX','webRtcPlayer','utf-16','MouseButtonsMask','WebSocket','style','LayerLoad','_onMouseDownCallback','Your\x20browser\x20doesn\x27t\x20support\x20WebSocket.','pcClient','token','_onMouseUpCallback','gid','OverLayerStartEdit','OverLayerRemoveObject','onmouseleave','GetBuildingName','GET','MouseEnter','MouseMove','RightShift','log','setUint8','Created\x20datachannel\x20(','Stop','LayersLoad','MainButton','framerate','pitch','_emiUICommand','createElement','amd','framesDropped','Clear','close','LayerSetVisible','_onWebRtcAnswer','WS_OPEN_STATE','ws://','yaw','enableKeyboard','pressMouseButtons'];const _0x55d1=function(_0x5c6c6b,_0x55d163){_0x5c6c6b=_0x5c6c6b-0x0;let _0x4de500=_0x5c6c[_0x5c6c6b];return _0x4de500;};(function(_0x1bb357,_0x1054d0){if(typeof define==='function'&&define[_0x55d1('0x124')]){define([_0x55d1('0xc9')],_0x1054d0);}else if(typeof exports==='object'){module['exports']=_0x1054d0(require('./adapter'));}else{_0x1bb357[_0x55d1('0x106')]=_0x1054d0(_0x1bb357[_0x55d1('0x64')]);}}(this,function(_0x69b79d){function _0x1503b2(_0x3beb80){_0x3beb80=_0x3beb80||{};var _0x4b2bd4=this;this['cfg']=_0x3beb80['peerConnectionOptions']||{};this[_0x55d1('0x5c')]['sdpSemantics']=_0x55d1('0xf7');this['pcClient']=null;this['dcClient']=null;this[_0x55d1('0xbf')]=null;this[_0x55d1('0x11')]={'offerToReceiveAudio':0x1,'offerToReceiveVideo':0x1};const _0x53cc7f=window[_0x55d1('0x95')][_0x55d1('0x14')][_0x55d1('0x4e')](/Chrom(e|ium)\/([0-9]+)\./);if(_0x53cc7f){const _0x16be2c=parseInt(_0x53cc7f[0x2],0xa);if(_0x16be2c>=0x59){this['cfg'][_0x55d1('0x15')]=![];}}this['dataChannelOptions']={'ordered':!![]};createWebRtcVideo=function(){var _0x50f711=document[_0x55d1('0x123')]('video');_0x50f711['id']='streamingVideo';_0x50f711[_0x55d1('0xa0')]=!![];_0x50f711[_0x55d1('0x7')]('loadedmetadata',function(_0x4f53d6){if(_0x4b2bd4['onVideoInitialised']){_0x4b2bd4['onVideoInitialised']();}},!![]);return _0x50f711;};this['video']=createWebRtcVideo();onsignalingstatechange=function(_0x4d4929){console['info']('signaling\x20state\x20change:',_0x4d4929);};oniceconnectionstatechange=function(_0x33d56b){console['info'](_0x55d1('0x77'),_0x33d56b);};onicegatheringstatechange=function(_0x532ed6){console['info']('ice\x20gathering\x20state\x20change:',_0x532ed6);};handleOnTrack=function(_0xd4202){console[_0x55d1('0x11a')](_0x55d1('0x17'),_0xd4202[_0x55d1('0xb8')]);if(_0x4b2bd4[_0x55d1('0xfc')][_0x55d1('0xdd')]!==_0xd4202[_0x55d1('0xb8')][0x0]){console[_0x55d1('0x11a')](_0x55d1('0xcf'));_0x4b2bd4[_0x55d1('0xfc')]['srcObject']=_0xd4202[_0x55d1('0xb8')][0x0];}};setupDataChannel=function(_0x4ca2fa,_0x29ddae,_0x4311ee){try{var _0x15c037=_0x4ca2fa[_0x55d1('0x101')](_0x29ddae,_0x4311ee);console['log'](_0x55d1('0x11c')+_0x29ddae+')');_0x15c037['onopen']=function(_0x3578eb){console[_0x55d1('0x11a')](_0x55d1('0x6f')+_0x29ddae+_0x55d1('0x94'));if(_0x4b2bd4['onDataChannelConnected']){_0x4b2bd4['onDataChannelConnected']();}};_0x15c037[_0x55d1('0x25')]=function(_0x2cd93a){console['log'](_0x55d1('0x6f')+_0x29ddae+')\x20closed');};_0x15c037['onmessage']=function(_0xcb670b){if(_0x4b2bd4['onDataChannelMessage'])_0x4b2bd4[_0x55d1('0xa7')](_0xcb670b['data']);};return _0x15c037;}catch(_0x52845c){console[_0x55d1('0xc')]('No\x20data\x20channel',_0x52845c);return null;}};onicecandidate=function(_0x48acec){console[_0x55d1('0x11a')](_0x55d1('0x87'),_0x48acec);if(_0x48acec[_0x55d1('0xaa')]&&_0x48acec['candidate']['candidate']){_0x4b2bd4[_0x55d1('0xe2')](_0x48acec[_0x55d1('0xaa')]);}};handleCreateOffer=function(_0x1e06f2){_0x1e06f2[_0x55d1('0xda')](_0x4b2bd4['sdpConstraints'])['then'](function(_0x5e1dab){_0x1e06f2['setLocalDescription'](_0x5e1dab);if(_0x4b2bd4[_0x55d1('0x2f')]){_0x5e1dab['sdp']=_0x5e1dab[_0x55d1('0x19')][_0x55d1('0xf2')](/(a=fmtp:\d+ .*level-asymmetry-allowed=.*)\r\n/gm,_0x55d1('0xbd'));_0x4b2bd4['onWebRtcOffer'](_0x5e1dab);}},function(){console[_0x55d1('0xc')]('Couldn\x27t\x20create\x20offer');});};setupPeerConnection=function(_0x425c6c){if(_0x425c6c[_0x55d1('0x57')])console['log'](_0x55d1('0x7a'));_0x425c6c[_0x55d1('0x1d')]=onsignalingstatechange;_0x425c6c[_0x55d1('0x8d')]=oniceconnectionstatechange;_0x425c6c[_0x55d1('0x22')]=onicegatheringstatechange;_0x425c6c['ontrack']=handleOnTrack;_0x425c6c['onicecandidate']=onicecandidate;};generateAggregatedStatsFunction=function(){if(!_0x4b2bd4[_0x55d1('0x2c')])_0x4b2bd4['aggregatedStats']={};return function(_0x5e0af1){let _0x2f9cfb={};_0x5e0af1['forEach'](_0x4648b1=>{if(_0x4648b1['type']==_0x55d1('0xc5')&&!_0x4648b1['isRemote']&&(_0x4648b1['mediaType']=='video'||_0x4648b1['id'][_0x55d1('0x9d')]()['includes']('video'))){_0x2f9cfb[_0x55d1('0x60')]=_0x4648b1['timestamp'];_0x2f9cfb['bytesReceived']=_0x4648b1['bytesReceived'];_0x2f9cfb[_0x55d1('0xe8')]=_0x4648b1[_0x55d1('0xe8')];_0x2f9cfb['packetsLost']=_0x4648b1['packetsLost'];_0x2f9cfb[_0x55d1('0x4')]=_0x4b2bd4['aggregatedStats']&&_0x4b2bd4[_0x55d1('0x2c')]['bytesReceivedStart']?_0x4b2bd4['aggregatedStats']['bytesReceivedStart']:_0x4648b1['bytesReceived'];_0x2f9cfb['framesDecodedStart']=_0x4b2bd4[_0x55d1('0x2c')]&&_0x4b2bd4[_0x55d1('0x2c')]['framesDecodedStart']?_0x4b2bd4['aggregatedStats']['framesDecodedStart']:_0x4648b1[_0x55d1('0xe8')];_0x2f9cfb[_0x55d1('0xb0')]=_0x4b2bd4[_0x55d1('0x2c')]&&_0x4b2bd4[_0x55d1('0x2c')]['timestampStart']?_0x4b2bd4[_0x55d1('0x2c')]['timestampStart']:_0x4648b1[_0x55d1('0x60')];if(_0x4b2bd4[_0x55d1('0x2c')]&&_0x4b2bd4[_0x55d1('0x2c')]['timestamp']){if(_0x4b2bd4[_0x55d1('0x2c')][_0x55d1('0x8e')]){_0x2f9cfb[_0x55d1('0x58')]=0x8*(_0x2f9cfb['bytesReceived']-_0x4b2bd4['aggregatedStats']['bytesReceived'])/(_0x2f9cfb['timestamp']-_0x4b2bd4[_0x55d1('0x2c')][_0x55d1('0x60')]);_0x2f9cfb[_0x55d1('0x58')]=Math[_0x55d1('0x4b')](_0x2f9cfb['bitrate']);_0x2f9cfb['lowBitrate']=_0x4b2bd4[_0x55d1('0x2c')]['lowBitrate']&&_0x4b2bd4[_0x55d1('0x2c')]['lowBitrate']<_0x2f9cfb['bitrate']?_0x4b2bd4['aggregatedStats'][_0x55d1('0x86')]:_0x2f9cfb['bitrate'];_0x2f9cfb['highBitrate']=_0x4b2bd4['aggregatedStats']['highBitrate']&&_0x4b2bd4['aggregatedStats']['highBitrate']>_0x2f9cfb[_0x55d1('0x58')]?_0x4b2bd4[_0x55d1('0x2c')]['highBitrate']:_0x2f9cfb['bitrate'];}if(_0x4b2bd4[_0x55d1('0x2c')][_0x55d1('0x4')]){_0x2f9cfb[_0x55d1('0x2b')]=0x8*(_0x2f9cfb[_0x55d1('0x8e')]-_0x4b2bd4['aggregatedStats'][_0x55d1('0x4')])/(_0x2f9cfb[_0x55d1('0x60')]-_0x4b2bd4[_0x55d1('0x2c')]['timestampStart']);_0x2f9cfb[_0x55d1('0x2b')]=Math['floor'](_0x2f9cfb[_0x55d1('0x2b')]);}if(_0x4b2bd4[_0x55d1('0x2c')][_0x55d1('0xe8')]){_0x2f9cfb['framerate']=(_0x2f9cfb['framesDecoded']-_0x4b2bd4['aggregatedStats']['framesDecoded'])/((_0x2f9cfb['timestamp']-_0x4b2bd4['aggregatedStats']['timestamp'])/0x3e8);_0x2f9cfb[_0x55d1('0x120')]=Math[_0x55d1('0x4b')](_0x2f9cfb['framerate']);_0x2f9cfb[_0x55d1('0x85')]=_0x4b2bd4['aggregatedStats']['lowFramerate']&&_0x4b2bd4[_0x55d1('0x2c')][_0x55d1('0x85')]<_0x2f9cfb[_0x55d1('0x120')]?_0x4b2bd4[_0x55d1('0x2c')]['lowFramerate']:_0x2f9cfb[_0x55d1('0x120')];_0x2f9cfb[_0x55d1('0x51')]=_0x4b2bd4[_0x55d1('0x2c')]['highFramerate']&&_0x4b2bd4[_0x55d1('0x2c')]['highFramerate']>_0x2f9cfb['framerate']?_0x4b2bd4['aggregatedStats'][_0x55d1('0x51')]:_0x2f9cfb[_0x55d1('0x120')];}if(_0x4b2bd4['aggregatedStats']['framesDecodedStart']){_0x2f9cfb['avgframerate']=(_0x2f9cfb['framesDecoded']-_0x4b2bd4['aggregatedStats']['framesDecodedStart'])/((_0x2f9cfb[_0x55d1('0x60')]-_0x4b2bd4['aggregatedStats'][_0x55d1('0xb0')])/0x3e8);_0x2f9cfb[_0x55d1('0x41')]=Math['floor'](_0x2f9cfb['avgframerate']);}}}if(_0x4648b1['type']=='track'&&(_0x4648b1['trackIdentifier']=='video_label'||_0x4648b1[_0x55d1('0xb9')]=='video')){_0x2f9cfb[_0x55d1('0x125')]=_0x4648b1['framesDropped'];_0x2f9cfb[_0x55d1('0x50')]=_0x4648b1['framesReceived'];_0x2f9cfb[_0x55d1('0x37')]=_0x4648b1['framesDropped']/_0x4648b1[_0x55d1('0x50')]*0x64;_0x2f9cfb['frameHeight']=_0x4648b1[_0x55d1('0x1b')];_0x2f9cfb['frameWidth']=_0x4648b1['frameWidth'];_0x2f9cfb['frameHeightStart']=_0x4b2bd4[_0x55d1('0x2c')]&&_0x4b2bd4[_0x55d1('0x2c')][_0x55d1('0x40')]?_0x4b2bd4['aggregatedStats']['frameHeightStart']:_0x4648b1['frameHeight'];_0x2f9cfb['frameWidthStart']=_0x4b2bd4['aggregatedStats']&&_0x4b2bd4['aggregatedStats'][_0x55d1('0x8b')]?_0x4b2bd4[_0x55d1('0x2c')][_0x55d1('0x8b')]:_0x4648b1['frameWidth'];}if(_0x4648b1['type']=='candidate-pair'&&_0x4648b1['hasOwnProperty'](_0x55d1('0x71'))&&_0x4648b1['currentRoundTripTime']!=0x0){_0x2f9cfb['currentRoundTripTime']=_0x4648b1[_0x55d1('0x71')];}});_0x4b2bd4[_0x55d1('0x2c')]=_0x2f9cfb;if(_0x4b2bd4['onAggregatedStats'])_0x4b2bd4[_0x55d1('0x89')](_0x2f9cfb);};};this['handleCandidateFromServer']=function(_0x5726a3){console['log'](_0x55d1('0x4f'),_0x5726a3);let _0x37c24c=new RTCIceCandidate(_0x5726a3);_0x4b2bd4[_0x55d1('0x10e')][_0x55d1('0x8f')](_0x37c24c)[_0x55d1('0x83')](_0x435fe7=>{console[_0x55d1('0x11a')](_0x55d1('0xcc'));});};this['createOffer']=function(){if(_0x4b2bd4[_0x55d1('0x10e')]){console[_0x55d1('0x11a')](_0x55d1('0xe4'));_0x4b2bd4['pcClient']['close']();_0x4b2bd4[_0x55d1('0x10e')]=null;}_0x4b2bd4['pcClient']=new RTCPeerConnection(_0x4b2bd4[_0x55d1('0x5c')]);setupPeerConnection(_0x4b2bd4[_0x55d1('0x10e')]);_0x4b2bd4['dcClient']=setupDataChannel(_0x4b2bd4[_0x55d1('0x10e')],'cirrus',_0x4b2bd4[_0x55d1('0x2')]);handleCreateOffer(_0x4b2bd4[_0x55d1('0x10e')]);};this[_0x55d1('0x34')]=function(_0x2c27db){var _0x4a579b=new RTCSessionDescription(_0x2c27db);_0x4b2bd4['pcClient']['setRemoteDescription'](_0x4a579b);};this['close']=function(){if(_0x4b2bd4[_0x55d1('0x10e')]){console[_0x55d1('0x11a')]('Closing\x20existing\x20peerClient');_0x4b2bd4[_0x55d1('0x10e')]['close']();_0x4b2bd4['pcClient']=null;}if(_0x4b2bd4['aggregateStatsIntervalId'])clearInterval(_0x4b2bd4[_0x55d1('0x48')]);};this['send']=function(_0x68088d){if(_0x4b2bd4['dcClient']&&_0x4b2bd4['dcClient']['readyState']=='open'){_0x4b2bd4['dcClient']['send'](_0x68088d);}};this[_0x55d1('0xa3')]=function(_0x544d0c){if(_0x4b2bd4['pcClient']&&_0x544d0c){_0x4b2bd4[_0x55d1('0x10e')][_0x55d1('0xa3')](null)[_0x55d1('0x83')](_0x47955c=>{_0x544d0c(_0x47955c);});}};this[_0x55d1('0xed')]=function(_0x55cd16){let _0x237c1b=generateAggregatedStatsFunction();let _0x20dc85=()=>{_0x4b2bd4['getStats'](_0x237c1b);};_0x4b2bd4[_0x55d1('0x48')]=setInterval(_0x20dc85,_0x55cd16);};};return _0x1503b2;}));'use\x20strict';var MapVision=window['MapVision']||{};MapVision['version']=()=>{return _0x55d1('0xc0');};MapVision['OpenStatus']={'Unknown':0x0,'Connected':0x1,'UnConnected':0x2};MapVision[_0x55d1('0xd1')]={'MouseEvents':0x1,'TouchEvents':0x2,'KeyboardEvents':0x3};MapVision[_0x55d1('0x97')]={'QualityControlOwnership':0x0,'Response':0x1,'Command':0x2,'FreezeFrame':0x3,'UnfreezeFrame':0x4};MapVision[_0x55d1('0x5')]={'IFrameRequest':0x0,'RequestQualityControl':0x1,'MaxFpsRequest':0x2,'AverageBitrateRequest':0x3,'StartStreaming':0x4,'StopStreaming':0x5,'UIInteraction':0x32,'Command':0x33,'KeyDown':0x3c,'KeyUp':0x3d,'KeyPress':0x3e,'MouseEnter':0x46,'MouseLeave':0x47,'MouseDown':0x48,'MouseUp':0x49,'MouseMove':0x4a,'MouseWheel':0x4b,'TouchStart':0x50,'TouchEnd':0x51,'TouchMove':0x52};MapVision['MouseButton']={'MainButton':0x0,'AuxiliaryButton':0x1,'SecondaryButton':0x2,'FourthButton':0x3,'FifthButton':0x4};MapVision[_0x55d1('0x108')]={'PrimaryButton':0x1,'SecondaryButton':0x2,'AuxiliaryButton':0x4,'FourthButton':0x8,'FifthButton':0x10};MapVision[_0x55d1('0x39')]={'Pan':0x0,'Select':0x1,'SelectPositionCallback':0x2,'SelectObjectCallback':0x3};MapVision['CommandType']={'SetParameters':0x186a0,'ScreenToWorld':0x186a1,'WorldToScreen':0x186a2,'SetResolution':0x186a4,'EnableKeyboard':0x186a5,'SetMapStatus':0x18704,'Stop':0x18705,'Clear':0x18706,'Rotate':0x18707,'GetHomePosition':0x18708,'ResetHome':0x18709,'GetCurrentPosition':0x1870a,'SetMouseCallback':0x1870b,'SetPosition':0x1870c,'FlyToPosition':0x1870d,'FlyToObject':0x1870e,'FlyToObjectById':0x18711,'SetMousePositionCallback':0x18712,'GetMaps':0x18718,'OpenMap':0x18719,'GetScrrenPosition':0x18723,'CreateObject':0x18769,'CreateRoute':0x1876a,'PlayRoute':0x1876d,'PauseRoute':0x1876e,'StopRoute':0x1876f,'ResumeRoute':0x18770,'PlaySequence':0x18773,'PauseSequence':0x18774,'IsPlayingSequence':0x18775,'IsPausedSequence':0x18776,'StopSequence':0x18777,'FindObjectById':0x18787,'FindObjectByName':0x18789,'FindObjectByPrefix':0x1878a,'GetSelectedObject':0x1878b,'UpdateObject':0x1878d,'UpdateObjectVisible':0x1878e,'UpdateObjectStyle':0x1878f,'UpdateObjectVisibleByPrefix':0x18790,'ClearObjectStyle':0x1879a,'GetObjectsVisible':0x187a5,'SetObjectsVisible':0x187a6,'SetObjectHighlight':0x187af,'SetObjectsHighlight':0x187b0,'SetObjectsHighlightByPrefix':0x187b1,'ClearHighlight':0x187b2,'GetBuildingNum':0x18831,'GetBuildingName':0x18832,'GetBuildingNames':0x18833,'GetBuildingVisible':0x18834,'SetBuildingVisible':0x18835,'SetBuildingWkVisible':0x18836,'ResetAllBuildings':0x18837,'SplitBuilding':0x18838,'SplitBuildingReset':0x18839,'GetFloorNum':0x1883b,'GetFloorName':0x1883c,'GetFloorNames':0x1883d,'GetFloorVisible':0x1883e,'SetFloorVisible':0x1883f,'GetUpFloorNum':0x18840,'GetUpFloorNames':0x18841,'GetDownFloorNum':0x18842,'GetDownFloorNames':0x18843,'GetFloorRoomNum':0x18845,'GetFloorRoomName':0x18846,'GetFloorRoomNames':0x18847,'GetFloorRoomVisible':0x18848,'SetFloorRoomVisible':0x18849,'GetFloorDeviceNum':0x1884f,'GetFloorDeviceName':0x18850,'GetFloorDeviceNames':0x18851,'GetFloorDeviceVisible':0x18852,'SetFloorDeviceVisible':0x18853,'SetGroundVisible':0x18895,'OverLayerStartEdit':0x188f9,'OverLayerStopEdit':0x188fa,'OverLayerSelectObjectEdit':0x188fb,'OverLayerFindObject':0x188fc,'OverLayerCreateObject':0x18903,'OverLayerUpdateObject':0x18904,'OverLayerRemoveObject':0x18905,'OverLayerRemoveAll':0x18906,'OverLayerRemoveAllCustom':0x18907,'OverLayerCreateObjects':0x18908,'OverLayerRemoveObjects':0x18909,'LayerLoad':0x18917,'LayerReLoad':0x18918,'LayersLoad':0x18919,'LayerSelectObject':0x1891b,'LayerRemove':0x1891c,'LayerSetVisible':0x1891d,'NorthControl':0x18a25,'PositionControl':0x18a26};MapVision['Point2D']=function(){this['x']=0x0;this['y']=0x0;};MapVision['Point']=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;};MapVision[_0x55d1('0x30')]=function(){this['x']=0x0;this['y']=0x0;this['z']=0x0;this[_0x55d1('0x121')]=0x0;this[_0x55d1('0x12c')]=0x0;this[_0x55d1('0x65')]=0x0;};MapVision['Label']=function(){this['type']='label';this['gid']=0x1;this['name']='';this['style']='';this[_0x55d1('0xee')]=new MapVision[(_0x55d1('0x30'))]();};MapVision['Model3D']=function(){this['type']=_0x55d1('0x13');this['gid']=0x1;this['name']='';this[_0x55d1('0x10a')]='';this['position']=new MapVision['Position']();};MapVision['LineString']=function(){this[_0x55d1('0xe6')]='linestring';this['gid']=0x1;this[_0x55d1('0xe7')]='';this['style']='';this['geom']=[];};MapVision[_0x55d1('0xb5')]=function(){this['type']=_0x55d1('0x1f');this['gid']=0x1;this[_0x55d1('0xe7')]='';this[_0x55d1('0x10a')]='';this['geom']=[];};MapVision['Building']=function(){this[_0x55d1('0xe6')]=_0x55d1('0xc3');this[_0x55d1('0x111')]=0x0;this[_0x55d1('0xe7')]='';this['floors']=[{'type':_0x55d1('0x4b'),'gid':0x0,'name':''}];this[_0x55d1('0xee')]=new MapVision['Position']();};MapVision[_0x55d1('0x12a')]=0x1;MapVision['View3d']=function(_0x286179){this['id']=_0x286179['id'];this['name']='MapVision.View3d';this[_0x55d1('0x53')]=_0x286179[_0x55d1('0x53')];this['projectId']=_0x286179[_0x55d1('0xf')];this['token']=_0x286179['token'];this['enableKeyboard']=!![];this[_0x55d1('0x20')]=!![];this[_0x55d1('0x49')]=null;this[_0x55d1('0x104')]=null;this[_0x55d1('0xf8')]=null;this['_webSocket']=null;this[_0x55d1('0x59')]=null;this[_0x55d1('0xfa')]=null;this['_mouseDownStatus']=![];this[_0x55d1('0x31')]=null;this[_0x55d1('0xa6')]=null;this['_onMouseDownCallback']=null;this[_0x55d1('0x110')]=null;this[_0x55d1('0xfb')]=null;};MapVision['View3d'][_0x55d1('0xa2')]['Open']=function(_0x30ae42){let _0x338003=this;_0x338003['_registerCallback']=_0x30ae42;_0x338003['_callback']=null;if(_0x338003['id']==''||_0x338003[_0x55d1('0x53')]==''||_0x338003[_0x55d1('0xf')]==''){if(_0x338003['_registerCallback']){const _0x16ba60={'code':0xc9,'msg':_0x55d1('0x3f')};_0x338003[_0x55d1('0x49')](_0x16ba60);}return;}window[_0x55d1('0x109')]=window[_0x55d1('0x109')]||window['MozWebSocket'];if(!window[_0x55d1('0x109')]){if(_0x338003[_0x55d1('0x49')]){const _0x16e873={'code':0x1f9,'msg':_0x55d1('0x10d')};_0x338003[_0x55d1('0x49')](_0x16e873);}return;}const _0x5a7bab=_0x338003['_webSocket'];if(_0x5a7bab){_0x5a7bab['close']();_0x338003[_0x55d1('0xf6')]=undefined;console['log'](_0x55d1('0x76'));}if(_0x338003['url']['indexOf']('/aimapvision3d')<0x0){let _0x5e8dda=_0x338003['url']['replace'](_0x55d1('0x7c'),'');_0x5e8dda=_0x5e8dda['replace']('/','');_0x5e8dda=_0x55d1('0x12b')+_0x5e8dda;_0x5e8dda=_0x5e8dda['replace'](_0x55d1('0xce'),'//');_0x338003[_0x55d1('0x44')](_0x5e8dda);return;}const _0x4ba43d={'httpUrl':_0x338003[_0x55d1('0x53')]+'/project3d/getInfo?id='+_0x338003['projectId']+'&token='+_0x338003[_0x55d1('0x10f')],'type':_0x55d1('0xd2')};setTimeout(()=>{_0x338003['_httpRequest'](_0x4ba43d,function(_0x432ae0){if(_0x432ae0['code']&&_0x432ae0['code']===0xc8){const _0x4cb950=_0x432ae0['data'];if(_0x4cb950[_0x55d1('0x7e')]<0xa){console['log'](_0x55d1('0xaf'));if(_0x338003[_0x55d1('0x49')]){const _0x4d4199={'code':0x12c,'msg':_0x55d1('0xaf')};_0x338003[_0x55d1('0x49')](_0x4d4199);}return;}let _0x4c8aa5=_0x338003['url']['replace'](_0x55d1('0x16'),'');const _0x49740a=_0x4c8aa5['indexOf'](':',0x0);if(_0x49740a>0x0)_0x4c8aa5=_0x4c8aa5[_0x55d1('0xe')](0x0,_0x49740a);_0x4c8aa5='ws://'+_0x4c8aa5+':'+_0x4cb950['port'];_0x338003['_connectWebsocket'](_0x4c8aa5);}else{console['log'](_0x432ae0);}},function(){if(_0x338003[_0x55d1('0x49')]){const _0x16f86b={'code':0x1f4,'msg':_0x55d1('0x66')};_0x338003[_0x55d1('0x49')](_0x16f86b);}});},0x64);};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')]['Close']=function(){let _0x42937b=this;const _0x2fa932=_0x42937b['_webSocket'];if(_0x2fa932){_0x2fa932[_0x55d1('0x127')]();_0x42937b['_webSocket']=undefined;console[_0x55d1('0x11a')]('\x20_webSocket\x20closed\x20');}};MapVision['View3d']['prototype'][_0x55d1('0x4d')]=function(_0x520a47,_0x5e645d){if(_0x520a47===_0x55d1('0xbb')){this['_onMouseDownCallback']=_0x5e645d;this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')]['SetMouseCallback']);}else if(_0x520a47==='onmousemove'){this['_onMouseMoveCallback']=_0x5e645d;}else if(_0x520a47===_0x55d1('0xf5')){this['_onMouseUpCallback']=_0x5e645d;}else{this[_0x55d1('0x49')]=_0x5e645d;}};MapVision[_0x55d1('0x5a')]['prototype'][_0x55d1('0x4a')]=function(){this['_onMouseDownCallback']=null;this['_onMouseMoveCallback']=null;this[_0x55d1('0x110')]=null;this['_registerCallback']=null;};MapVision[_0x55d1('0x5a')]['prototype'][_0x55d1('0x67')]=function(){const _0x3e44fa=this[_0x55d1('0xf6')]===undefined;return _0x3e44fa;};MapVision['View3d'][_0x55d1('0xa2')]['SetParameters']=function(_0x22189b){this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')]['SetParameters'],_0x22189b);};MapVision['View3d']['prototype'][_0x55d1('0x79')]=function(_0x1c2ac0,_0x4bda3c){this[_0x55d1('0x59')]=null;this[_0x55d1('0x122')](MapVision['CommandType']['SetResolution'],{'width':_0x1c2ac0,'height':_0x4bda3c});};MapVision['View3d']['prototype']['SetMapStatus']=function(_0x33d996,_0x2cf792){if(_0x33d996>MapVision[_0x55d1('0x39')]['SELECTE'])this[_0x55d1('0x59')]=_0x2cf792;else this[_0x55d1('0x59')]=null;this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0x61')],{'mapstatus':_0x33d996});};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0x126')]=function(){this[_0x55d1('0x59')]=null;this[_0x55d1('0xa6')]=null;this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0x126')]);};MapVision['View3d']['prototype'][_0x55d1('0x11d')]=function(){this[_0x55d1('0x59')]=null;this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0x11d')]);};MapVision['View3d']['prototype']['ResetHome']=function(){this[_0x55d1('0x59')]=null;this['_emiUICommand'](MapVision[_0x55d1('0xa')]['ResetHome']);};MapVision['View3d']['prototype'][_0x55d1('0x92')]=function(_0x3b48d4,_0x4f588d,_0x5c220f,_0x5cee96,_0xa2bf98){this['_callback']=null;let _0x3c5eab={};if(_0x3b48d4){_0x3c5eab['pitch']=_0x3b48d4;}if(_0x4f588d){_0x3c5eab['radio']=_0x4f588d;}if(_0x5c220f){_0x3c5eab['distance']=_0x5c220f;}if(_0x5cee96){_0x3c5eab[_0x55d1('0x111')]=_0x5cee96;}if(_0xa2bf98){_0x3c5eab[_0x55d1('0x90')]=_0xa2bf98;}this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0x92')],{'gid':_0x5cee96,'pitch':_0x3b48d4,'radio':_0x4f588d,'distance':_0x5c220f,'highlight':_0xa2bf98});};MapVision['View3d']['prototype']['GetCurrentPosition']=function(_0x118510){this['_callback']=_0x118510;this[_0x55d1('0x122')](MapVision['CommandType']['GetCurrentPosition']);};MapVision['View3d']['prototype'][_0x55d1('0xfd')]=function(_0x54e020,_0x1746f9){this[_0x55d1('0x59')]=_0x1746f9;const _0x1a0ad6=[];_0x54e020['forEach'](_0x10c8c3=>{_0x1a0ad6['push']({'gid':_0x10c8c3['gid']});});this['_emiUICommand'](MapVision['CommandType']['GetScrrenPosition'],{'objects':_0x1a0ad6});};MapVision['View3d']['prototype']['SetMouseCallback']=function(_0x2a0277){this[_0x55d1('0xfa')]=_0x2a0277;this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')][_0x55d1('0x47')]);};MapVision['View3d'][_0x55d1('0xa2')]['SetMousePositionCallback']=function(_0x53b02e){this[_0x55d1('0xfa')]=_0x53b02e;this[_0x55d1('0x122')](MapVision['CommandType']['SetMousePositionCallback']);};MapVision[_0x55d1('0x5a')]['prototype']['OpenMap']=function(_0xe6d0f2){this[_0x55d1('0x122')](MapVision['CommandType'][_0x55d1('0xbe')],{'mapname':_0xe6d0f2});};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')][_0x55d1('0x12')]=function(_0x1e087f){this[_0x55d1('0x59')]=_0x1e087f;this['_emiUICommand'](MapVision['CommandType']['GetHomePosition']);};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')][_0x55d1('0x2d')]=function(_0x495c21,_0x376461){this[_0x55d1('0x59')]=null;_0x495c21[_0x55d1('0xeb')]=_0x376461;this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0x2d')],_0x495c21);};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')][_0x55d1('0x33')]=function(_0x318c78,_0x2312c9,_0x4029ee){this['_callback']=null;_0x318c78[_0x55d1('0xeb')]=_0x2312c9;_0x318c78['speed']=_0x4029ee;this['_emiUICommand'](MapVision['CommandType']['FlyToPosition'],_0x318c78);};MapVision['View3d']['prototype'][_0x55d1('0x21')]=function(_0x50a090,_0x447d27,_0x19bd76){this[_0x55d1('0x59')]=null;_0x50a090['showlocation']=_0x447d27;_0x50a090[_0x55d1('0xd6')]=_0x19bd76;this['_emiUICommand'](MapVision[_0x55d1('0xa')]['FlyToObject'],_0x50a090);};MapVision['View3d'][_0x55d1('0xa2')]['FlyToObjectById']=function(_0x1a4739,_0x2908a8,_0x50b31b,_0x37c879,_0x4664d2){this['_callback']=null;this['_emiUICommand'](MapVision[_0x55d1('0xa')]['FlyToObjectById'],{'gid':_0x1a4739,'showlocation':_0x2908a8,'distance':_0x37c879,'speed':_0x4664d2,'position':{'x':0x0,'y':0x0,'z':0x0,'pitch':_0x50b31b,'yaw':0x0,'roll':0x0}});};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0x100')]=function(_0x40497e,_0x4be03b){this['_callback']=_0x4be03b;this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')][_0x55d1('0x100')],{'gid':_0x40497e});};MapVision[_0x55d1('0x5a')]['prototype']['FindObjectByName']=function(_0x34c682,_0x2e19ac){this[_0x55d1('0x59')]=_0x2e19ac;this['_emiUICommand'](MapVision[_0x55d1('0xa')]['FindObjectByName'],{'gid':_0x34c682,'name':_0x34c682});};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0x69')]=function(_0x4b27aa,_0x1810c0,_0x3b28dd){this['_callback']=_0x3b28dd;if(!_0x1810c0)_0x1810c0=0x14;this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0x69')],{'gid':_0x4b27aa,'limit':_0x1810c0});};MapVision[_0x55d1('0x5a')]['prototype']['GetSelectedObject']=function(_0x1cb546){this[_0x55d1('0x59')]=_0x1cb546;this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')][_0x55d1('0xa1')]);};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0xb3')]=function(_0x3875c7){this[_0x55d1('0x59')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x55d1('0xb3')],_0x3875c7);};MapVision[_0x55d1('0x5a')]['prototype']['UpdateObjectStyle']=function(_0x201599,_0x4f64f6){this[_0x55d1('0x59')]=null;this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')]['UpdateObjectStyle'],{'gid':_0x201599,'style':_0x4f64f6});};MapVision['View3d'][_0x55d1('0xa2')]['ClearObjectStyle']=function(){this['_callback']=null;this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')]['ClearObjectStyle']);};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')]['GetObjectsVisible']=function(_0x220028){this['_callback']=_0x220028;this[_0x55d1('0x122')](MapVision['CommandType'][_0x55d1('0xa4')]);};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')][_0x55d1('0x62')]=function(_0x1e75b5){this[_0x55d1('0x59')]=null;this[_0x55d1('0x122')](MapVision['CommandType']['SetObjectsVisible'],{'objects':_0x1e75b5});};MapVision[_0x55d1('0x5a')]['prototype']['SetObjectHighlight']=function(_0x3e4f88){this[_0x55d1('0x59')]=null;this[_0x55d1('0x122')](MapVision['CommandType']['SetObjectHighlight'],{'gid':_0x3e4f88});};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0x74')]=function(_0x4e86bb){this['_callback']=null;this['_emiUICommand'](MapVision['CommandType'][_0x55d1('0x74')],{'objects':_0x4e86bb});};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0xd9')]=function(_0x567087){this['_callback']=null;this['_emiUICommand'](MapVision[_0x55d1('0xa')]['SetObjectsHighlightByPrefix'],{'prefix':_0x567087});};MapVision['View3d']['prototype']['ClearHighlight']=function(){this[_0x55d1('0x59')]=null;this['_emiUICommand'](MapVision['CommandType'][_0x55d1('0xca')]);};MapVision['View3d'][_0x55d1('0xa2')]['UpdateObjectVisible']=function(_0x5cc80e,_0x1d70dc){this[_0x55d1('0x59')]=null;this['_emiUICommand'](MapVision['CommandType']['UpdateObjectVisible'],{'gid':_0x5cc80e,'visible':_0x1d70dc});};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0xc6')]=function(_0x2345e8,_0x2862f3){this['_callback']=null;this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0xc6')],{'gid':_0x2345e8,'visible':_0x2862f3});};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0xa8')]=function(_0x57b3da){this['_callback']=null;this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0xa8')],_0x57b3da);};MapVision['View3d'][_0x55d1('0xa2')]['CreateRoute']=function(_0x4c4328){this['_callback']=null;this[_0x55d1('0x122')](MapVision['CommandType']['CreateRoute'],_0x4c4328);};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0xab')]=function(_0x54482b){this[_0x55d1('0x59')]=null;this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')]['StartRoute'],_0x54482b);};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0x81')]=function(_0x471cef){this[_0x55d1('0x59')]=_0x471cef;this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0x81')]);};MapVision['View3d']['prototype'][_0x55d1('0x88')]=function(){this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')]['PauseRoute']);};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')]['StopRoute']=function(){this['_callback']=null;this[_0x55d1('0x122')](MapVision['CommandType']['StopRoute']);};MapVision[_0x55d1('0x5a')]['prototype'][_0x55d1('0x23')]=function(){this['_emiUICommand'](MapVision[_0x55d1('0xa')]['ResumeRoute']);};MapVision[_0x55d1('0x5a')]['prototype'][_0x55d1('0x52')]=function(_0x4967cc){this[_0x55d1('0x59')]=null;this[_0x55d1('0x122')](MapVision['CommandType'][_0x55d1('0x52')],{'gid':_0x4967cc});};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')][_0x55d1('0x63')]=function(_0xae1f9e){this['_callback']=null;this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')][_0x55d1('0x63')],{'gid':_0xae1f9e});};MapVision[_0x55d1('0x5a')]['prototype']['IsPlayingSequence']=function(_0x478d44,_0x5601a9){this['_callback']=_0x5601a9;this[_0x55d1('0x122')](MapVision['CommandType']['IsPlayingSequence'],{'gid':_0x478d44});};MapVision[_0x55d1('0x5a')]['prototype']['IsPausedSequence']=function(_0x89c1ac,_0x933b80){this['_callback']=_0x933b80;this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')]['IsPausedSequence'],{'gid':_0x89c1ac});};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')]['StopSequence']=function(_0x5d2bb4,_0x474b8e){this[_0x55d1('0x59')]=null;this[_0x55d1('0x122')](MapVision['CommandType'][_0x55d1('0x78')],{'gid':_0x5d2bb4});};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')]['GetBuildingNum']=function(_0x54713e){this['_callback']=_0x54713e;this[_0x55d1('0x122')](MapVision['CommandType']['GetBuildingNum']);};MapVision['View3d'][_0x55d1('0xa2')]['GetBuildingName']=function(_0x50c4c4,_0x5c149a){this['_callback']=_0x5c149a;this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0x115')],{'bindex':_0x50c4c4});};MapVision[_0x55d1('0x5a')]['prototype'][_0x55d1('0x43')]=function(_0x13aaad){this['_callback']=_0x13aaad;this['_emiUICommand'](MapVision['CommandType'][_0x55d1('0x43')]);};MapVision['View3d']['prototype']['GetBuildingVisible']=function(_0x33e13c,_0x43c481){this[_0x55d1('0x59')]=_0x43c481;this['_emiUICommand'](MapVision[_0x55d1('0xa')]['GetBuildingVisible'],{'gid':_0x33e13c});};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0x28')]=function(_0x4f197c,_0x4d9197,_0xe82db0){this['_emiUICommand'](MapVision['CommandType'][_0x55d1('0x28')],{'gid':_0x4f197c,'visible':_0x4d9197,'opacity':_0xe82db0});};MapVision['View3d']['prototype'][_0x55d1('0x29')]=function(_0x54a7a3,_0x5181ac,_0x23664f){this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0x29')],{'gid':_0x54a7a3,'visible':_0x5181ac,'opacity':_0x23664f});};MapVision[_0x55d1('0x5a')]['prototype'][_0x55d1('0x32')]=function(){this[_0x55d1('0x122')](MapVision['CommandType'][_0x55d1('0x32')]);};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')]['SplitBuilding']=function(_0x436568,_0x43914a){this['_emiUICommand'](MapVision['CommandType']['SplitBuilding'],{'gid':_0x436568,'height':_0x43914a});};MapVision[_0x55d1('0x5a')]['prototype'][_0x55d1('0xb4')]=function(_0x57f27c){this[_0x55d1('0x122')](MapVision['CommandType'][_0x55d1('0xb4')],{'gid':_0x57f27c});};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')]['GetFloorNum']=function(_0xfd165d,_0x58cde3){this[_0x55d1('0x59')]=_0x58cde3;this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')]['GetFloorNum'],{'gid':_0xfd165d});};MapVision[_0x55d1('0x5a')]['prototype']['GetFloorName']=function(_0x19bbba,_0x432e0e){this['_callback']=_0x432e0e;this[_0x55d1('0x122')](MapVision['CommandType']['GetFloorNames'],{'gid':_0x19bbba});};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')][_0x55d1('0xad')]=function(_0x549155,_0x3fe1ba){this[_0x55d1('0x59')]=_0x3fe1ba;this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')]['GetFloorNames'],{'gid':_0x549155});};MapVision['View3d'][_0x55d1('0xa2')]['GetFloorVisible']=function(_0x1c4d38,_0x125f4b,_0x10b875){this['_callback']=_0x10b875;this['_emiUICommand'](MapVision[_0x55d1('0xa')]['GetFloorVisible'],{'gid':_0x1c4d38,'floor':_0x125f4b});};MapVision[_0x55d1('0x5a')]['prototype']['SetFloorVisible']=function(_0x4b1aab,_0xad4ba7,_0x3f1c3f,_0x4f9529){if(!_0x3f1c3f)_0x3f1c3f=![];if(!_0x4f9529)_0x4f9529=0x0;this[_0x55d1('0x122')](MapVision['CommandType'][_0x55d1('0x54')],{'gid':_0x4b1aab,'floor':_0xad4ba7,'visible':_0x3f1c3f,'opacity':_0x4f9529});};MapVision['View3d']['prototype'][_0x55d1('0xc1')]=function(_0x571af9,_0x5334b8,_0x239779){this[_0x55d1('0x59')]=_0x239779;this['_emiUICommand'](MapVision['CommandType']['GetUpFloorNum'],{'gid':_0x571af9,'floor':_0x5334b8});};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0xb6')]=function(_0x48e21d,_0x3b55c5,_0x333b41){this[_0x55d1('0x59')]=_0x333b41;this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')][_0x55d1('0xb6')],{'gid':_0x48e21d,'floor':_0x3b55c5});};MapVision[_0x55d1('0x5a')]['prototype']['GetDownFloorNum']=function(_0x50d77d,_0x11346e,_0x31c368){this['_callback']=_0x31c368;this[_0x55d1('0x122')](MapVision['CommandType'][_0x55d1('0xc4')],{'gid':_0x50d77d,'floor':_0x11346e});};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')][_0x55d1('0xdc')]=function(_0x2c8590,_0x3e18aa,_0x9db2bb){this['_callback']=_0x9db2bb;this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0xdc')],{'gid':_0x2c8590,'floor':_0x3e18aa});};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')]['GetFloorRoomNum']=function(_0x5e6642,_0x5f43aa,_0x45fd9b){this[_0x55d1('0x59')]=_0x45fd9b;this['_emiUICommand'](MapVision['CommandType']['GetFloorRoomNum'],{'gid':_0x5e6642,'floor':_0x5f43aa});};MapVision['View3d'][_0x55d1('0xa2')]['GetFloorRoomName']=function(_0x257664,_0x36c1de,_0x2ebdc6){this[_0x55d1('0x59')]=_0x2ebdc6;this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0xc2')],{'gid':_0x257664,'floor':_0x36c1de});};MapVision['View3d']['prototype']['GetFloorRoomNames']=function(_0x20f65c,_0x49dff9,_0x5e54c7){this[_0x55d1('0x59')]=_0x5e54c7;this[_0x55d1('0x122')](MapVision['CommandType'][_0x55d1('0xc2')],{'gid':_0x20f65c,'floor':_0x49dff9});};MapVision['View3d'][_0x55d1('0xa2')]['GetFloorRoomVisible']=function(_0xb3a213,_0x2b4187,_0x4cfe4d,_0xd348a4){this['_callback']=_0xd348a4;this['_emiUICommand'](MapVision[_0x55d1('0xa')]['GetFloorRoomVisible'],{'gid':_0xb3a213,'floor':_0x2b4187,'room':_0x4cfe4d});};MapVision['View3d']['prototype'][_0x55d1('0x1')]=function(_0x315b33,_0x599ca5,_0x5d70aa,_0x1f1cc2,_0x2eeb07){if(!_0x1f1cc2)_0x1f1cc2=![];if(!_0x2eeb07)_0x2eeb07=0x0;this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0x1')],{'gid':_0x315b33,'floor':_0x599ca5,'room':_0x5d70aa,'visible':_0x1f1cc2,'opacity':_0x2eeb07});};MapVision['View3d']['prototype']['GetFloorDeviceNum']=function(_0x245987,_0x870c88,_0x4cb309){this[_0x55d1('0x59')]=_0x4cb309;this['_emiUICommand'](MapVision['CommandType'][_0x55d1('0xe9')],{'gid':_0x245987,'floor':_0x870c88});};MapVision['View3d'][_0x55d1('0xa2')]['GetFloorDeviceName']=function(_0xf8e319,_0x4bcfc3,_0x47d8cd){this['_callback']=_0x47d8cd;this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')][_0x55d1('0x93')],{'gid':_0xf8e319,'floor':_0x4bcfc3});};MapVision[_0x55d1('0x5a')]['prototype'][_0x55d1('0x93')]=function(_0x55d42b,_0x95f95c,_0x33decd){this['_callback']=_0x33decd;this['_emiUICommand'](MapVision['CommandType']['GetFloorDeviceNames'],{'gid':_0x55d42b,'floor':_0x95f95c});};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')]['GetFloorDeviceVisible']=function(_0x4dfa63,_0x41b376,_0x42b68a,_0x2da8de){this['_callback']=_0x2da8de;this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')][_0x55d1('0x9a')],{'gid':_0x4dfa63,'floor':_0x41b376,'device':_0x42b68a});};MapVision[_0x55d1('0x5a')]['prototype']['SetFloorDeviceVisible']=function(_0x310c55,_0x1d2895,_0x2a3780,_0xb33ff9,_0x3acc59){if(!_0xb33ff9)_0xb33ff9=![];if(!_0x3acc59)_0x3acc59=0x0;this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0x68')],{'gid':_0x310c55,'floor':_0x1d2895,'device':_0x2a3780,'visible':_0xb33ff9,'opacity':_0x3acc59});};MapVision['View3d']['prototype']['SetGroundVisible']=function(_0x29105f){this[_0x55d1('0x122')](MapVision['CommandType']['SetGroundVisible'],{'visible':_0x29105f});};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0x112')]=function(_0x347620,_0xd67e5f){this[_0x55d1('0x59')]=_0xd67e5f;this['_emiUICommand'](MapVision['CommandType']['OverLayerStartEdit'],_0x347620);};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0x72')]=function(){this[_0x55d1('0x59')]=null;this['_emiUICommand'](MapVision['CommandType']['OverLayerStopEdit']);};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')][_0x55d1('0x26')]=function(_0x528adf){this[_0x55d1('0x59')]=_0x528adf;this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')]['OverLayerSelectObjectEdit']);};MapVision['View3d']['prototype']['OverLayerFindObject']=function(_0x1c3721,_0x1f9ebd){this[_0x55d1('0x59')]=_0x1f9ebd;this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0x9')],{'name':_0x1c3721});};MapVision['View3d'][_0x55d1('0xa2')]['OverLayerCreateObject']=function(_0x38f589,_0x3fa437){this[_0x55d1('0x59')]=_0x3fa437;this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0x38')],_0x38f589);};MapVision['View3d'][_0x55d1('0xa2')]['OverLayerCreateObjects']=function(_0x3ddf5e,_0x49007c){this['_callback']=_0x49007c;this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')][_0x55d1('0x5b')],{'shapes':_0x3ddf5e});};MapVision['View3d']['prototype'][_0x55d1('0x36')]=function(_0x1f8164){this['_emiUICommand'](MapVision[_0x55d1('0xa')]['OverLayerUpdateObject'],_0x1f8164);};MapVision['View3d']['prototype'][_0x55d1('0x113')]=function(_0x1a37f0){this['_emiUICommand'](MapVision[_0x55d1('0xa')]['OverLayerRemoveObject'],_0x1a37f0);};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')][_0x55d1('0xba')]=function(_0x294afb){this[_0x55d1('0x122')](MapVision['CommandType']['OverLayerRemoveObject'],{'gid':_0x294afb});};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')][_0x55d1('0x9c')]=function(_0x51df99){this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')]['OverLayerRemoveObjects'],{'ids':_0x51df99});};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0xde')]=function(_0x510f89){if(_0x510f89){this[_0x55d1('0x122')](MapVision['CommandType'][_0x55d1('0xd4')],{'types':_0x510f89});}else{this[_0x55d1('0x122')](MapVision['CommandType'][_0x55d1('0xde')]);}};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0x10b')]=function(_0xbad671,_0x4bbd65){this['_callback']=_0x4bbd65;this['_emiUICommand'](MapVision[_0x55d1('0xa')]['LayerLoad'],_0xbad671);};MapVision[_0x55d1('0x5a')]['prototype']['LayerReLoad']=function(_0x29dbf3,_0x1f94fb){this['_callback']=_0x1f94fb;this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')][_0x55d1('0x3c')],_0x29dbf3);};MapVision['View3d'][_0x55d1('0xa2')]['LayersLoad']=function(_0xc3bdd6,_0x2ff381){this[_0x55d1('0x59')]=_0x2ff381;this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0x11e')],{'layers':_0xc3bdd6});};MapVision[_0x55d1('0x5a')]['prototype'][_0x55d1('0x82')]=function(_0x123323,_0x5ba4bb){this['_callback']=_0x5ba4bb;this[_0x55d1('0x122')](MapVision['CommandType']['LayerSelectObject'],{'gid':_0x123323});};MapVision['View3d']['prototype']['LayerRemove']=function(_0xb603fc){this['_emiUICommand'](MapVision['CommandType']['LayerRemove'],{'gid':_0xb603fc});};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0x128')]=function(_0x42fb48,_0x5947c7){this[_0x55d1('0x122')](MapVision[_0x55d1('0xa')][_0x55d1('0x128')],{'gid':_0x42fb48,'visible':_0x5947c7});};MapVision['View3d'][_0x55d1('0xa2')]['SetNorthControl']=function(_0x16869c,_0x411adc,_0x1eca70,_0xdbd774){this['_emiUICommand'](MapVision[_0x55d1('0xa')][_0x55d1('0x24')],{'visible':_0x16869c,'x':_0x411adc,'y':_0x1eca70,'scale':_0xdbd774});};MapVision[_0x55d1('0x5a')]['prototype']['_connectWebsocket']=function(_0x1d65d5){let _0x2ba875=this;_0x2ba875[_0x55d1('0xf6')]=new WebSocket(_0x1d65d5);_0x2ba875['_webSocket']['onmessage']=function(_0x34cb5d){var _0x5c6427=JSON[_0x55d1('0xff')](_0x34cb5d['data']);if(_0x5c6427['type']==='config'){_0x2ba875[_0x55d1('0x18')](_0x2ba875['id'],_0x5c6427);}else if(_0x5c6427[_0x55d1('0xe6')]==='playerCount'){}else if(_0x5c6427['type']===_0x55d1('0x80')){_0x2ba875[_0x55d1('0x129')](_0x5c6427);}else if(_0x5c6427['type']===_0x55d1('0x1c')){_0x2ba875['_onWebRtcIce'](_0x5c6427['candidate']);}else{console[_0x55d1('0x11a')]('invalid\x20SS\x20message\x20type:\x20'+_0x5c6427[_0x55d1('0xe6')]);}};_0x2ba875['_webSocket'][_0x55d1('0x102')]=function(_0x3afb07){console[_0x55d1('0x11a')](_0x55d1('0x5e')+JSON[_0x55d1('0x1e')](_0x3afb07));if(_0x2ba875['_registerCallback']){const _0x31556c={'code':0x64,'msg':'webSocket\x20connenect\x20error'};_0x2ba875['_registerCallback'](_0x31556c);}};_0x2ba875[_0x55d1('0xf6')]['onclose']=function(_0x3564a2){console[_0x55d1('0x11a')]('WS\x20closed:\x20'+JSON['stringify'](_0x3564a2[_0x55d1('0xc8')])+'\x20-\x20'+_0x3564a2['reason']);_0x2ba875[_0x55d1('0xf6')]=undefined;let _0x5bbeea=document[_0x55d1('0x55')](_0x2ba875['id']);if(_0x2ba875['_webRtcPlayerObj']){_0x5bbeea[_0x55d1('0x6b')](_0x2ba875[_0x55d1('0xf8')][_0x55d1('0xfc')]);_0x2ba875[_0x55d1('0xf8')][_0x55d1('0x127')]();_0x2ba875[_0x55d1('0xf8')]=undefined;}if(_0x2ba875[_0x55d1('0x49')]){const _0x3cb576={'code':0x190,'msg':'websocket\x20closed'};_0x2ba875[_0x55d1('0x49')](_0x3cb576);}};};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')]['_registerMouseEvents']=function(_0x35eacb){let _0x2ddb8f=this;_0x35eacb[_0x55d1('0x6e')]=_0x6da51=>{if(!_0x2ddb8f['enableMouse']){return;}_0x2ddb8f[_0x55d1('0x99')](_0x6da51['offsetX'],_0x6da51[_0x55d1('0x103')],_0x6da51[_0x55d1('0x105')],_0x6da51[_0x55d1('0x45')]);if(_0x2ddb8f[_0x55d1('0x6c')]&&_0x2ddb8f['_onMouseMoveCallback']){_0x2ddb8f['_onMouseMoveCallback'](_0x6da51,_0x2ddb8f['_onMouseSelectedObj']);}_0x6da51[_0x55d1('0x56')]();};_0x35eacb['onmousedown']=_0x2cbb47=>{_0x2ddb8f[_0x55d1('0x6c')]=!![];_0x2ddb8f['_onMouseSelectedObj']=null;if(!_0x2ddb8f['enableMouse']){return;}_0x2ddb8f[_0x55d1('0x3e')](_0x2cbb47['button'],_0x2cbb47['offsetX'],_0x2cbb47[_0x55d1('0x103')]);setTimeout(function(){if(_0x2ddb8f['_onMouseDownCallback']){_0x2ddb8f[_0x55d1('0x10c')](_0x2cbb47,_0x2ddb8f[_0x55d1('0xa6')]);}},0x64);_0x2cbb47['preventDefault']();};_0x35eacb[_0x55d1('0xf5')]=_0x1e11c0=>{_0x2ddb8f[_0x55d1('0x6c')]=![];if(!_0x2ddb8f[_0x55d1('0x20')]){return;}_0x2ddb8f['_onMouseUp'](_0x1e11c0['button'],_0x1e11c0['offsetX'],_0x1e11c0[_0x55d1('0x103')]);if(_0x2ddb8f[_0x55d1('0x110')]){_0x2ddb8f['_onMouseUpCallback'](_0x1e11c0,_0x2ddb8f['_onMouseSelectedObj']);}_0x1e11c0['preventDefault']();};_0x35eacb['oncontextmenu']=_0x214d75=>{if(!_0x2ddb8f[_0x55d1('0x20')]){return;}_0x2ddb8f[_0x55d1('0x4c')](_0x214d75['button'],_0x214d75['offsetX'],_0x214d75[_0x55d1('0x103')]);_0x214d75[_0x55d1('0x56')]();};if('onmousewheel'in _0x35eacb){_0x35eacb['onmousewheel']=_0x45e80c=>{if(!_0x2ddb8f['enableMouse']){return;}_0x2ddb8f[_0x55d1('0x46')](_0x45e80c['wheelDelta'],_0x45e80c[_0x55d1('0x2e')],_0x45e80c[_0x55d1('0x103')]);_0x45e80c['preventDefault']();};}else{_0x35eacb['addEventListener'](_0x55d1('0x91'),_0x5c0b0a=>{if(!_0x2ddb8f['enableMouse']){return;}_0x2ddb8f['_onMouseWheel'](_0x5c0b0a['detail']*-0x78,_0x5c0b0a[_0x55d1('0x2e')],_0x5c0b0a[_0x55d1('0x103')]);_0x5c0b0a['preventDefault']();},![]);}_0x35eacb[_0x55d1('0x12e')]=_0xf14d2f=>{if(!_0x2ddb8f['enableMouse']){return;}_0x2ddb8f['_pressMouseButtons'](_0xf14d2f['buttons'],_0xf14d2f[_0x55d1('0x2e')],_0xf14d2f['offsetY']);};_0x35eacb[_0x55d1('0xd5')]=_0x495fee=>{if(!_0x2ddb8f[_0x55d1('0x20')]){return;}_0x2ddb8f['_releaseMouseButtons'](_0x495fee[_0x55d1('0xf3')],_0x495fee['offsetX'],_0x495fee['offsetY']);};_0x35eacb['onmouseenter']=_0x157a0f=>{if(!_0x2ddb8f['enableMouse']){return;}var _0x2f882e=new DataView(new ArrayBuffer(0x1));_0x2f882e[_0x55d1('0x11b')](0x0,MapVision['MessageType'][_0x55d1('0x117')]);_0x2ddb8f['_sendInputData'](_0x2f882e[_0x55d1('0xd8')]);_0x35eacb[_0x55d1('0x12e')](_0x157a0f);};_0x35eacb[_0x55d1('0x114')]=_0x2f39eb=>{if(!_0x2ddb8f[_0x55d1('0x20')]){return;}var _0x4bb9e7=new DataView(new ArrayBuffer(0x1));_0x4bb9e7['setUint8'](0x0,MapVision['MessageType'][_0x55d1('0xf0')]);_0x2ddb8f[_0x55d1('0x5f')](_0x4bb9e7['buffer']);_0x35eacb[_0x55d1('0xd5')](_0x2f39eb);};};MapVision[_0x55d1('0x5a')]['prototype']['_registerTouchEvents']=function(_0x2c531d){};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')][_0x55d1('0xd3')]=function(){let _0x35d17a=this;const _0x574205={'BackSpace':0x8,'Shift':0x10,'Control':0x11,'Alt':0x12,'RightShift':0xfd,'RightControl':0xfe,'RightAlt':0xff};function _0x53b6de(_0x313fde){if(_0x313fde['keyCode']===_0x574205[_0x55d1('0x2a')]&&_0x313fde['code']==='ShiftRight')return _0x574205[_0x55d1('0x119')];else if(_0x313fde[_0x55d1('0x75')]===_0x574205[_0x55d1('0xcb')]&&_0x313fde['code']===_0x55d1('0x42'))return _0x574205[_0x55d1('0xb7')];else if(_0x313fde[_0x55d1('0x75')]===_0x574205[_0x55d1('0x6a')]&&_0x313fde['code']===_0x55d1('0x7f'))return _0x574205['RightAlt'];else return _0x313fde[_0x55d1('0x75')];};function _0x308969(_0x342b98){return!(_0x342b98[_0x55d1('0x75')]==0x1b||_0x342b98['keyCode']==0x74||_0x342b98['keyCode']==0xde||_0x342b98[_0x55d1('0x75')]==0xba||_0x342b98['keyCode']==0xbc||_0x342b98['ctrlKey']&&_0x342b98[_0x55d1('0x75')]==0x52);};var _0x1bdcad=document['getElementsByTagName'](_0x55d1('0xd'));var _0x43c3f8=null;if(_0x1bdcad&&_0x1bdcad[_0x55d1('0x9b')]>0x0){_0x43c3f8=_0x1bdcad[0x0];alert(_0x43c3f8['name']);}else{_0x43c3f8=document;}_0x43c3f8['onkeydown']=_0x4db002=>{if(!_0x35d17a[_0x55d1('0x12d')]){return;}if(_0x308969(_0x4db002)==![]){_0x4db002[_0x55d1('0x56')]();return;}_0x35d17a['_sendInputData'](new Uint8Array([MapVision[_0x55d1('0x5')]['KeyDown'],_0x53b6de(_0x4db002),_0x4db002[_0x55d1('0x9f')]])[_0x55d1('0xd8')]);if(_0x4db002['keyCode']===_0x574205[_0x55d1('0x7b')]){_0x43c3f8[_0x55d1('0x3d')]({'charCode':_0x574205['BackSpace']});}};_0x43c3f8[_0x55d1('0xd0')]=_0x3ee5db=>{if(!_0x35d17a[_0x55d1('0x12d')]){return;}if(_0x308969(_0x3ee5db)==![]){_0x3ee5db['preventDefault']();return;}_0x35d17a['_sendInputData'](new Uint8Array([MapVision[_0x55d1('0x5')][_0x55d1('0x70')],_0x53b6de(_0x3ee5db)])[_0x55d1('0xd8')]);};_0x43c3f8[_0x55d1('0x3d')]=_0x35b60f=>{if(!_0x35d17a['enableKeyboard']){return;}if(_0x308969(_0x35b60f)==![]){_0x35b60f['preventDefault']();return;}let _0x578129=new DataView(new ArrayBuffer(0x3));_0x578129[_0x55d1('0x11b')](0x0,MapVision['MessageType'][_0x55d1('0x0')]);_0x578129[_0x55d1('0xa9')](0x1,_0x35b60f[_0x55d1('0x7d')],!![]);_0x35d17a[_0x55d1('0x5f')](_0x578129[_0x55d1('0xd8')]);};};MapVision['View3d']['prototype'][_0x55d1('0x18')]=function(_0x59d47a,_0x4001a4){let _0x43b96a=this;_0x43b96a[_0x55d1('0x104')]=document['getElementById'](_0x59d47a);_0x43b96a[_0x55d1('0xf8')]=new webRtcPlayer({'peerConnectionOptions':_0x4001a4[_0x55d1('0x5d')]});_0x43b96a['_webRtcPlayerHtmlElement'][_0x55d1('0x10a')]['visibility']='hidden';let _0x1ce009=_0x43b96a[_0x55d1('0x104')];_0x1ce009[_0x55d1('0xf1')](_0x43b96a[_0x55d1('0xf8')]['video']);_0x43b96a['_webRtcPlayerObj'][_0x55d1('0x2f')]=function(_0x1196ea){if(_0x43b96a['_webSocket']&&_0x43b96a[_0x55d1('0xf6')][_0x55d1('0x3b')]===MapVision[_0x55d1('0x12a')]){let _0x318976=JSON[_0x55d1('0x1e')](_0x1196ea);_0x43b96a[_0x55d1('0xf6')][_0x55d1('0x27')](_0x318976);}};_0x43b96a['_webRtcPlayerObj'][_0x55d1('0xe2')]=function(_0x2195bf){if(_0x43b96a['_webSocket']&&_0x43b96a[_0x55d1('0xf6')]['readyState']===MapVision[_0x55d1('0x12a')]){console[_0x55d1('0x11a')](_0x55d1('0x96')+JSON['stringify'](_0x2195bf,undefined,0x4));_0x43b96a['_webSocket']['send'](JSON['stringify']({'type':'iceCandidate','candidate':_0x2195bf}));}};_0x43b96a['_webRtcPlayerObj'][_0x55d1('0x6d')]=function(){if(_0x43b96a[_0x55d1('0xf6')]&&_0x43b96a[_0x55d1('0xf6')]['readyState']===MapVision['WS_OPEN_STATE']){if(_0x43b96a['_webRtcPlayerObj']){_0x43b96a['_webRtcPlayerObj'][_0x55d1('0xfc')][_0x55d1('0xf9')]=!![];_0x43b96a[_0x55d1('0xf8')][_0x55d1('0xfc')][_0x55d1('0xfe')]();}}};_0x43b96a[_0x55d1('0xf8')]['onDataChannelConnected']=function(){if(_0x43b96a[_0x55d1('0xf6')]&&_0x43b96a['_webSocket'][_0x55d1('0x3b')]===MapVision['WS_OPEN_STATE']){if(_0x43b96a[_0x55d1('0x49')]){const _0x4b744d={'code':0xc8,'msg':'websocket\x20connected'};_0x43b96a[_0x55d1('0x49')](_0x4b744d);}_0x43b96a['_webRtcPlayerHtmlElement'][_0x55d1('0x10a')][_0x55d1('0xef')]=_0x55d1('0x98');var _0xe10b2=new Uint8Array([MapVision[_0x55d1('0x97')]['RequestQualityControl']])['buffer'];console['log'](_0x55d1('0x3')+_0xe10b2);_0x43b96a[_0x55d1('0xf8')][_0x55d1('0x27')](_0xe10b2);}};_0x43b96a[_0x55d1('0xf8')][_0x55d1('0xa7')]=function(_0x14e535){var _0x2fa58e=new Uint8Array(_0x14e535);var _0x4f0b2a=_0x2fa58e[0x0];if(_0x4f0b2a===MapVision['ToClientMessageType']['QualityControlOwnership']){let _0x37e065=new TextDecoder('utf-16')[_0x55d1('0x1a')](_0x14e535[_0x55d1('0xec')](0x1));console[_0x55d1('0x11a')]('->\x20SS:\x20QualityControlOwnership:\x0a'+_0x37e065);}else if(_0x4f0b2a===MapVision['ToClientMessageType']['Response']){let _0x30df97=new TextDecoder(_0x55d1('0x107'))[_0x55d1('0x1a')](_0x14e535[_0x55d1('0xec')](0x1));let _0xe9b939=JSON[_0x55d1('0xff')](_0x30df97);if(_0xe9b939&&_0xe9b939['onMouse']){_0x43b96a['_onMouseSelectedObj']=_0xe9b939;}if(_0x43b96a[_0x55d1('0xfa')]&&(_0x43b96a['_command']===MapVision['CommandType']['SetMouseCallback']||_0x43b96a['_command']===MapVision['CommandType'][_0x55d1('0xdb')])){_0x43b96a['_callbackMouse'](_0xe9b939);}else if(_0x43b96a[_0x55d1('0x59')]){_0x43b96a[_0x55d1('0x59')](_0xe9b939);}}else if(_0x4f0b2a===MapVision['ToClientMessageType']['Command']){let _0x1cf639=new TextDecoder(_0x55d1('0x107'))['decode'](_0x14e535[_0x55d1('0xec')](0x1));console['log']('->\x20SS:\x20Command:\x0a'+_0x1cf639);}else if(_0x4f0b2a===MapVision[_0x55d1('0x97')]['FreezeFrame']){let _0x190b7a=new TextDecoder(_0x55d1('0x107'))['decode'](_0x14e535[_0x55d1('0xec')](0x1));console['log']('->\x20SS:\x20FreezeFrame:\x0a'+_0x190b7a);}else if(_0x4f0b2a===MapVision['ToClientMessageType']['UnfreezeFrame']){let _0x277a3a=new TextDecoder(_0x55d1('0x107'))['decode'](_0x14e535['slice'](0x1));console[_0x55d1('0x11a')](_0x55d1('0xe0')+_0x277a3a);}};_0x43b96a[_0x55d1('0xa5')](_0x1ce009);_0x43b96a['_registerTouchEvents'](_0x1ce009);_0x43b96a['_registerKeyboardEvents'](_0x1ce009);_0x43b96a[_0x55d1('0xf8')][_0x55d1('0xda')]();};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0x5f')]=function(_0xd2adbc){if(this['_webRtcPlayerObj']){this[_0x55d1('0xf8')]['send'](_0xd2adbc);}else{console[_0x55d1('0x11a')]('error\x20_webRtcPlayerObj\x20is\x20null');}};MapVision[_0x55d1('0x5a')]['prototype'][_0x55d1('0x8')]=function(_0x366692,_0xff108){let _0x287e27=JSON['stringify'](_0xff108);let _0x3f2015=new DataView(new ArrayBuffer(0x1+0x2+0x2*_0x287e27[_0x55d1('0x9b')]));let _0x146562=0x0;_0x3f2015['setUint8'](_0x146562,_0x366692);_0x146562++;_0x3f2015['setUint16'](_0x146562,_0x287e27['length'],!![]);_0x146562+=0x2;for(i=0x0;i<_0x287e27['length'];i++){_0x3f2015[_0x55d1('0xa9')](_0x146562,_0x287e27[_0x55d1('0x35')](i),!![]);_0x146562+=0x2;}this[_0x55d1('0x5f')](_0x3f2015[_0x55d1('0xd8')]);};MapVision[_0x55d1('0x5a')][_0x55d1('0xa2')]['_emiUICommand']=function(_0x15e2c3,_0x51ae7d){this[_0x55d1('0x31')]=_0x15e2c3;const _0x45cd45={'cmd':_0x15e2c3,'data':_0x51ae7d};this[_0x55d1('0x8')](MapVision['MessageType']['UIInteraction'],_0x45cd45);};MapVision[_0x55d1('0x5a')]['prototype'][_0x55d1('0x99')]=function(_0x3cdf76,_0x67bb1c,_0x329dc9,_0x8395a9){let _0x539378=this;if(!_0x539378['_webSocket']){return;}let _0x4d0b6d=_0x539378[_0x55d1('0x73')](_0x3cdf76,_0x67bb1c);let _0x3a4388=_0x539378[_0x55d1('0xe3')](_0x329dc9,_0x8395a9);var _0x4f789a=new DataView(new ArrayBuffer(0x9));_0x4f789a['setUint8'](0x0,MapVision[_0x55d1('0x5')][_0x55d1('0x118')]);_0x4f789a[_0x55d1('0xa9')](0x1,_0x4d0b6d['x'],!![]);_0x4f789a[_0x55d1('0xa9')](0x3,_0x4d0b6d['y'],!![]);_0x4f789a['setInt16'](0x5,_0x3a4388['x'],!![]);_0x4f789a[_0x55d1('0x84')](0x7,_0x3a4388['y'],!![]);_0x539378['_sendInputData'](_0x4f789a['buffer']);};MapVision['View3d'][_0x55d1('0xa2')]['_onMouseDown']=function(_0x336358,_0x23435b,_0x35618b){let _0x2e65d3=this;if(!_0x2e65d3[_0x55d1('0xf6')]){return;}let _0x503b09=_0x2e65d3['_normalizeAndQuantizeUnsigned'](_0x23435b,_0x35618b);var _0x5a2e6a=new DataView(new ArrayBuffer(0x6));_0x5a2e6a[_0x55d1('0x11b')](0x0,MapVision['MessageType'][_0x55d1('0x10')]);_0x5a2e6a['setUint8'](0x1,_0x336358);_0x5a2e6a[_0x55d1('0xa9')](0x2,_0x503b09['x'],!![]);_0x5a2e6a['setUint16'](0x4,_0x503b09['y'],!![]);_0x2e65d3[_0x55d1('0x5f')](_0x5a2e6a[_0x55d1('0xd8')]);};MapVision['View3d'][_0x55d1('0xa2')]['_onMouseUp']=function(_0x7bc271,_0x1352d3,_0x12dda1){let _0xfb6255=this;if(!_0xfb6255['_webSocket']){return;}let _0x59b774=_0xfb6255[_0x55d1('0x73')](_0x1352d3,_0x12dda1);var _0x56d5d0=new DataView(new ArrayBuffer(0x6));_0x56d5d0[_0x55d1('0x11b')](0x0,MapVision[_0x55d1('0x5')]['MouseUp']);_0x56d5d0['setUint8'](0x1,_0x7bc271);_0x56d5d0[_0x55d1('0xa9')](0x2,_0x59b774['x'],!![]);_0x56d5d0['setUint16'](0x4,_0x59b774['y'],!![]);_0xfb6255[_0x55d1('0x5f')](_0x56d5d0[_0x55d1('0xd8')]);};MapVision['View3d'][_0x55d1('0xa2')][_0x55d1('0x46')]=function(_0x564893,_0x349cd2,_0x5ae8c7){let _0x492b40=this;if(!_0x492b40[_0x55d1('0xf6')]){return;}let _0x4e5430=_0x492b40['_normalizeAndQuantizeUnsigned'](_0x349cd2,_0x5ae8c7);var _0x144e07=new DataView(new ArrayBuffer(0x7));_0x144e07['setUint8'](0x0,MapVision[_0x55d1('0x5')]['MouseWheel']);_0x144e07['setInt16'](0x1,_0x564893,!![]);_0x144e07[_0x55d1('0xa9')](0x3,_0x4e5430['x'],!![]);_0x144e07[_0x55d1('0xa9')](0x5,_0x4e5430['y'],!![]);_0x492b40['_sendInputData'](_0x144e07['buffer']);};MapVision[_0x55d1('0x5a')]['prototype']['_releaseMouseButtons']=function(_0x6aef5a,_0x559382,_0xb8c0d2){if(_0x6aef5a&MapVision['MouseButtonsMask'][_0x55d1('0xbc')]){this['_onMouseUp'](MapVision['MouseButton'][_0x55d1('0x11f')],_0x559382,_0xb8c0d2);}if(_0x6aef5a&MapVision['MouseButtonsMask'][_0x55d1('0xe1')]){this[_0x55d1('0x4c')](MapVision['MouseButton']['SecondaryButton'],_0x559382,_0xb8c0d2);}if(_0x6aef5a&MapVision['MouseButtonsMask']['AuxiliaryButton']){this[_0x55d1('0x4c')](MapVision['MouseButton'][_0x55d1('0xb1')],_0x559382,_0xb8c0d2);}if(_0x6aef5a&MapVision[_0x55d1('0x108')]['FourthButton']){this[_0x55d1('0x4c')](MapVision[_0x55d1('0xb')]['FourthButton'],_0x559382,_0xb8c0d2);}if(_0x6aef5a&MapVision['MouseButtonsMask'][_0x55d1('0xd7')]){this['_onMouseUp'](MapVision[_0x55d1('0xb')]['FifthButton'],_0x559382,_0xb8c0d2);}};MapVision[_0x55d1('0x5a')]['prototype']['_pressMouseButtons']=function(_0x25b455,_0xca3c38,_0x46ef2f){if(_0x25b455&MapVision[_0x55d1('0x108')]['PrimaryButton']){this['_onMouseDown'](MapVision[_0x55d1('0xb')]['MainButton'],_0xca3c38,_0x46ef2f);}if(_0x25b455&MapVision[_0x55d1('0x108')][_0x55d1('0xe1')]){this[_0x55d1('0x3e')](MapVision[_0x55d1('0xb')][_0x55d1('0xe1')],_0xca3c38,_0x46ef2f);}if(_0x25b455&MapVision['MouseButtonsMask']['AuxiliaryButton']){this['_onMouseDown'](MapVision[_0x55d1('0xb')][_0x55d1('0xb1')],_0xca3c38,_0x46ef2f);}if(_0x25b455&MapVision[_0x55d1('0x108')][_0x55d1('0xf4')]){this[_0x55d1('0x3e')](MapVision['MouseButton'][_0x55d1('0xf4')],_0xca3c38,_0x46ef2f);}if(_0x25b455&MapVision['MouseButtonsMask'][_0x55d1('0xd7')]){this['_onMouseDown'](MapVision['MouseButton']['FifthButton'],_0xca3c38,_0x46ef2f);}};MapVision[_0x55d1('0x5a')]['prototype'][_0x55d1('0x73')]=function(_0x1df28c,_0x4b12d4){let _0xd636c0=this;if(!_0xd636c0['_webSocket']){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x30207b=_0xd636c0['_webRtcPlayerHtmlElement'];let _0x36ec11=_0xd636c0['_webRtcPlayerObj'][_0x55d1('0xfc')];let _0x289e04=_0x30207b[_0x55d1('0x3a')]/_0x30207b['clientWidth'];let _0x356a8c=_0x36ec11[_0x55d1('0x6')]/_0x36ec11[_0x55d1('0xae')];if(_0x289e04>_0x356a8c){let _0x5c9aa7=_0x289e04/_0x356a8c;let _0x447f8d=_0x1df28c/_0x30207b['clientWidth'];let _0x20779b=_0x5c9aa7*(_0x4b12d4/_0x30207b['clientHeight']-0.5)+0.5;if(_0x447f8d<0x0||_0x447f8d>0x1||_0x20779b<0x0||_0x20779b>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x447f8d*0x10000,'y':_0x20779b*0x10000};}}else{let _0x86ee44=_0x356a8c/_0x289e04;let _0x19cd54=_0x86ee44*(_0x1df28c/_0x30207b['clientWidth']-0.5)+0.5;let _0x4b9d19=_0x4b12d4/_0x30207b['clientHeight'];if(_0x19cd54<0x0||_0x19cd54>0x1||_0x4b9d19<0x0||_0x4b9d19>0x1){return{'inRange':![],'x':0xffff,'y':0xffff};}else{return{'inRange':!![],'x':_0x19cd54*0x10000,'y':_0x4b9d19*0x10000};}}};MapVision['View3d']['prototype']['_normalizeAndQuantizeSigned']=function(_0x59ea37,_0x2cad52){let _0x2fec85=this;if(!_0x2fec85[_0x55d1('0xf6')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0x40f5f0=_0x2fec85['_webRtcPlayerHtmlElement'];let _0xcbd44a=_0x2fec85[_0x55d1('0xf8')][_0x55d1('0xfc')];let _0x18e3c2=_0x40f5f0[_0x55d1('0x3a')]/_0x40f5f0[_0x55d1('0xe5')];let _0x4468c8=_0xcbd44a['videoHeight']/_0xcbd44a['videoWidth'];if(_0x18e3c2>_0x4468c8){let _0x3a657d=_0x18e3c2/_0x4468c8;let _0x4d9eb8=_0x59ea37/(0.5*_0x40f5f0[_0x55d1('0xe5')]);let _0x565f1f=_0x3a657d*_0x2cad52/(0.5*_0x40f5f0[_0x55d1('0x3a')]);return{'x':_0x4d9eb8*0x7fff,'y':_0x565f1f*0x7fff};}else{let _0x4f727e=_0x4468c8/_0x18e3c2;let _0x4493da=_0x4f727e*_0x59ea37/(0.5*_0x40f5f0['clientWidth']);let _0x8d93e3=_0x2cad52/(0.5*_0x40f5f0[_0x55d1('0x3a')]);return{'x':_0x4493da*0x7fff,'y':_0x8d93e3*0x7fff};}};MapVision[_0x55d1('0x5a')]['prototype'][_0x55d1('0xb2')]=function(_0xb7749d,_0x4374da){let _0x142361=this;if(!_0x142361[_0x55d1('0xf6')]){return{'inRange':![],'x':0xffff,'y':0xffff};}let _0xfb41d0=_0x142361['_webRtcPlayerHtmlElement'];let _0x5aec8d=_0x142361['_webRtcPlayerObj']['video'];let _0x136bbd=_0xfb41d0['clientHeight']/_0xfb41d0[_0x55d1('0xe5')];let _0x53bd7e=_0x5aec8d['videoHeight']/_0x5aec8d[_0x55d1('0xae')];if(_0x136bbd>_0x53bd7e){let _0x1d2576=_0x136bbd/_0x53bd7e;let _0x2a7b10=_0xb7749d/0x10000;let _0x517c69=(_0x4374da/0x10000-0.5)/_0x1d2576+0.5;return{'x':_0x2a7b10*_0xfb41d0[_0x55d1('0xe5')],'y':_0x517c69*_0xfb41d0[_0x55d1('0x3a')]};}else{let _0x40dfc6=(_0xb7749d/0x10000-0.5)/ratio+0.5;let _0x384966=_0x4374da/0x10000;return{'x':_0x40dfc6*_0xfb41d0[_0x55d1('0xe5')],'y':_0x384966*_0xfb41d0['clientHeight']};}};MapVision['View3d']['prototype']['_onWebRtcAnswer']=function(_0x288b82){this[_0x55d1('0xf8')]['receiveAnswer'](_0x288b82);this['_webRtcPlayerObj']['onAggregatedStats']=_0x1a73e0=>{};this[_0x55d1('0xf8')][_0x55d1('0xed')](0x1*0x3e8);};MapVision[_0x55d1('0x5a')]['prototype'][_0x55d1('0xea')]=function(_0x3e1eea){if(this['_webRtcPlayerObj'])this['_webRtcPlayerObj']['handleCandidateFromServer'](_0x3e1eea);};MapVision['View3d']['prototype']['_httpRequest']=function(_0x4c67cc,_0x43b686,_0x460f21){var _0x2af26b=null;if(window['XMLHttpRequest']){_0x2af26b=new XMLHttpRequest();}else if(window[_0x55d1('0xc7')]){_0x2af26b=new ActiveXObject('Microsoft.XMLHTTP');}if(_0x2af26b==null){alert('XMLHttp');return;}var _0x4b008d=(_0x4c67cc['type']||_0x55d1('0x116'))['toUpperCase']();var _0x4fcf1e=_0x4c67cc['dataType']||'json';var _0xefda75=_0x4c67cc[_0x55d1('0x8a')]||'';var _0x411a13=_0x4c67cc[_0x55d1('0xdf')]||!![];var _0x1d5370=_0x4c67cc['data']||[];var _0x11095f='';for(var _0x4bdc7b in _0x1d5370){_0x11095f+=_0x4bdc7b+'='+_0x1d5370[_0x4bdc7b]+'&';}_0x11095f=_0x11095f==''?'':_0x11095f[_0x55d1('0xe')](0x0,_0x11095f['length']-0x1);console['log'](_0x11095f);_0x2af26b['onreadystatechange']=function(){if(_0x2af26b[_0x55d1('0x3b')]==0x4&&_0x2af26b['status']==0xc8){var _0x3569f9=JSON[_0x55d1('0xff')](_0x2af26b['responseText']);_0x43b686(_0x3569f9);}else{_0x460f21;}};if(_0x4b008d=='GET'){_0x2af26b[_0x55d1('0xac')]('GET',_0xefda75,_0x411a13);_0x2af26b[_0x55d1('0x27')](null);}else if(_0x4b008d=='POST'){_0x2af26b['open'](_0x55d1('0x9e'),_0xefda75,_0x411a13);_0x2af26b[_0x55d1('0xcd')]('Content-type',_0x55d1('0x8c'));_0x2af26b[_0x55d1('0x27')](_0x11095f);}};
